var markers = [], html_mapC = "", routeMapa = "localhost" == document.domain ? "http://desarrollowww.inegi.org.mx/app/api/cateml/Json/ageo/" : "/app/api/cateml/Json/ageo/", routeGeoJSON = "localhost" == document.domain ? "http://desarrollowww.inegi.org.mx/" : "/"; !function () { function a(a) { return new e(a) } var e = function (a) { if (a) { configura(a).init(); var e = document.querySelectorAll(a), t = 0; for (this.length = e.length, this.id = e[this.length - 1].id, this.container = a, this.servicio = C_direccionServicio, this.tk = C_token; t < this.length; t++)this[t] = e[t]; return this } return function () { this.version = "1.0.0", this.fecha = "06/05/2015", this.autor = "MAGP", this.fechaactualizacion = "04/08/2020", this.actualizacion = "AMCR" }() }; a.fn = e.prototype = { initMapav2: function (a, e, t, s, i) { var n = this; n.cargaLibrerias(); var o = n.id.toString(); n.fijaMedida(o), "dinamic" == e && n.initialize(o), i = 0 == (void 0 !== i) ? 1 : i, s = 0 == (void 0 !== s) ? 1 : s, html_mapC = "", $("#" + n.id).empty(); var r = 4 == a.length ? "00" : 12 === a.length ? a.substring(6, 8) + a.substring(9, a.length) : a.substring(6, 8), c = routeMapa + r.toString(); n.ActualizarCoordenadasGeograficas(c, r, e, o, n, t, s, i) }, getParameterByName: function (a) { a = a.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var e = new RegExp("[\\?&amp;]" + a + "=([^&amp;#]*)").exec(location.search); return null === e ? "" : decodeURIComponent(e[1].replace(/\+/g, " ")) }, cargaLibrerias: function () { "localhost" == document.domain ? this.librerias("http://desarrollowww.inegi.org.mx/componentes/biinegi/styles/estiloMapav2.min.css", "css", "estiloMapacss") : this.librerias("/componentes/biinegi/styles/estiloMapav2.min.css", "css", "estiloMapacss") }, CerrarEnvoltura: function () { }, PintaColumnaIzquierda: function (a, e) { html_mapC += 1 == e ? '<div id="mapa' + a.id + '" style="margin-bottom:15px; padding-left:0px;" class="col-xs-12 col-sm-6">' : '<div id="mapa' + a.id + '" style="margin-bottom:15px; padding-left:0px;" class="col-xs-12">' }, ActualizarCoordenadasGeograficas: function (a, e, t, s, i, n, o, r) { $.getJSON(a, null, function (a) { i.PintaColumnaIzquierda(i, r), i.actualizaMapa(a, e, t, s, n), 1 == r && i.PintaColumnaDerecha(e, o), $(i.container).html(html_mapC), html_mapC = "" }) }, fijaMedida: function (a) { }, actualizaMapa: function (a, e, t, s, i) { var n, o = 11; if (2 == e.length ? n = "00" == e ? "1," : "2," : 5 == e.length ? n = "3," : 9 == e.length && (n = "7,"), "1," == n) o = 3; else if ("2," == n) { switch (e) { case "00": o = 3; break; case "02": case "03": case "04": case "05": case "07": case "08": case "10": case "14": case "12": case "16": case "19": case "25": case "26": case "28": o = 5; break; case "07": case "20": case "21": case "23": case "24": case "30": case "31": o = 6; break; case "18": case "22": case "27": case "32": o = 7; break; case "01": case "06": case "17": case "11": case "13": case "15": case "29": o = 8; break; case "09": o = 9 }e } else "3," == n ? o = 10 : "7," == n && (o = 11); "00" == e && (lat = 23.28902, lon = -102.66056, o = 3), "static" == t && (html_mapC += '<img alt="Mapa área geográfica" class="img-responsive tag-center" src="' + routeGeoJSON + "img/servicios/agmapas/" + e + '.jpg" />'), "dinamic" == t && this.refreshMap(a[0].LATITUD_GRADOS1, a[0].LONGITUD_GRADOS1, o, void 0), 1 == i && this.PintarCoordenadasV3(a, e) }, PintaColumnaDerecha: function (a, e) { 1 == $("#tablaReusable2").length && $("#tablaReusable2").remove(), html_mapC += '<div id="colDatos" style="margin-bottom:15px;" class="col-xs-12 col-sm-6">', html_mapC += '<div id=\'tablaReusable2\' class="col-xs-12" style=" padding-left:20px;">', 1 == e && this.PintarTriptico(a), html_mapC += "</div></div>" }, PintarTriptico: function (a) { html_mapC += '<hr class="visible-xs"><div class="col-xs-12 col-sm-6 text-center-xs div-triptico"><a class="triptico" target="_blank" href="' + C_dominioBuscador + "app/areasgeograficasv2/triptico/" + a + '.pdf">Resumen de la entidad (tríptico)</a></div>', html_mapC += '<div class="col-xs-12 col-sm-6"><a target="_blank" href="' + C_dominioBuscador + "app/areasgeograficasv2/triptico/" + a + '.pdf"><img class=\'img-responsive tag-center\' src="img/sintesisest.jpg"></a></div>' }, PintarCoordenadas: function (a, e) { var t = this, s = ""; "" != a[0].LATITUD_GRADOS1 && (s += a[0].LATITUD_GRADOS1.substring(0, a[0].LATITUD_GRADOS1.indexOf(".")) + "° " + a[0].LATITUD_MINUTOS1 + "'", "" != a[0].LATITUD_GRADOS2 && (s += " - " + a[0].LATITUD_GRADOS2 + "° " + a[0].LATITUD_MINUTOS2 + "'"), s += " N "); var i = ""; (resultDato = "" != a[0].LONGITUD_GRADOS1) && (i += a[0].LONGITUD_GRADOS1.substring(0, a[0].LONGITUD_GRADOS1.indexOf(".")) + "° " + a[0].LONGITUD_MINUTOS1 + "'", "" != a[0].LONGITUD_GRADOS2 && (i += " " + a[0].LONGITUD_GRADOS2 + "° " + a[0].LONGITUD_MINUTOS2 + "'"), "en" == t.getParameterByName("lang") || -1 != document.domain.indexOf("en.") ? i += " W" : i += " O"), "en" == t.getParameterByName("lang") || -1 != document.domain.indexOf("en.") ? html_mapC += '<div class="text-center-xs text-center-sm"><span class="coord-parte-xs">Coordinates: </span><span class="coord-parte-xs" id="coordenadaValorv2' + t.container + '"><b>' + s + " " + i + "</b></span></div>" : html_mapC += '<div class="text-center-xs text-center-sm"><span class="coord-parte-xs">Coordenadas: </span><span class="coord-parte-xs" id="coordenadaValorv2' + t.container + '"><b>' + s + " " + i + "</b></span></div>", html_mapC += "</div>" }, PintarCoordenadasV3: function (a, e) { var t, s, i, n = this; "00" != e && (s = (t = a.features[0].geometry.coordinates)[0][1] + ("en" == n.getParameterByName("lang") || -1 != document.domain.indexOf("en.") ? " to " : " a ") + t[1][1], i = t[0][0] + ("en" == n.getParameterByName("lang") || -1 != document.domain.indexOf("en.") ? " to " : " a ") + t[1][0], "en" == n.getParameterByName("lang") || -1 != document.domain.indexOf("en.") ? html_mapC += '<div class="text-left-xs text-left-sm"><span class="coord-parte-xs"><b>Coordinates: </b></span><span class="coord-parte-xs" id="coordenadaValorv2' + n.container + '">Longitude ' + s + ", Latitude " + i + "</span></div>" : html_mapC += '<div class="text-left-xs text-left-sm"><span class="coord-parte-xs"><b>Coordenadas: </b></span><span class="coord-parte-xs" id="coordenadaValorv2' + n.container + '">Longitud ' + s + ", Latitud " + i + "</span></div>"), html_mapC += "</div>" }, PintarCoordenadasV2: function (a, e) { var t, s, i; "00" != e && (s = (t = a.features[0].geometry.coordinates)[0][1] + " , " + t[0][0], i = t[1][1] + " , " + t[1][0], "en" == this.getParameterByName("lang") || -1 != document.domain.indexOf("en.") ? html_mapC += '<div class="text-left-xs text-left-sm"><span class="coord-parte-xs">Coordinates: </span><span class="coord-parte-xs" id="coordenadaValorv2' + this.container + '"><b>' + s + "  -  " + i + "</b></span></div>" : html_mapC += '<div class="text-left-xs text-left-sm"><span class="coord-parte-xs">Coordenadas: </span><span class="coord-parte-xs" id="coordenadaValorv2' + this.container + '"><b>' + s + "  -  " + i + "</b></span></div>"), html_mapC += "</div>" }, librerias: function (a, e, t) { var s, i, n = t; document.getElementById(n) || (s = document.getElementsByTagName("head")[0], "css" == e ? ((i = document.createElement("link")).rel = "stylesheet", i.type = "text/css", i.id = n, i.href = a) : ((i = document.createElement("script")).type = "text/javascript", i.id = n, i.src = a), s.appendChild(i)) }, refreshMap: function (a, e, t, s) { var i = new google.maps.LatLng(a, e); map.panTo(i), map.setZoom(parseInt(t)), this.deleteMarkers(), this.addMarker(i), "" != s && this.showKML(s) }, addMarker: function (a) { var e = new google.maps.Marker({ position: a, map: map }); markers.push(e) }, setAllMap: function (a) { for (var e = 0; e < markers.length; e++)markers[e].setMap(a) }, clearMarkers: function () { this.setAllMap(null) }, deleteMarkers: function () { this.clearMarkers(), markers = [] }, showKML: function (a) { new google.maps.KmlLayer({ url: a }).setMap(map) }, RemoveAllFeatures: function () { for (var a = ge.getFeatures(); null != a.getLastChild();)a.removeChild(a.getLastChild()) }, initialize: function (a) { var e = { zoom: 3, center: new google.maps.LatLng(23.28902, -102.66056), suppressInfoWindows: !0, preserveViewport: !0, mapTypeId: google.maps.MapTypeId.ROADMAP }; map = new google.maps.Map(document.getElementById(a), e) } }, window.mapav2 || (window.mapa = a) }();