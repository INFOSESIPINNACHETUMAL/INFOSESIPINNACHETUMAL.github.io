//AMCR-07032024
var expl_escala, expl_idioma = "", expl_indicador = "", expl_ageo = "", expl_ageomult = "", expl_tratageo = "", expl_uanio = "", expl_itbl = !1, expl_bie = !1, expl_temaPadre = "", expl_vistaInicial = "grafica", expl_permiteMapa = !0, expl_desglose = "1", expl_colorGlobal = "", expl_selecAgeo = !1, expl_valor = "", expl_nombre = "", expl_verMetadato = !1, expl_inicia = !0, expl_tematica = "", expl_precision = "false", expl_esMunicipal = !1, expl_ageoCmb = "", checaPerdiodoBusq = "", expl_config = "v1_1", expl_pais = "false", array_pais = [], municipios = []; function setSizesMapa() { if (-1 !== document.URL.toLowerCase().indexOf("app/indicadores/") && void 0 !== document.getElementById("FastViewContainer") && null !== document.getElementById("FastViewContainer") && "block" === document.getElementById("FastViewContainer").style.display) { var e = "divfastview"; if ("none" !== document.getElementById("divMapaExpl" + e).style.display) if ($(window).width() < 1e3) { var t = parseInt($("#divGenM_mapaTematico" + e).height()) + 500; !1 === isNaN(t) ? $("#divMapaExpl" + e).height(t) : $("#divMapaExpl" + e).height(700), document.getElementById("divMapaExpl" + e).style.display = "block" } else $("#divMapaExpl" + e).height(500), document.getElementById("divMapaExpl" + e).style.display = "inline" } } function onCliCombo(e) { "grafica" !== expl_vistaInicial && !0 === expl_selecAgeo && ($("#btn_comparativo" + e.detail.id).show(), expl_ageo = e.detail.ageo, expl_desglose = "4" === expl_desglose ? "2" : expl_desglose, exploradorDatos(e.detail.contenedor).cargaInicial(expl_vistaInicial, e.detail.indicador)) } function onMultiChckAgeo(e) { var t, i; "true" === e.detail.continua ? (expl_selecAgeo = !1, exploradorDatos("#" + e.detail.alterno).cargaInicial(expl_vistaInicial, e.detail.indicador)) : ($("#btn_comparativo" + e.detail.alterno).show(), expl_ageomult = e.detail.ageo, "true" !== e.detail.pais && (expl_ageo = exploradorDatos("#" + e.detail.alterno).traeCheck(expl_ageomult)), expl_desglose = "4" === expl_desglose ? "2" : expl_desglose, exploradorDatos("#" + e.detail.alterno).cargaInicial(expl_vistaInicial, e.detail.indicador), "true" !== e.detail.pais ? (t = document.getElementById("combo_enti_" + e.detail.alterno).value) !== (i = expl_ageo.length > 8 ? expl_ageo.substring(0, 8) : expl_ageo) && exploradorDatos("#" + e.detail.alterno).construyeCombosAgeo(expl_ageo, e.detail.indicador) : (document.getElementById("Porpais_" + e.detail.alterno).innerText = "true", t = e.detail.ageo.split(",")[e.detail.ageo.split(",").length - 1], i = expl_ageo.length > 8 ? expl_ageo.substring(0, 8) : expl_ageo, expl_ageo = exploradorDatos("#" + e.detail.alterno).traeCheck(expl_ageomult), t !== i && exploradorDatos("#" + e.detail.alterno).construyeCombosAgeo(t, e.detail.indicador))) } !function () { var e = function (e) { return new t(e) }, t = function (e) { if (e) { configura(e).init(); var t = document.querySelectorAll(e), i = 0; for (this.length = t.length, this.id = t[this.length - 1].id, this.dominio = C_dominio, this.tk = C_token, "localhost" === document.domain ? this.imagen = C_libreriasAlpha : this.imagen = "/componentes/biinegi", this.container = e, this.servicio = C_direccionServicio_V + "_" + API_V, this.dirGrafica = C_direccionServicio_V + "_" + API_V, expl_config = API_V; i < this.length; i++)this[i] = t[i]; return this } return function () { this.version = "INEGI", this.version = "1.1.0", this.ultima_modificacion = "02.07.2019" }() }; e.fn = t.prototype = { init: function (e, t, i, a, n, l, o, d, s, r, c, p, m, u, g) { var h = this; h.cargaLibrerias(), checaPerdiodoBusq = l, document.getElementById(h.id).className = "classCarga", expl_pais = "false", "1" === n && "3" !== g && (u = !1), setTimeout(function () { expl_tematica = void 0 !== g ? g : "6", h.dirGrafica = void 0 !== g ? g : "6", -1 !== h.servicio.toUpperCase().indexOf("V1_2") && (expl_tematica = "0" === expl_tematica ? "3" : expl_tematica), -1 !== h.servicio.toUpperCase().indexOf("V1_1") && (expl_tematica = "3" === expl_tematica ? "0" : expl_tematica), expl_idioma = e, expl_colorGlobal = void 0 === m ? "" : m, expl_selecAgeo = void 0 !== u && "" !== u && JSON.parse(u), expl_indicador = t.toString(), expl_ageo = i, expl_ageomult = i, expl_tratageo = h.trataAg([i]), expl_ageoCmb = convertidorAreasGeo(h.container).init(i), expl_esMunicipal = 12 === expl_ageoCmb.length, expl_uanio = l, expl_uaniocorto = o, expl_bie = void 0 !== r && r, expl_temaPadre = c, expl_vistaInicial = p || "grafica", expl_desglose = n.toString(), expl_valor = d.trim(), expl_nombre = -1 !== a.indexOf("|") ? a.replace("|", ", ") : a, expl_verMetadato = s, "1" === expl_desglose && "comparativo" === p && (expl_vistaInicial = "grafica"), "3" === expl_desglose && "comparativo" === p && (expl_vistaInicial = "grafica"), h.consultaTienePrecision(expl_indicador, expl_tematica, expl_ageoCmb) }, 1500) }, consultaTienePrecision: function (e, t, i) { var a = this, n = a.servicio + "/indicadorPrecision/" + e + "/" + expl_tematica + "/json/" + a.tk + "?callback=?"; $.getJSON(n, null, function (n) { if (a.evento(), a.goEstructura(expl_vistaInicial, e, n, t, i), expl_selecAgeo && "3" === t) { if (a.construyeCombosAgeo(expl_ageo, e), "grafica" === expl_vistaInicial) { $("#selecAgeo_" + a.id).hide(); var l = "selecAgeoMultiple_" + a.id, o = { tematica: expl_tematica, lang: expl_idioma, ageo: expl_ageo, ind: e, alterno: a.id, desglose: expl_desglose }; cmbMultiCheck("#" + l).init(o) } } else if (expl_selecAgeo && "1" !== expl_desglose) if ("2" === expl_desglose || "3" === expl_desglose) { if (a.construyeCombosAgeo(expl_ageo, e), "grafica" === expl_vistaInicial) { $("#selecAgeo_" + a.id).hide(); l = "selecAgeoMultiple_" + a.id, o = { tematica: expl_tematica, lang: expl_idioma, ageo: expl_ageo, ind: e, alterno: a.id, desglose: expl_desglose }; cmbMultiCheck("#" + l).init(o) } } else expl_selecAgeo = !1, a.cargaInicial(expl_vistaInicial, e); else expl_selecAgeo ? a.construyeCombosAgeo(expl_ageo, e) : a.cargaInicial(expl_vistaInicial, e) }) }, goEstructura: function (e, t, i, a, n) { var l = this, o = "", d = "es" === expl_idioma ? "Exportar como " : "Export as ", s = "es" === expl_idioma ? "Opciones" : "Options", r = !0 === i ? "auto" : "280px;", c = l.container, p = ""; "1" === expl_desglose && (p = ' style="display:none;"'); var m = ""; m += '<div class="col-xs-12" style=\'padding:0px!important;\'><div class="pull-right btn-group" style="margin-top:25px; margin-right:15px;" id="divExportarExpl' + l.id + '" class=" text-right" style="display: none;">', m += '<button type="button" class="btn dropdown-toggle btnMenuOpcionesChart cls-tooltip" aria-haspopup="true" data-original-title="' + s + '" data-placement="top" data-toggle="dropdown"><span class="inegi-icono inegi-menu" aria-hidden="true"></span></button>', m += '<ul class="dropdown-menu" role="menu" style="min-width: 100px"><li><a data-toggle="tooltip" data-placement="top" data-original-title="' + d + "XLS\"><img id=\"btn_exportaXLSdivComponente\" style=\"cursor: pointer; margin-right:5px;\" onclick=\"javascript:exploradorDatos('' + contenedor + '').trataExportacion('xls','" + t + "','" + c + "'," + i + ');" src="/img/ico/ico_xls.png"></a></li>', m += '<li><a data-toggle="tooltip" data-placement="top" data-original-title="' + d + "CSV\"><img id=\"btn_exportaCSVdivComponente\" style=\"cursor: pointer;margin-right:5px;\" onclick=\"javascript:exploradorDatos('' + contenedor + '').trataExportacion('csv','" + t + "','" + c + "'," + i + '); " src="/img/ico/ico_CSV.png"></a></li>', m += "<li style='display:none;'><a><img id=\"btn_exportaPDFdivComponente\" style=\"cursor: pointer; margin-right:5px; display:none;\" onclick=\"javascript:exploradorDatos('' + contenedor + '').trataExportacion('pdf','" + t + "','" + c + "'," + i + ');" src="/img/ico/ico_pdf.png"></a></li>', m += "</ul >", m += '<div id="divExportarExpl' + l.id + '" class=" text-right" style="display: none;">', m += "</div></div>", o += '<div class="classCarga" id="gralDivExpl_' + l.id + '">', o += '<div class="fluid topExpl" id="divgral_' + t + '" style="display:none"><div role="main">', (!0 !== expl_selecAgeo || "2" !== expl_desglose && "3" !== expl_desglose) && "" !== expl_nombre && (o += '<div class="col-xs-12"><label class="titulo_indExpl notranslate" id="titulo_ind' + l.id + '"></label><label class="titulo_indExpl" id="titulo_per' + l.id + '" style="display:none;"></label></div>'), o += '<div><div><div class="panel panel-default noBorde"><div>', o += "<div ><div >", expl_selecAgeo && (o += '<div id="selecAgeo_' + l.id + '"></div>', o += '<div id="selecAgeoMultiple_' + l.id + '"></div>'), o += '<div class="btn-group derechaExpl menubuttons" id="botonesExpl' + l.id + '">', o += '<button id="btn_metadatoinfo' + l.id + '" type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnGo('btn_metadatoinfo" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" aria-label="Botón metadato"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Metadato" : "Metadata") + '">', o += '<span class="inegi-info" aria-hidden="true" style="font-size:18pt !important;"></span></button>', o += '<button id="btn_grafica' + l.id + '" type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnGo('btn_grafica" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" aria-label="Gráfica"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Gráfica" : "Chart") + '">', o += '<span class="inegi-grafica-linea" aria-hidden="true" style="font-size:18pt !important;"></span></button>', o += '<button id="btn_tabla' + l.id + '" type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnGo('btn_tabla" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" aria-label="Tabla"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Tabla" : "Table") + '">', o += '<span class="inegi-tabla" aria-hidden="true" style="font-size:18pt !important;"></span></button>', o += '<button id="btn_comparativo' + l.id + '" ' + p + ' type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnGo('btn_comparativo" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" aria-label="Comparativo"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Comparativo" : "Comparative") + '">', o += '<span class="inegi-top" aria-hidden="true" style="font-size:18pt !important;"></span></button>'; var u = "display:none;"; void 0 !== expl_temaPadre && "1120" === expl_temaPadre.substring(0, 4) && (u = ""), o += '<button id="btn_calc' + l.id + '" type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnGo('btn_calc" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" style="' + u + 'padding-left:10px !important; padding-right:10px; !important" aria-label="Cálculos"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Mapa" : "Map") + '">', o += '<span class="glyphicon_site inegi-calcest-act" aria-hidden="true" style="font-size:19pt !important; line-height:0.9 !important;"></span></button>', o += '<button id="btn_mapa' + l.id + '" type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnGo('btn_mapa" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" style="padding-left:10px !important; padding-right:10px; !important" aria-label="Mapa"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Mapa" : "Map") + '">', o += '<span class="glyphicon_site inegi-mapa" aria-hidden="true" style="font-size:19pt !important; line-height:0.9 !important;"></span></button>', o += '<button id="btn_tablero' + l.id + '" type="button" onclick="javascript:exploradorDatos(\'' + c + "').btnTablero('btn_tablero" + l.id + "','" + t + '\',event);" class="btn btn-default btn-md" style="padding-left:10px !important; padding-right:10px; !important" aria-label="Tablero"  data-toggle="tooltip" data-original-title="' + ("es" === expl_idioma ? "Tablero" : "Board") + '">', o += '<span class="glyphicon_site inegi-tablero" aria-hidden="true" style="font-size:19pt !important; line-height:0.9 !important;"></span></button>', o += "</div></div>", o += m + '<div id="nombreInd' + l.id + "\" style='display:none;'></div>", o += "</div>", o += "</div>", o += '<div class="panel-bodyExpl siBorde" >', o += '<div class="row topExpl">', o += '<div class="col-xs-12">', o += '<div id="divTablaExpl' + l.id + '" style="display:block;"><div class="row"><div></div><div class="col-xs-12"><div id="divT' + l.id + '" style="height:auto; overflow-y:hidden; width:' + r + ' display: block;"></div>', o += '</div><div class="col-xs-3"></div></div></div>', o += '<div id="divGraficaExpl' + l.id + '" style="padding-left:10px; padding-right:10px;"></div>', o += '<div id="divComparativoExpl' + l.id + '" style="padding-left:10px; padding-right:10px;"><div id="divGrafComp' + l.id + '"></div></div>', o += '<div id="divTableroExpl' + l.id + '" style="padding-left:10px; padding-right:10px;display:none;"><div id="divTableroComp' + l.id + '"></div></div>', o += '<div id="divCalcExpl' + l.id + '"></div>', o += '<div id="divMapaExpl' + l.id + '" class="divdemapa">', o += '<div id="mapaTematico' + l.id + '" data-maptem="1" class="mapTem" style="width:100%; heigth:524px;"></div> ', o += "</div>", o += "<div>", o += '<div  id="r_metadatoExpl' + l.id + '" style="display:none"><div id="divMetadatoExpl' + l.id + '"></div></div>', o += "</div>", o += '<div id="divCalInpExpl' + l.id + '" ></div> ', o += "</div>", o += "</div></div>", o += "</div></div></div></div></div></div></div></div>", o += "<iframe id=\"ifExportaMC\" style='display:none'></iframe>", o += "<div style='display:none' id=\"precision_" + l.id + '">' + i + "</div>", o += "<div style='display:none' id=\"up_" + l.id + '"></div>', o += "<div style='display:none' id=\"exp_" + l.id + '"></div>', o += "<div style='display:none' id=\"agr_" + l.id + '">' + n + "</div>", o += "<div style='display:none' id=\"Porpais_" + l.id + '">false</div>', o += "<div style='display:none' id=\"titletablero_" + l.id + '"></div>', o += "<div style='display:none' id=\"help_" + l.id + '">' + t + "_" + a + "</div>", document.getElementById(l.id).innerHTML = o, document.getElementById(l.id).className = "", setTimeout(function () { let e = new MutationObserver(function (e) { e.forEach(function (e) { "attributes" === e.type && e.target.id.startsWith("svg_mapa") && "false" !== document.getElementById("btn_mapa" + l.id).disabled && $("#btn_mapa" + l.id).attr("disabled", !1) }) }); var t = document.getElementById("mapaTematico" + l.id); null !== t && e.observe(t, { attributes: !0, childList: !1, subtree: !0 }) }, 3e3); var g = l.validaComparativo(); document.getElementById("btn_comparativo" + l.id).style.display = g }, validaComparativo: function () { var e = "block"; return "4" !== expl_desglose && "1" !== expl_desglose || (e = "none"), "true" === (expl_pais = document.getElementById("Porpais_" + this.id).innerText.toString()) && "1" === expl_desglose && (e = "block"), e }, cargaInicial: function (e, t) { if (this.checaMapa(expl_ageo, expl_valor, expl_desglose), this.traePeriodos(expl_valor, expl_ageo, t, e), !0 !== expl_selecAgeo && "" !== expl_nombre && (document.getElementById("titulo_ind" + this.id).innerText = expl_nombre, document.getElementById("titulo_per" + this.id).innerHTML = ", " + expl_uanio, document.getElementById("titulo_per" + this.id).innerText = ", " + expl_uanio), expl_verMetadato) { var i = document.getElementsByName("tabMCcollapse-Indicadores"); document.location.href = null !== i ? "#tabMCcollapse-Indicadores" : "#divMapaExpl" + this.id } }, construyeCombosAgeo: function (e, t) { var i = "", a = ""; -1 !== this.servicio.toUpperCase().indexOf("V1_3") ? expl_selecAgeo && ("1" != expl_desglose || "3" === expl_tematica ? (i = "selecAgeo_" + this.id, a = "1", areaGeo_Component(this.container).init(e, t, expl_desglose, a, expl_tematica, "combos", i, expl_ageo)) : this.cargaInicial(expl_vistaInicial, t)) : "1" != expl_desglose ? (i = "selecAgeo_" + this.id, a = "1", areaGeo_Component(this.container).init(e, t, expl_desglose, a, expl_tematica, "combos", i, expl_ageo)) : this.cargaInicial(expl_vistaInicial, t) }, rellenaAgeo: function (e) { var t = e; return 2 === e.length && (t = e + "000"), t }, trataAg: function (e) { for (var t = [], i = 0; i < e.length; i++)t.push(e[i] + "|0"); return t }, checaMapa: function (e, t, i) { var a = !1, n = !0 === JSON.parse(expl_bie) ? "3" !== expl_tematica && JSON.parse(expl_bie) : JSON.parse(expl_bie), l = this.obtieneClaveAgeo("municipal"); a = 9 !== l.length && !0 !== n && ("" !== t && ("00" === l ? parseInt(i) > 1 : parseInt(i) >= 2)), expl_permiteMapa = a, document.getElementById("btn_mapa" + this.id).style.display = a ? "inline" : "none" }, goMetadato: function (e, t) { "" === document.getElementById("divMetadatoExpl" + _this.id).innerHTML && (e.length > 0 && t.length > 0 ? (muestraInfo = !0, metadatoControlV3("#divMetadatoExpl" + _this.id).init(t.toString(), e, 0, expl_idioma, !1, expl_bie, expl_tematica), setTimeout(function () { document.getElementById("r_metadatoExpl" + _this.id).style.display = "block" }, 2e3)) : (muestraInfo = !1, document.getElementById("r_metadatoExpl" + _this.id).style.display = "none")) }, traePeriodos: function (e, t, i, a) { var n = this, l = document.getElementById("help_" + n.id).innerHTML.trim().split("_")[1], o = -1 !== n.servicio.toUpperCase().indexOf("V1_3") && "3" === l ? "null" : t, d = -1 !== n.servicio.toUpperCase().indexOf("V1_2") || -1 !== n.servicio.toUpperCase().indexOf("V1_3") ? n.servicio + "/API.svc/PeriodoA/" + o + "/null/null/es/0/0/" + i + "/null/null/null/" + l + "/json/" + n.tk + "?callback=?" : n.servicio + "/PeriodoA/" + t + "/null/null/es/0/0/" + i + "/null/null/null/json/" + n.tk + "?callback=?"; if (d.length > 250) { var s = { areaGeografica: -1 !== n.servicio.toUpperCase().indexOf("V1_2") || -1 !== n.servicio.toUpperCase().indexOf("V1_3") ? o : t, tema: "null", indicadoresPrincipales: "null", idioma: "es", programa_ciclo: "0", ambito_Sec: "0", indicadoresSeleccionados: i, letra: "null", busqueda: "null", frecuencia: "null", tematica: l, formato: "json", token: n.tk }, r = JSON.stringify(s); $.ajax({ method: "POST", url: n.servicio + "/API.svc/PeriodoA", contentType: "application/json; charset=utf-8", dataType: "json", data: r, processData: !0, success: function (t) { n.callbackPeriodos(t, e, a, i) }, error: function (e, t, i) { console.log(t, i) } }) } else $.getJSON(d, null, function (t) { n.callbackPeriodos(t, e, a, i) }) }, callbackPeriodos: function (e, t, i, a) { var n = !0, l = this.remueve(t), o = isNaN(l.toString()); if (void 0 === e.ErrorCode) { var d = e[e.length - 1]; document.getElementById("up_" + this.id).innerText = d, 1 === e.length && (o || "0" === t || "0.0" === t || "" === t) && (n = !1), this.explora(n, i, a) } else { var s = this.container; n = !1, null !== document.getElementById("divMetadatoExpl" + this.id) && ($("#divMetadatoExpl" + this.id)[0].innerHTML = ""), $(s)[0].innerHTML = "Ocurrió un error inesperado, favor de intentar más tarde", this.registraEvento() } }, remueve: function (e) { var t = this.replaceAll(e, ",", ""), i = this.replaceAll(t, " ", ""); return i = this.replaceAll(i, ".", "") }, replaceAll: function (e, t, i) { return e.replace(new RegExp(this.escapeRegExp(t), "g"), i) }, explora: function (e, t, i) { switch (!1 === e && $("#btn_tabla" + this.id).addClass("active"), t + this.id) { case "grafica" + this.id: this.validaGrafica(e, i); break; case "tabla" + this.id: this.btnGo("btn_tabla" + this.id, i, event), this.registraEvento(); break; case "metadato" + this.id: this.btnGo("btn_metadatoinfo" + this.id, i, event), this.registraEvento(); break; case "comparativo" + this.id: this.btnGo("btn_comparativo" + this.id, i, event), this.registraEvento(); break; case "mapa" + this.id: expl_permiteMapa ? (this.btnGo("btn_mapa" + this.id, i, event), this.registraEvento()) : this.validaGrafica(e, i); break; default: this.validaGrafica(e, i) } }, validaGrafica: function (e, t) { e ? this.btnGo("btn_grafica" + this.id, t, event) : (expl_itbl = !0, document.getElementById("btn_grafica" + this.id).style.display = "none", $("#btn_tabla" + this.id).trigger("click"), document.getElementById("gralDivExpl_" + this.id).className = "classDiv", document.getElementById("divgral_" + t).style.display = "block") }, collapseMetadato: function (e) { this.container; var t = "es" === expl_idioma ? "Ver más información" : "Show more information", i = "es" === expl_idioma ? "Ver menos información" : "Show less information"; $(".clp_metadato").slideUp(), $(".expandirMD").find("span").removeClass("glyphicon-triangle-top"), $(".expandirMD").find("span").addClass("glyphicon-triangle-bottom"), $(".expandirMD").find("p").html('<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="margin-right: 5px;"></span>' + t), $(".clp_metadato").is(":visible") || ($(".clp_metadato").slideDown(), $(".expandirMD").find("span").removeClass("glyphicon-triangle-bottom"), $(".expandirMD").find("span").addClass("glyphicon-triangle-top"), $(".expandirMD").find("p").html('<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="margin-right: 5px;"></span>' + i)) }, openMetadato: function (e) { }, traeCheck: function (e) { var t = e.split(","), i = t[t.length - 1]; return i.length > 8 ? i.substring(0, 8) : i }, checaGrafica: function (e, t, i) { var a = "selecAgeoMultiple_" + this.id, n = ""; void 0 !== document.getElementById(a) && null !== document.getElementById(a) && (n = this.traeCheck(expl_ageomult)), expl_pais = document.getElementById("Porpais_" + this.id).innerText.toString(), n = void 0 === n || "" === n ? "true" === expl_pais ? this.traeCheck(expl_ageomult) : expl_ageo : n, expl_vistaInicial = "grafica", this.centraTabla(!1), document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md menubuttons active", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_comparativo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_metadatoinfo" + this.id).className = "btn btn-default btn-md", null !== document.getElementById("divTablaExpl" + this.id) && (document.getElementById("divTablaExpl" + this.id).style.display = "none"), document.getElementById("divComparativoExpl" + this.id).style.display = "none", document.getElementById("divMapaExpl" + this.id).style.display = "none", document.getElementById("r_metadatoExpl" + this.id).style.display = "none", document.getElementById("divExportarExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "none", n !== expl_ageo ? expl_selecAgeo ? ("2" === expl_desglose && (expl_ageomult = expl_ageo), cmbMultiCheck("#" + a).checaCombo(expl_ageo, expl_desglose, a, expl_indicador)) : (this.goGrafica(t), document.getElementById("gralDivExpl_" + this.id).className = "classDiv", document.getElementById("divgral_" + t).style.display = "block") : (document.getElementById("divGraficaExpl" + this.id).style.display = "inline", document.getElementById("botonesExpl" + this.id).style.display = "inline", expl_selecAgeo ? ($("#selecAgeoMultiple_" + this.id).show(), this.goGraficaMultiple(t)) : this.goGrafica(t), document.getElementById("gralDivExpl_" + this.id).className = "classDiv", document.getElementById("divgral_" + t).style.display = "block") }, generaEstructuraTablero: function (e, t) { var i = this, a = !1, n = !1, l = document.createElement("div"); l.className = "container-fluid"; var o = document.createElement("div"); o.className = "row"; var d = document.createElement("div"); d.className = "col-xs-12"; var s = document.createElement("label"); s.style.textAlign = "left", s.style.display = "none", s.id = "tituloTablero", d.appendChild(s); var r = document.createElement("button"); r.type = "button", r.className = "close", r.style.opacity = "initial", r.style.float = "right", r.id = "btn_zoom", r.setAttribute("data-toggle", "tooltip"), r.setAttribute("data-original-title", "es" === expl_idioma ? "Expandir" : "Expand"), r.setAttribute("onclick", "javascript:exploradorDatos('" + i.container + "').tableroDisplay()"); var c = document.createElement("span"); c.className = "inegi-extender", c.id = "spancol1", r.appendChild(c), d.appendChild(r), o.appendChild(d), l.appendChild(o); var p = document.createElement("div"); p.className = "row", l.appendChild(p); var m = document.createElement("div"); m.className = "col-md-6 col-xs-12 espcolumna", m.id = "colTabla"; var u = document.createElement("div"); u.className = "card info-card sales-card", u.id = "tabl_tabla_" + e; var g = document.createElement("div"); g.className = "filter"; var h = document.createElement("div"); h.className = "card-body", h.style.maxHeight = "max-content"; var x = document.createElement("label"); x.className = "texto", x.innerText = "es" === expl_idioma ? "Tabla" : "Table", h.appendChild(x); var b = document.createElement("div"); if (b.id = "tabl_tbl-bdy", h.appendChild(b), u.appendChild(g), u.appendChild(h), m.appendChild(u), p.appendChild(m), expl_permiteMapa) { n = !0; var v = document.createElement("div"); v.className = "col-md-6 col-xs-12 espcolumna", v.id = "colMapa", v.style.height = "820px"; var _ = document.createElement("div"); _.className = "card info-card sales-card", _.id = "tabl_mapa_" + e; var E = document.createElement("div"); E.className = "filter"; var y = document.createElement("div"); y.className = "card-body", y.style.height = "820px", y.style.maxHeight = "max-content", y.style.overflowY = "hidden"; var f = document.createElement("label"); f.className = "texto", f.innerText = "es" === expl_idioma ? "Mapa" : "Map", y.appendChild(f); var I = document.createElement("div"); I.id = "tabl_mapa-bdy", y.appendChild(I), _.appendChild(E), _.appendChild(y), v.appendChild(_), p.appendChild(v) } var C = document.createElement("div"); C.className = "col-md-6 col-xs-12 espcolumna", C.id = "colGrafica"; var B = document.createElement("div"); B.className = "card info-card sales-card", B.id = "tabl_grafica_" + e; var A = document.createElement("div"); A.className = "filter"; var M = document.createElement("div"); M.className = "card-body"; var T = document.createElement("label"); T.className = "texto", T.innerText = "es" === expl_idioma ? "Gráfica" : "Chart", M.appendChild(T); var G = document.createElement("div"); if (G.id = "tabl_gra-bdy", M.appendChild(G), B.appendChild(A), B.appendChild(M), C.appendChild(B), p.appendChild(C), "none" !== i.validaComparativo()) { a = !0; var N = document.createElement("div"); N.className = "col-md-6 col-xs-12 espcolumna"; var w = document.createElement("div"); w.className = "card info-card sales-card", w.id = "tabl_compara_" + e; var O = document.createElement("div"); O.className = "filter"; var $ = document.createElement("div"); $.className = "card-body"; var S = document.createElement("label"); S.className = "texto", S.innerText = "es" === expl_idioma ? "Comparativo" : "Comparative", $.appendChild(S); var j = document.createElement("div"); j.id = "tabl_comp-bdy", $.appendChild(j), w.appendChild(O), w.appendChild($), N.appendChild(w), p.appendChild(N) } document.getElementById("divTableroComp" + i.id).appendChild(l), setTimeout(function () { i.llamaComponentes(e, t, a, n, !1) }, 1500) }, btnTablero: function (e, t, i) { "" !== document.getElementById("divTableroComp" + this.id).innerHTML && $("#divTableroComp" + this.id).contents().remove(), $("#selecAgeoMultiple_" + this.id).hide(), $("#selecAgeo_" + this.id).hide(), this.btnsTablero(), this.generaEstructuraTablero(e, t) }, llamaComponentes: function (e, t, i, a, n) { var l = this, o = document.getElementById("titletablero_" + l.id).innerText, d = JSON.parse(document.getElementById("precision_" + l.id).innerHTML.trim()), s = expl_ageo.toString(), r = new CuadroComponente, c = { ind: t.toString(), ag: s.toString(), tc: "8", mf: "false", mn: "false", mu: "true", ec: "2", ord: "pd", mse: "true", lang: expl_idioma, mce: "true", tematica: expl_tematica, callback: function () { setTimeout(function () { var e = $("#colTabla").height(); if (e < 710 ? $("#colMapa").height(820) : $("#colMapa").height(e), a) { var n = l.servicio + "/MetadatoIndicador/" + expl_idioma + "/" + t + "/0700/null/null/null/" + expl_tematica + "/json/" + l.tk + "?callback=?"; $.getJSON(n, null, function (e) { "" === o && (o = e.NOMBRE_INDICADOR + ("" !== e.NOMBRE_UNIDAD && null !== e.NOMBRE_UNIDAD ? " (" + e.NOMBRE_UNIDAD + ")" : "")); var i = e.CIFRAS_ESTATUS, a = i.length > 0 ? i[i.length - 1].periodos : document.getElementById("up_" + l.id).innerText, n = {}; n.id = "tabl_mapa-bdy", n.indica = t, n.ageo = "00", n.pf = a, n.muv = !0, n.mum = !0, n.mf = !0, n.fadd = [{ nombreF: "Fuente adicional", url: "https://www.inegi.org.mx" }], n.tm = expl_tematica, crearMapaTematicoD3(n) }) } setTimeout(function () { !1 === i && $("#colGrafica").removeClass().addClass("col-xs-12 espcolumna"); var e = {}, a = new GeneraGrafica; if (e.ind = t, e.mn = "false", e.mf = "false", e.cbs = "false", e.mu = "true", e.dop = 1, e.mfpu = "rango", e.lang = expl_idioma, e.tematica = expl_tematica, "" !== expl_colorGlobal && (e.cls = expl_colorGlobal), expl_selecAgeo) !0 === d ? (e.tg = "Barra.B", e.eb = "true", e.tc = "precision") : (-1 !== window.location.href.indexOf("/app/indicesdeprecios/Estructura.aspx") ? e.export = !1 : e.export = !0, e.ag = expl_ageomult, e.tg = "Linea.L", expl_ageomult.split(",").length >= 2 ? e.switch = !1 : e.switch = !0); else { e.tg = l.buscaTipoGrafica(t, expl_ageo, "Linea"), e.ix = expl_escala.toString(); var n = ""; n = "*" === expl_ageo || "'" === expl_ageo ? expl_ageo.substring(1, expl_ageo.length - 1) : expl_ageo, e.ag = n, !0 === d ? (e.tg = "Barra.B", e.eb = "true", e.tc = "precision") : (-1 !== window.location.href.indexOf("/app/indicesdeprecios/Estructura.aspx") ? e.export = !1 : e.export = !0, e.switch = !0) } e.callback = function () { if (i) if (expl_esMunicipal) if (0 === municipios.length) { var e = expl_ageo; expl_ageo.length > 8 && (e = ageoinicial.substring(6, 8)); var a = l.servicio + "/API.svc/CatalogoAreaGeograficaV3/" + e + "/" + t + "/null/null/" + expl_tematica + "/1/json/" + l.tk + "?callback=?"; $.getJSON(a, null, function (e) { for (var i = e[0].AREAS_GEOGRAFICAS_DEPENDIENTES, a = 0; a < i.length; a++)municipios.push(i[a].AREA_GEOGRAFICA), l.tableroComparativo(municipios, t) }) } else l.tableroComparativo(municipios, t); else l.tableroComparativo(municipios, t) }, a.CargaParametros("tabl_gra-bdy", e) }, 1500) }, 1500) } }; if (!0 === d && (c.tc = "precision", c.eb = "true", c.idtema = 12), r.GeneraCuadro(c, "tabl_tbl-bdy"), "" === o) { var p = l.servicio + "/MetadatoIndicador/" + expl_idioma + "/" + t + "/0700/null/null/null/" + expl_tematica + "/json/" + l.tk + "?callback=?"; $.getJSON(p, null, function (e) { o = e.NOMBRE_INDICADOR + ("" !== e.NOMBRE_UNIDAD && null !== e.NOMBRE_UNIDAD ? " (" + e.NOMBRE_UNIDAD + ")" : ""), document.getElementById("tituloTablero").innerText = o }) } else document.getElementById("tituloTablero").innerText = o }, tableroComparativo: function (e, t) { var i = new GeneraGrafica, a = { tg: "Barra.A", mn: "false", mf: "false", cbs: "false", mu: "true", dop: 1, ord: "n", ox: "h", o: "h" }; a.lang = expl_idioma, a.tematica = expl_tematica, a.ind = t.toString(), "" !== expl_colorGlobal && (a.cls = expl_colorGlobal), expl_esMunicipal ? (a.pagcat = "true", a.ag = e.join(",")) : (a.ind.length < 10 ? a.ag = "0" : a.ag = "entidades", "true" === (expl_pais = document.getElementById("Porpais_" + this.id).innerText.toString()) && (array_pais.length > 0 ? a.ag = array_pais.join(",") : a.ag = "entidades")), i.CargaParametros("tabl_comp-bdy", a) }, btnsTablero: function () { document.getElementById("divTablaExpl" + this.id).style.display = "none", document.getElementById("divGraficaExpl" + this.id).style.display = "none", document.getElementById("divComparativoExpl" + this.id).style.display = "none", document.getElementById("divMapaExpl" + this.id).style.display = "none", document.getElementById("r_metadatoExpl" + this.id).style.display = "none", document.getElementById("botonesExpl" + this.id).style.display = "inline", document.getElementById("divExportarExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "none", document.getElementById("divTableroExpl" + this.id).style.display = "inline", document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md menubuttons", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md ", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_comparativo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_metadatoinfo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_tablero" + this.id).className = "btn btn-default btn-md menubuttons active" }, tableroDisplay: function () { "inegi-extender" === document.getElementById("spancol1").className ? this.tableroGo() : this.tableroCierra() }, tableroCierra: function () { "inegi-estrechar" === document.getElementById("spancol1").className ? ($("body").removeClass("quitaScroll"), $("#divTableroComp" + this.id).removeClass(), $("#spancol1").removeClass("inegi-estrechar").addClass("inegi-extender"), $("#btn_zoom").attr("data-original-title", "es" === expl_idioma ? "Expandir" : "Expand"), $("#tituloTablero").hide(), setTimeout(function () { var e = $("#colTabla").height(); e < 710 ? $("#colMapa").height(820) : $("#colMapa").height(e) }, 1500)) : this.tableroGo() }, tableroGo_respaldo: function () { $("#divTableroComp" + this.id).addClass("allPantalla"), $("body").addClass("quitaScroll"), $("#spancol1").removeClass("inegi-extender").addClass("inegi-estrechar"), $("#btn_zoom").attr("data-original-title", "es" === expl_idioma ? "Reducir" : "Reduce"), $("#tituloTablero").show(), setTimeout(function () { var e = $("#colTabla").height(); e < 710 ? $("#colMapa").height(820) : $("#colMapa").height(e) }, 1500) }, tableroGo: function () { $("#divTableroComp" + this.id).addClass("allPantalla"), $("body").addClass("quitaScroll"), $("#spancol1").removeClass("inegi-extender").addClass("inegi-estrechar"), $("#btn_zoom").attr("data-original-title", "es" === expl_idioma ? "Reducir" : "Reduce"), $("#tituloTablero").show(), setTimeout(function () { var e = $("#colTabla").height(); e < 710 ? $("#colMapa").height(820) : $("#colMapa").height(e) }, 1500) }, btnGo: function (e, t, i) { if ($("#btn_mapa" + this.id).attr("disabled", !1), e === "btn_grafica" + this.id) document.getElementById("divTableroExpl" + this.id).style.display = "none", $("#selecAgeoMultiple_" + this.id).hide(), $("#selecAgeo_" + this.id).hide(), this.checaGrafica(e, t, i); else { switch ($("#selecAgeo_" + this.id).show(), $("#selecAgeoMultiple_" + this.id).hide(), e) { case "btn_metadatoinfo" + this.id: expl_vistaInicial = "metadato", this.centraTabla(!1), expl_selecAgeo && $("#selecAgeo_" + this.id).show(), document.getElementById("divTablaExpl" + this.id).style.display = "none", document.getElementById("divGraficaExpl" + this.id).style.display = "none", document.getElementById("divComparativoExpl" + this.id).style.display = "none", document.getElementById("divMapaExpl" + this.id).style.display = "none", document.getElementById("r_metadatoExpl" + this.id).style.display = "inline", document.getElementById("botonesExpl" + this.id).style.display = "inline", document.getElementById("divExportarExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "none", document.getElementById("divTableroExpl" + this.id).style.display = "none", metadatoControlV3("#divMetadatoExpl" + this.id).init(expl_ageo.toString(), t, 0, expl_idioma, !1, expl_bie, expl_tematica), document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md menubuttons", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md ", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_comparativo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_metadatoinfo" + this.id).className = "btn btn-default btn-md menubuttons active", document.getElementById("btn_tablero" + this.id).className = "btn btn-default btn-md"; break; case "btn_tabla" + this.id: this.centraTabla(!0), expl_vistaInicial = "tabla", document.getElementById("divTablaExpl" + this.id).style.display = "inline", document.getElementById("divGraficaExpl" + this.id).style.display = "none", document.getElementById("divComparativoExpl" + this.id).style.display = "none", document.getElementById("divMapaExpl" + this.id).style.display = "none", document.getElementById("botonesExpl" + this.id).style.display = "inline", document.getElementById("divExportarExpl" + this.id).style.display = "block", document.getElementById("r_metadatoExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "none", document.getElementById("divTableroExpl" + this.id).style.display = "none", metadatoControlV3("#divMetadatoExpl" + this.id).init(expl_ageo.toString(), t, 0, expl_idioma, !1, expl_bie, expl_tematica), document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md menubuttons active", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_comparativo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_metadatoinfo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_tablero" + this.id).className = "btn btn-default btn-md", this.goTabla(t); break; case "btn_comparativo" + this.id: this.centraTabla(!1), expl_vistaInicial = "comparativo", document.getElementById("divTablaExpl" + this.id).style.display = "none", document.getElementById("divGraficaExpl" + this.id).style.display = "none", document.getElementById("divComparativoExpl" + this.id).style.display = "inline", document.getElementById("divMapaExpl" + this.id).style.display = "none", document.getElementById("r_metadatoExpl" + this.id).style.display = "none", document.getElementById("botonesExpl" + this.id).style.display = "inline", document.getElementById("divExportarExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "none", document.getElementById("divTableroExpl" + this.id).style.display = "none", document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md menubuttons", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_comparativo" + this.id).className = "btn btn-default btn-md menubuttons active", document.getElementById("btn_metadatoinfo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_tablero" + this.id).className = "btn btn-default btn-md", expl_esMunicipal ? this.pintaGraficaComparativoMunicipal(t) : this.pintaGraficaComparativo(t); break; case "btn_mapa" + this.id: this.centraTabla(!1), expl_vistaInicial = "mapa", document.getElementById("r_metadatoExpl" + this.id).style.display = "none", document.getElementById("divTablaExpl" + this.id).style.display = "none", document.getElementById("divComparativoExpl" + this.id).style.display = "none", document.getElementById("divGraficaExpl" + this.id).style.display = "none", document.getElementById("divMapaExpl" + this.id).style.display = "inline", document.getElementById("botonesExpl" + this.id).style.display = "inline", document.getElementById("divExportarExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "none", document.getElementById("divTableroExpl" + this.id).style.display = "none", document.getElementById("btn_comparativo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md menubuttons active", document.getElementById("btn_metadatoinfo" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_tablero" + this.id).className = "btn btn-default btn-md", this.goMapa(t, i); break; case "btn_calc" + this.id: this.centraTabla(!1), document.getElementById("r_metadatoExpl" + this.id).style.display = "none", document.getElementById("divTablaExpl" + this.id).style.display = "none", document.getElementById("divComparativoExpl" + this.id).style.display = "none", document.getElementById("divGraficaExpl" + this.id).style.display = "none", document.getElementById("divMapaExpl" + this.id).style.display = "none", document.getElementById("botonesExpl" + this.id).style.display = "inline", document.getElementById("divExportarExpl" + this.id).style.display = "none", document.getElementById("divCalcExpl" + this.id).style.display = "inline", document.getElementById("divTableroExpl" + this.id).style.display = "none", document.getElementById("btn_tabla" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_grafica" + this.id).className = "btn btn-default btn-md", document.getElementById("btn_mapa" + this.id).className = "btn btn-default btn-md menubuttons", document.getElementById("btn_tablero" + this.id).className = "btn btn-default btn-md", BIINEGICalculadoraINP("#divCalcExp" + this.id).init(t, "ccc", "ccc", "", "", "", "", "Mensual", expl_temaPadre) }document.getElementById("gralDivExpl_" + this.id).className = "classDiv", document.getElementById("divgral_" + t).style.display = "block" } }, centraTabla: function (e) { if (null !== document.getElementById("divT" + this.id)) { var t = document.getElementById("divT" + this.id).className; e ? -1 === t.indexOf("center-table") && (document.getElementById("divT" + this.id).className = t += "center-table") : document.getElementById("divT" + this.id).className = t.replace("center-table", "") } }, goTabla: function (e) { var t = this; if (expl_selecAgeo && $("#selecAgeo_" + t.id).show(), $("#btn_tabla" + t.id).attr("disabled", "disabled"), null !== document.getElementById("titulo_per" + t.id) && (document.getElementById("titulo_per" + t.id).style.display = "none"), e.length > 0 && expl_ageo.length > 0) { var i = expl_ageo.toString(), a = (document.getElementById("divT" + t.id).innerHTML = "", new CuadroComponente), n = { ind: e.toString(), ag: i.toString(), tc: "8", mf: "false", mn: "false", mu: "true", ec: "2", ord: "pd", mse: "true", lang: expl_idioma, mce: "true", tematica: expl_tematica, callback: function () { $("#btn_tabla" + t.id).attr("disabled", !1) } }; !0 === JSON.parse(document.getElementById("precision_" + t.id).innerHTML.trim()) && (n.tc = "precision", n.eb = "true", n.idtema = 12), a.GeneraCuadro(n, "divT" + t.id) } expl_itbl && (null !== document.getElementById("divT" + t.id) && (t.registraEvento(), expl_itbl = !1)) }, goGrafica: function (e) { expl_selecAgeo && $("#selecAgeo_" + this.id).show(), $("#btn_grafica" + this.id).attr("disabled", "disabled"), null !== document.getElementById("titulo_per" + this.id) && (document.getElementById("titulo_per" + this.id).style.display = "none"); var t = expl_ageo.toString(); this.consultaFrecuencia(e, t, !1) }, goGraficaMultiple: function (e) { $("#selecAgeo_" + this.id).hide(), $("#btn_grafica" + this.id).attr("disabled", "disabled"), null !== document.getElementById("titulo_per" + this.id) && (document.getElementById("titulo_per" + this.id).style.display = "none"), this.pintaGraficaMultiple() }, pintaGraficaMultiple: function (e) { var t = this, i = {}; if (i.ind = expl_indicador, i.ag = expl_ageomult, i.tg = "Linea.L", i.mn = "false", i.mf = "false", i.cbs = "false", i.mu = "true", i.lang = expl_idioma, i.dop = 1, i.mfpu = "rango", "" !== expl_colorGlobal && (i.cls = expl_colorGlobal), -1 !== t.servicio.toUpperCase().indexOf("V1_2") || -1 !== t.servicio.toUpperCase().indexOf("V1_3")) { var a = document.getElementById("help_" + t.id).innerHTML.trim().split("_")[1]; i.tematica = a } !0 === JSON.parse(document.getElementById("precision_" + t.id).innerHTML.trim()) ? (i.tg = "Barra.B", i.eb = "true", i.tc = "precision") : (-1 !== window.location.href.indexOf("/app/indicesdeprecios/Estructura.aspx") ? i.export = !1 : i.export = !0, expl_ageomult.split(",").length >= 2 ? i.switch = !1 : i.switch = !0), i.callback = function () { $("#btn_grafica" + t.id).attr("disabled", !1) }, (new GeneraGrafica).CargaParametros("divGraficaExpl" + t.id, i), null !== document.getElementById("containerdivGraficaExpl" + t.id) && t.registraEvento() }, goMapa: function (e, t) { e.length > 0 && expl_ageo.length > 0 && expl_uanio.length > 0 && ($("#selecAgeo_" + this.id).hide(), $("#btn_mapa" + this.id).attr("disabled", "disabled"), $("#mapaTematico" + this.id).contents().remove(), $("#mapaTematico" + this.id).html(), setSizesMapa(), null !== document.getElementById("titulo_per" + this.id) && (document.getElementById("titulo_per" + this.id).style.display = "none"), this.nuevollamadoMapa(e), this.setSizeMCMapa()) }, checaPeriodo: function (e) { var t, i = this, a = -1 != i.servicio.toUpperCase().indexOf("V1_2") || -1 != i.servicio.toUpperCase().indexOf("V1_3") ? i.servicio + "/MetadatoIndicador/" + expl_idioma + "/" + e + "/0700/null/null/null/" + expl_tematica + "/json/" + i.tk + "?callback=?" : i.servicio + "/MetadatoIndicador/" + expl_idioma + "/" + e + "/0700/null/null/" + expl_tematica + "/json/" + i.tk + "?callback=?"; document.getElementById("titletablero_" + i.id).innerText; $.getJSON(a, null, function (a) { a.NOMBRE_INDICADOR + ("" !== a.NOMBRE_UNIDAD && null !== a.NOMBRE_UNIDAD ? " (" + a.NOMBRE_UNIDAD + ")" : ""); var n = a.CIFRAS_ESTATUS; t = n.length > 0 ? n[n.length - 1].periodos : document.getElementById("up_" + i.id).innerText; var l = {}; l.id = "mapaTematico" + i.id, l.indica = e, l.ageo = "00", l.pf = t, l.muv = !0, l.mum = !0, l.mf = !0, l.fadd = [{ nombreF: "Fuente adicional", url: "https://www.inegi.org.mx" }], l.tm = expl_tematica, crearMapaTematicoD3(l) }) }, nuevollamadoMapa: function (e) { this.checaPeriodo(e) }, obtieneClaveAgeo: function (e) { var t = ""; return expl_ageo.indexOf("0700") > -1 ? ("nacional_estatal" === e && (t = 4 === expl_ageo.length ? "00" : expl_ageo.substring(6, 8)), "municipal" === e && (t = 4 === expl_ageo.length ? "00" : expl_ageo.substring(6, 8) + expl_ageo.substring(9, expl_ageo.length))) : 2 === expl_ageo.length ? ("nacional_estatal" === e && (t = expl_ageo), "municipal" === e && (t = expl_ageo)) : 5 === expl_ageo.length && ("nacional_estatal" === e && (t = expl_ageo.substring(0, 2)), "municipal" === e && (t = expl_ageo)), t }, obtieneClaveNacional: function (e) { var t = ""; return expl_ageo.indexOf("0700") > -1 ? ("nacional_estatal" === e && (t = 4 === expl_ageo.length ? "00" : expl_ageo.substring(6)), "municipal" === e && (t = 4 === expl_ageo.length ? "00" : expl_ageo.substring(6, 8) + expl_ageo.substring(9, expl_ageo.length))) : 2 === expl_ageo.length ? ("nacional_estatal" === e && (t = expl_ageo), "municipal" === e && (t = expl_ageo)) : 5 === expl_ageo.length && ("nacional_estatal" === e && (t = expl_ageo.substring(0, 2)), "municipal" === e && (t = expl_ageo)), t }, consultaFrecuencia: function (e, t, i) { var a = this, n = document.getElementById("help_" + a.id).innerHTML.trim().split("_")[1], l = -1 !== a.servicio.toUpperCase().indexOf("V1_2") || -1 !== a.servicio.toUpperCase().indexOf("V1_3") ? a.servicio + "/indicador/" + e + "/" + t + "/" + expl_idioma + "/false/" + n + "/json/" + a.tk + "?callback=?" : a.servicio + "/indicador/" + e + "/" + t + "/" + expl_idioma + "/false/json/" + a.tk + "?callback=?"; $.getJSON(l, null, function (n) { a.calculaEscala(n, e, t, i) }) }, calculaEscala: function (e, t, i, a) { if (void 0 === e.ErrorCode) { if (null !== e.MetaData) { var n; n = null !== e.MetaData.Factor && "" !== e.MetaData.Factor ? "(" + e.MetaData.Factor + ("es" === expl_idioma ? " de " : " of ") + e.MetaData.Unit + ")" : "(" + e.MetaData.Unit + ") " + expl_nombre, document.getElementById("exp_" + this.id).innerText = n; var l = e.MetaData.Name; document.getElementById("nombreInd" + this.id).innerHTML = l; var o = e.Data.Serie.length, d = 1; o > 10 && (d = parseInt(o / 10)), d < 1 && (d = 1), expl_escala = d, a ? this.pintaGraficaMultiple(d) : this.pintaGraficaFin(t, i, d) } } else console.log(e) }, pintaGraficaFin: function (e, t, i) { var a = this, n = t.substring(0, 1), l = new GeneraGrafica, o = {}; o.ind = e; var d = ""; if (d = "*" === n || "'" === n ? t.substring(1, t.length - 1) : t, o.ag = d, o.tg = a.buscaTipoGrafica(e, t, "Linea"), o.mn = "false", o.mf = "false", o.cbs = "false", o.mu = "true", o.dop = 1, o.mfpu = "rango", "" !== expl_colorGlobal && (o.cls = expl_colorGlobal), o.ix = i.toString(), o.lang = expl_idioma, -1 !== a.servicio.toUpperCase().indexOf("V1_2") || -1 !== a.servicio.toUpperCase().indexOf("V1_3")) { var s = document.getElementById("help_" + a.id).innerHTML.trim().split("_")[1]; o.tematica = s } !0 === JSON.parse(document.getElementById("precision_" + a.id).innerHTML.trim()) ? (o.tg = "Barra.B", o.eb = "true", o.tc = "precision") : (-1 !== window.location.href.indexOf("/app/indicesdeprecios/Estructura.aspx") ? o.export = !1 : o.export = !0, o.switch = !0), o.callback = function () { $("#btn_grafica" + a.id).attr("disabled", !1) }, l.CargaParametros("divGraficaExpl" + a.id, o), null !== document.getElementById("containerdivGraficaExpl" + a.id) && a.registraEvento() }, pintaGraficaComparativo: function (e) { var t = this; $("#selecAgeo_" + t.id).hide(), $("#btn_comparativo" + t.id).attr("disabled", "disabled"); var i = new GeneraGrafica, a = {}; if (a.ind = e.toString(), a.ind.length < 10 ? a.ag = "0" : a.ag = "entidades", "true" === (expl_pais = document.getElementById("Porpais_" + t.id).innerText.toString()) && (array_pais.length > 0 ? a.ag = array_pais.join(",") : a.ag = "entidades"), a.tg = "Barra.A", a.mn = "false", a.mf = "false", a.cbs = "false", a.mu = "true", a.dop = 1, a.ord = "n", a.ox = "h", a.o = "h", a.callback = function () { $("#btn_comparativo" + t.id).attr("disabled", !1) }, "" !== expl_colorGlobal && (a.cls = expl_colorGlobal), a.lang = expl_idioma, -1 !== t.servicio.toUpperCase().indexOf("V1_2") || -1 !== t.servicio.toUpperCase().indexOf("V1_3")) { var n = document.getElementById("help_" + t.id).innerHTML.trim().split("_")[1]; a.tematica = n } i.CargaParametros("divGrafComp" + t.id, a), null !== document.getElementById("divGrafComp" + t.id) && (document.getElementById("divComparativoExpl" + t.id).style.height = "580px", document.getElementById("divGrafComp" + t.id).style.height = "580px") }, pintaGraficaComparativoMunicipal: function (e) { var t = this; municipios = [], $("#selecAgeo_" + t.id).hide(), $("#btn_comparativo" + t.id).attr("disabled", "disabled"); var i = document.getElementById("agr_" + t.id).innerText.trim(); if (i.length > 8) { var a = i.substring(6, 8), n = t.servicio + "/API.svc/CatalogoAreaGeograficaV3/" + a + "/" + e + "/null/null/" + expl_tematica + "/1/json/" + t.tk + "?callback=?"; $.getJSON(n, null, function (i) { for (var a = i[0].AREAS_GEOGRAFICAS_DEPENDIENTES, n = 0; n < a.length; n++)municipios.push(a[n].AREA_GEOGRAFICA); var l = new GeneraGrafica, o = {}; if (o.ind = e.toString(), o.ag = municipios.join(","), o.tg = "Barra.A", o.mn = "false", o.mf = "false", o.cbs = "false", o.mu = "true", o.dop = 1, o.ord = "n", o.ox = "h", o.o = "h", o.pagcat = "true", o.callback = function () { $("#btn_comparativo" + t.id).attr("disabled", !1) }, "" !== expl_colorGlobal && (o.cls = expl_colorGlobal), o.lang = expl_idioma, -1 !== t.servicio.toUpperCase().indexOf("V1_2") || -1 !== t.servicio.toUpperCase().indexOf("V1_3")) { var d = document.getElementById("help_" + t.id).innerHTML.trim().split("_")[1]; o.tematica = d } l.CargaParametros("divGrafComp" + t.id, o), null !== document.getElementById("divGrafComp" + t.id) && (document.getElementById("divComparativoExpl" + t.id).style.height = "580px", document.getElementById("divGrafComp" + t.id).style.height = "580px") }) } else t.pintaGraficaComparativo(e) }, buscaTipoGrafica: function (e, t, i) { var a = "Barra.G"; return "Barra" === i && (a = "Barra.G", e.toString().indexOf(",") > 0 && (a = "Barra.F")), "Linea" === i && (a = "Linea.B", e.toString().indexOf(",") > 0 && (a = "Linea.F")), a }, cargaLibrerias: function () { var e = []; e = -1 !== API_V.toUpperCase().indexOf("V1_3") ? [{ url: "/componentes/biinegi/convertidorAreasGeo.min.js", alias: "convertidorAreasGeo.min.js" }, { url: "/componentes/biinegi/highcharts.js", alias: "highcharts.js" }, { url: "/componentes/biinegi/generaGraficaComponente.min.js?v1.1.4", alias: "generaGraficaComponente.min.js" }, { url: "/componentes/biinegi/metadatoV3_V1_3.min.js", alias: "metadatoV3_V1_3.min.js" }, { url: "/componentes/biinegi/calculadoraINP.min.js", alias: "calculadoraINP.min.js" }, { url: "/componentes/biinegi/dibujaCuadros.min.js", alias: "dibujaCuadros.min.js" }, { url: "/componentes/biinegi/cmbMultiCheck.min.js", alias: "cmbMultiCheck.min.js" }, { url: "https://d3js.org/d3.v4.min.js", alias: "d3.v4.min.js" }, { url: "https://d3js.org/topojson.v2.min.js", alias: "topojson.v2.min.js" }, { url: "https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.js", alias: "tinycolor.js" }, { url: "/componentes/mapad3/js/componented3.js", alias: "componented3.js" }, { url: "/componentes/mapad3/js/mapa-d3.js", alias: "mapa-d3.js" }, { url: "/componentes/mapaTematico/js/mapaimprimir.min.js", alias: "mapaimprimir.min.js" }] : [{ url: "/componentes/biinegi/convertidorAreasGeo.min.js", alias: "convertidorAreasGeo.min.js" }, { url: "/componentes/biinegi/highcharts.js", alias: "highcharts.js" }, { url: "/componentes/biinegi/generaGraficaComponente.min.js?v1.1.4", alias: "generaGraficaComponente.min.js" }, { url: "/componentes/biinegi/metadatoV3.min.js", alias: "metadatoV3.min.js" }, { url: "/componentes/biinegi/calculadoraINP.min.js", alias: "calculadoraINP.min.js" }, { url: "/componentes/biinegi/dibujaCuadros.min.js", alias: "dibujaCuadros.min.js" }, { url: "/componentes/biinegi/cmbMultiCheck.min.js", alias: "cmbMultiCheck.min.js" }, { url: "https://d3js.org/d3.v4.min.js", alias: "d3.v4.min.js" }, { url: "https://d3js.org/topojson.v2.min.js", alias: "topojson.v2.min.js" }, { url: "https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.js", alias: "tinycolor.js" }, { url: "/componentes/mapad3/js/componented3.js", alias: "componented3.js" }, { url: "/componentes/mapad3/js/mapa-d3.js", alias: "mapa-d3.js" }, { url: "/componentes/mapaTematico/js/mapaimprimir.min.js", alias: "mapaimprimir.min.js" }], this.libreriasV2(e), "localhost" === document.domain ? (this.librerias("http://desarrollowww.inegi.org.mx/componentes/biinegi/styles/calculadoraINP.min.css", "css", "expl17", "calculadoraINP.min.css"), this.librerias("http://desarrollowww.inegi.org.mx/componentes/mapad3/css/style.css", "css", "expl18", "style.css")) : (this.librerias("/componentes/biinegi/styles/calculadoraINP.min.css", "css", "expl16", "calculadoraINP.min.css"), this.librerias("/componentes/biinegi/styles/explorador.min.css", "css", "expl17", "explorador.min.css"), this.librerias("/componentes/mapad3/css/style.css", "css", "expl18", "style.css")) }, librerias: function (e, t, i, a) { var n = i, l = ""; if (!document.getElementById(n)) { var o = document.getElementsByTagName("head")[0]; "css" === t ? ((l = document.createElement("link")).rel = "stylesheet", l.type = "text/css", l.id = n, l.href = e, 0 === $('link[href="' + e + '"]').length && o.appendChild(l)) : ((l = document.createElement("script")).type = "text/javascript", l.id = n, l.src = e, -1 !== e.indexOf("d3.v4") && (l.charset = "utf-8"), 0 === $('script[src="' + e + '"]').length && o.appendChild(l)) } }, libreriasV2: function (e, t) { for (var i = "", a = "localhost" == document.domain ? "http://desarrollowww.inegi.org.mx" : "", n = document.getElementsByTagName("head")[0], l = $("script[src]"), o = "", d = !1, s = 0; s < e.length; s++)if (i = a + e[s].url, d = !1, 0 === $('script[src="' + i + '"]').length) { for (var r = 0; r < l.length; r++)-1 !== l[r].src.indexOf(e[s].alias) && (d = !0); d || ((o = document.createElement("script")).type = "text/javascript", o.id = ("expl" + s).toString(), o.src = a + e[s].url, -1 !== e[s].alias.indexOf("d3.v4") && (o.charset = "utf-8"), n.appendChild(o), d = !1) } }, evento: function () { var e = "newEvento" + this.container; document.addEventListener ? document.addEventListener(e, onFinishExplorador, !1) : document.attachEvent("onclick", onFinishExplorador) }, findBootstrapEnvironment: function () { var e = ["xs", "sm", "md", "lg"]; $el = $("<div>"), $el.appendTo($("body")); for (var t = e.length - 1; t >= 0; t--) { var i = e[t]; if ($el.addClass("hidden-" + i), $el.is(":hidden")) return $el.remove(), i } }, registraEvento: function () { var e = this.container, t = this.findBootstrapEnvironment(); "xs" !== t && "sm" !== t ? $("button").tooltip({ container: "body", placement: "top" }) : $('[data-toggle="tooltip"]').tooltip("disable"); var i = "newEvento" + e, a = ""; (a = document.createEvent("CustomEvent")).initCustomEvent(i, !1, !1, { container: this.container }), document.dispatchEvent(a) }, escapeRegExp: function (e) { return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1") }, expCsvExplorador: function (e) { var t = -1 !== window.location.href.toLowerCase().indexOf("estructura.aspx") ? "0" : expl_tematica, i = C_dominioBuscador + "app/indicadores/exportacion.aspx?cveser=" + e + "&ag=" + expl_ageoCmb + "&bie=" + expl_bie + "&aamin=1900&aamax=9999&ordena=a&ordenaPeriodo=ap&orientacion=v&frecuencia=Todo&estadistico=false&esquema=&bdesplaza=False&FileFormat=csv&tc=indicadorVertical&subapp=&tematica=" + t + "&name=" + expl_nombre, a = window.open(i, "_parent", !1); a.onload = function () { a.close() } }, trataExportacion: function (e, t, i, a) { var n = "divReglasPrecisionExportdivT" + i.replace("#", ""), l = void 0 !== document.getElementById(n) && (null !== document.getElementById(n) && "1" === $("#" + n).attr("informacion_extra")); if ("pdf" === e) this.exportaPDF(i); else if (!0 === l) switch (e) { case "xls": this.expExcelExplorador(i); break; case "csv": this.expCSVExplorador(i) } else switch (e) { case "xls": this.expXlsExplorador(t); break; case "csv": this.expCsvExplorador(t) } }, expXlsExplorador: function (e) { var t = -1 !== window.location.href.toLowerCase().indexOf("estructura.aspx") ? "0" : expl_tematica, i = C_dominioBuscador + "app/indicadores/exportacion.aspx?cveser=" + e + "&ag=" + expl_ageoCmb + "&bie=" + expl_bie + "&aamin=1900&aamax=9999&ordena=a&ordenaPeriodo=ap&orientacion=v&frecuencia=Todo&estadistico=false&esquema=&bdesplaza=False&FileFormat=xls&tc=indicadorVertical&subapp=&tematica=" + t + "&name=" + expl_nombre, a = window.open(i, "_parent", !1); a.onload = function () { a.close() } }, iframExporta: function (e) { var t = document.getElementById("ifExportaMC"); if (null === t) { var i = document.createElement("IFRAME"); i.id = "ifExporta", i.src = e, i.width = 0, i.height = 0, document.body.appendChild(i) } else t.src = e }, exportaPDF: function (e) { var t = this.id.replace("divMetadatoExpl", ""), i = $("#divT" + t).width() + 50, a = $("#divT" + t).height() + 50, n = new jsPDF("p", "pt", "a4"); n.canvas.height = a, n.canvas.width = i, html2canvas($("#divT" + t)[0], { onrendered: function (e) { document.body.appendChild(e), e.getContext("2d").scale(1, 1); var t = e.toDataURL("image/png", 1), i = e.width, a = e.clientHeight; n.addImage(t, "PNG", 20, 20, i - 10, a) } }), setTimeout(function () { n.save("Banco de Indicadores.pdf") }, 2e3) }, expExcelExplorador: function (e) { var t = this.id.replace("divMetadatoExpl", ""); if (window.navigator.userAgent.indexOf("MSIE ") > 0 || navigator.userAgent.match(/Trident.*rv\:11\./)) this.expExcelExploradorIE(e); else { var i = "undefined" != typeof InstallTrigger, a = "data:application/vnd.ms-excel;base64,", n = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><meta http-equiv="content-type" content="application/vnd.ms-excel; charset=UTF-8"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>', l = function (e) { return window.btoa(unescape(encodeURIComponent(e))) }, o = function (e, t) { return e.replace(/{(\w+)}/g, function (e, i) { return t[i] }) }, d = document.getElementById("divDatosdivT" + t), s = (document.getElementById("divMetadatoExpl" + t), "<table>"); s += "<tr><td colspan='2'><H4>" + ("en" === expl_idioma ? "National Institute of Statistics and Geography (INEGI)" : "Instituto Nacional de Estadística y Geografía (INEGI)") + "</H4></td></tr>", s += "<tr><td colspan='2'><H5>" + (!0 === JSON.parse(expl_bie) ? "en" === expl_idioma ? "Economic Information Bank (BIE)" : "Banco de Información Económica (BIE)" : "en" === expl_idioma ? "Bank Indicators" : "Banco de Indicadores") + "</H5></td></tr>", s += "<tr><td colspan='2'>" + ("en" === expl_idioma ? "Consult Date: " : "Fecha de consulta: ") + this.getDateF() + "</td></tr>"; var r = null !== document.getElementById("nombreInd" + t) ? document.getElementById("nombreInd" + t).innerHTML : ""; null !== document.getElementById("titulo_ind" + t) && document.getElementById("titulo_ind" + t).innerHTML; s += "<tr><td colspan='2'><b>" + r + " " + document.getElementById("exp_" + t).innerText.trim() + "</b></td></tr>", s += "<tr><td></td></tr>", s += "</table>"; var c = metadatoControlV3("#divMetadatoExpl" + t).getMetadatoExp(), p = document.getElementById("divReglasPrecisionExportdivT" + t); p.style.border = "1px solid #333"; var m = { worksheet: "Página 1", table: s + d.innerHTML + "<br>" + p.innerHTML + "<br>" + c }, u = ""; i ? ((u = document.createElement("a")).id = "clic_" + t, document.body.appendChild(u), u.download = "Indicadores" + this.getDateF2() + ".xls", u.href = a + l(o(n, m)), u.click()) : ((u = document.createElement("a")).download = "Indicadores" + this.getDateF2() + ".xls", u.href = a + l(o(n, m)), u.id = "clic_" + t, u.click()) } }, expCSVExplorador: function (e) { var t, i = this.id.replace("divMetadatoExpl", ""), a = document.getElementById("tableCifrasdivT" + i).rows, n = document.getElementById("tableReglasPrecisiondivT" + i).rows, l = ((t = document.getElementById("tableStatcontGraficadivT" + i) || document.getElementById("tableStatdivT" + i)).rows[0].children, t.rows), o = ""; o += "Instituto Nacional de Estadística y Geografía\n\n", o += "Banco de Indicadores\n\n", o += "Fecha de consulta:" + this.getDateF() + "\n\n\n"; for (var d = 0; d < l.length; d++) { var s = l[d].children, r = s.length; o += "\n"; for (var c = 0; c < r; c++) { o += (-1 != s[c].innerText.indexOf(".") ? s[c].innerText.replace(/,/g, "") : -1 != s[c].innerText.indexOf(",") ? s[c].innerText.replace(/,/g, "") : s[c].innerText) + "," } } o += "\n", (a.length > 0 || n.length > 0) && (o += "Notas y Llamadas"), o += "\n"; for (var p = 0; p < a.length; p++) { var m = a[p].children, u = m.length; "" !== a[p].innerText && (o += "\n"); for (var g = 0; g < u; g++) { o += (-1 != m[g].innerText.indexOf(",") ? m[g].innerText.replace(/,/g, " ") : m[g].innerText) + "," } } o += "\n"; for (var h = 0; h < n.length; h++) { var x = n[h].children, b = x.length; "" !== n[h].innerText && (o += "\n"); for (var v = 0; v < b; v++) { o += (-1 != x[v].innerText.indexOf(",") ? x[v].innerText.replace(/,/g, " ") : x[v].innerText) + "," } } var _ = document.createElement("a"), E = new Blob(["\ufeff", o]), y = URL.createObjectURL(E); _.href = y, _.download = "Indicadores" + this.getDateF2() + ".csv", document.body.appendChild(_), _.click(), document.body.removeChild(_) }, expExcelExploradorIE: function (e) { var t = e.replace("#divMetadatoExpl", ""), i = window.navigator.userAgent, a = i.indexOf("MSIE "); if (a > 0 || navigator.userAgent.match(/Trident.*rv\:11\./)) { var n = "<table border='2px'><tr >", l = 0; for (n += "<tr><td><H4>" + ("en" === expl_idioma ? "National Institute of Statistics and Geography (INEGI)" : "Instituto Nacional de Estadística y Geografía (INEGI)") + "</H4></td></tr>", n += "<tr><td><H5>" + ("en" === expl_idioma ? "Bank Indicators" : "Banco de Indicadores") + "</H5></td></tr>", n += "<tr><td>" + ("en" === expl_idioma ? "Consult Date: " : "Fecha de consulta: ") + this.getDateF() + "</td></tr>", n += "<tr><td>" + (null !== document.getElementById("nombreInd" + t) ? document.getElementById("nombreInd" + t).innerHTML : "") + " " + (null !== document.getElementById("titulo_ind" + t) ? document.getElementById("titulo_ind" + t).innerHTML : "") + "</td></tr>", n += "<tr><td></td></tr>", tab = document.getElementById("tableStatdivT" + t), n += "<tr>", l = 0; l < tab.rows.length; l++)n = n + tab.rows[l].innerHTML + "</tr>"; n = (n += "<tr><td>") + document.getElementById("divMetadatoExpl" + t).innerHTML + "</td></tr>", n = (n = (n = (n += "</table>").replace(/<A[^>]*>|<\/A>/g, "")).replace(/<img[^>]*>/gi, "")).replace(/<input[^>]*>|<\/input>/gi, ""), a = (i = window.navigator.userAgent).indexOf("MSIE"); var o = window.open(); return o.document.write(n), o.document.close(), sa = o.document.execCommand("SaveAs", !0, "Indicadores" + this.getDateF2() + ".xls"), o.document.write(""), o.document.close(), sa } return this.expExcelExplorador(e), null }, getDateF: function () { var e = new Date, t = e.getDate(), i = e.getMonth() + 1, a = e.getFullYear(); return Number.prototype.padLeft = function (e, t) { var i = String(e || 10).length - String(this).length + 1; return i > 0 ? new Array(i).join(t || "0") + this : this }, t < 10 && (t = "0" + t), i < 10 && (i = "0" + i), t + "/" + i + "/" + a + " " + e.getHours().padLeft() + ":" + e.getMinutes().padLeft() + ":" + e.getSeconds().padLeft() }, getDateF2: function () { var e = new Date, t = e.getDate(), i = e.getMonth() + 1, a = e.getFullYear(); return Number.prototype.padLeft = function (e, t) { var i = String(e || 10).length - String(this).length + 1; return i > 0 ? new Array(i).join(t || "0") + this : this }, t < 10 && (t = "0" + t), i < 10 && (i = "0" + i), t + i + a + e.getHours().padLeft() + e.getMinutes().padLeft() + e.getSeconds().padLeft() }, setSizeMCMapa: function () { if ("none" !== document.getElementById("divMapaExpl" + this.id).style.display) { if ($(window).width() < 1e3) { var e = parseInt($("#divGenM_mapaTematico" + this.id).height()) + 500; !1 === isNaN(e) ? $("#divMapaExpl" + this.id).height(e) : $("#divMapaExpl" + this.id).height(790), document.getElementById("divMapaExpl" + this.id).style.display = "block" } else $("#divMapaExpl" + this.id).height(500), document.getElementById("divMapaExpl" + this.id).style.display = "inline"; -1 !== document.URL.toLowerCase().indexOf("app/buscador/") && null !== document.getElementById("cargaMapa") && (document.getElementById("cargaMapa").style.display = "none") } } }, window.exploradorDatos || (window.exploradorDatos = e) }(), $(window).resize(function () { setSizesMapa() }), function () { var e = function (e) { return new t(e) }, t = function (e) { if (e) { configura(e).init(); var t = document.querySelectorAll(e), i = 0; for (this.length = t.length, this.id = t[this.length - 1].id, this.dominio = C_dominio, this.tk = C_token, this.servicio = C_direccionServicio_V + "_" + API_V, this.container = e; i < this.length; i++)this[i] = t[i]; return this } }; e.fn = t.prototype = { init: function (e, t, i, a, n, l, o, d) { var s = expl_desglose; expl_desglose = "4" === expl_desglose ? "3" : expl_desglose; var r = convertidorAreasGeo(this.container).init(e), c = 4 == r.length ? r : r.substring(0, 4), p = convertidorAreasGeo(this.container).init(d); this.creaEvento(), this.generaComponente(s, t, o, c, n, a, l, p) }, creaEvento: function () { document.addEventListener ? document.addEventListener("newEventoCombos", onCliCombo, !1) : document.attachEvent("onclick", onCliCombo) }, generaComponente: function (e, t, i, a, n, l, o, d) { var s = this.container, r = !1, c = ""; "1" !== expl_desglose || "null" === expl_desglose ? (r = !0, c += '<div class="col-xs-12 col-md-6">', c += '<div class="row" style="padding:10px 0px 10px 0px">', "2" !== expl_desglose && "4" !== expl_desglose || (c += '<div class="col-sm-12 col-md-6">', c += '<select id="combo_enti_' + this.id + '" class="form-control" onchange="javascript:areaGeo_Component(\'' + s + "').goComboEnt(this.value,'" + t + "','" + e + "','" + n + "','" + d + "');\"></select>", c += " </div>"), "3" !== expl_desglose && "null" !== expl_desglose || (c += '<div class="col-sm-12 col-md-6" style="padding-top:5px;">', c += '<select  id="combo_enti_' + this.id + '" class="form-control" onchange="javascript:areaGeo_Component(\'' + s + "').goComboEnt(this.value,'" + t + "','" + e + "','" + n + "','" + d + "');\"></select>", c += " </div>", c += '<div class="col-sm-12 col-md-6" style="padding-top:5px;">', c += '<select style="display:none;" id="combo_muni_' + this.id + '" class="form-control" onchange="javascript:areaGeo_Component(\'' + s + "').goComboMun(this.value,'" + t + "');\"></select>", c += " </div>"), c += "</div>", c += "</div>") : "1" === e && "3" === n && (r = !0, c += '<div class="col-xs-12 col-md-6">', c += '<div class="row" style="padding:10px 0px 10px 0px">', c += '<div class="col-sm-12 col-md-6">', c += '<select style="display:none;" id="combo_cate_' + this.id + '" class="form-control" onchange="javascript:areaGeo_Component(\'' + s + "').goComboCat(this.value,'" + t + "','" + e + "','" + n + "','" + l + "');\"></select>", c += " </div>", c += '<div class="col-sm-12" style="padding-top:5px;">', c += '<select  style="display:none;" id="combo_enti_' + this.id + '" class="form-control" onchange="javascript:areaGeo_Component(\'' + s + "').goComboEnt(this.value,'" + t + "','" + e + "','" + n + "','" + d + "');\"></select>", c += " </div>", c += '<div class="col-sm-12" style="padding-top:5px;">', c += '<select style="display:none;" id="combo_muni_' + this.id + '" class="form-control" onchange="javascript:areaGeo_Component(\'' + s + "').goComboMun(this.value,'" + t + "');\"></select>", c += " </div>", c += "</div>", c += "</div>"), r ? (document.getElementById(i).innerHTML = c, this.llamaAPI(a, t, e, n, l, o, d)) : exploradorDatos(this.container).cargaInicial(expl_vistaInicial, t) }, llamaAPI: function (e, t, i, a, n, l, o) { var d = this; var s = "1" === i && "3" === a ? "null" : e, r = d.servicio + "/API.svc/CatalogoAreaGeograficaV3/" + s + "/" + t + "/null/null/" + a + "/1/json/" + d.tk + "?callback=?"; $.getJSON(r, null, function (n) { if ("combos" == l) if ("1" === i && "3" === a) { var s = n[0].AREAS_GEOGRAFICAS_DEPENDIENTES.sort(d.ordenaJson("UBICACION_GEOGRAFICA")); s.length > 1 ? d.pintaCategorias(s, t, a, e) : 1 === s.length && "0700" !== s[0].AREA_GEOGRAFICA && d.pintaCategorias(s, t, a, e) } else d.pintaCombos(n, e, t, o, i, a) }) }, ordenaJson: function (e) { var t = 1; return "-" === e[0] && (t = -1, e = e.substr(1)), function (i, a) { return (i[e] < a[e] ? -1 : i[e] > a[e] ? 1 : 0) * t } }, vaciarCombo: function (e) { for (var t = document.getElementById(e); t.options.length > 0;)t.options[t.options.length - 1] = null }, goComboCat: function (e, t, i, a, n) { expl_inicia = !1, this.detectedBoton(e, t, "combo_cate_"), expl_ageoCmb = e }, goComboEnt: function (e, t, i, a, n) { if (expl_inicia = !1, "3" === expl_desglose) if ("0700" !== e && "00" !== e) { $("#combo_muni_" + this.id).show(); var l = n.length > 8 ? e.substring(0, 8) : e; this.llamaAPI(l, t, expl_desglose, a, "1", "combos", n) } else $("#combo_muni_" + this.id).hide(), expl_esMunicipal = !1, this.detectedBoton(e, t, "combo_enti_"); else this.detectedBoton(e, t, "combo_enti_"); expl_ageoCmb = e }, goComboMun: function (e, t) { expl_inicia = !1, expl_esMunicipal = !0; var i = e.toString(); expl_ageoCmb = i, this.detectedBoton(i, t, "combo_muni_") }, detectedBoton: function (e, t, i) { var a = ""; (a = document.createEvent("CustomEvent")).initCustomEvent("newEventoCombos", !1, !1, { id: this.id, contenedor: this.container, ageo: e, indicador: t, combo: i }), document.dispatchEvent(a) }, pintaCategorias: function (e, t, i, a) { array_pais = []; var n = document.getElementById("combo_cate_" + this.id); if (e.length > 1 || 1 === e.length && "0700" !== e[0].AREA_GEOGRAFICA) { for (var l = 0; l < e.length; l++)array_pais.push(e[l].AREA_GEOGRAFICA), n.options[l] = new Option, n.options[l].text = e[l].NOMBRE, n.options[l].innerHTML = '<span class="notranslate">' + e[l].NOMBRE + "</span>", n.options[l].value = e[l].AREA_GEOGRAFICA, e[l].AREA_GEOGRAFICA === a && (n.options[l].selected = !0); $("#combo_cate_" + this.id).show() } else 1 === e.length && ($("#combo_cate_" + this.id).hide(), this.llamaAPI(e[0].AREA_GEOGRAFICA, t, "null", i, "1", "combos", "null")) }, pintaCombos: function (e, t, i, a, n, l) { var o = t.length <= 4 ? "combo_enti_" + this.id : "combo_muni_" + this.id, d = e, s = "", r = document.getElementById(o), c = -1 !== o.indexOf("combo_enti_") ? 4 == a.length ? a : a.substring(0, 8) : a, p = 0, m = 0; if (d.length > 1) { for (var u = 0; u < d.length; u++)r.options[u] = new Option, r.options[u].text = d[u].NOMBRE, r.options[u].innerHTML = '<span class="notranslate">' + d[u].NOMBRE + "</span>", r.options[u].value = d[u].AREA_GEOGRAFICA; r.options[p].selected = !0 } else if (null != d[0]) if (null !== d[0].AREAS_GEOGRAFICAS_DEPENDIENTES) { var g = !1; if (o === "combo_muni_" + this.id && this.vaciarCombo(o), "" !== d[0].NOMBRE) { r.options[m] = new Option; var h = ""; h = "0700" != d[0].AREA_GEOGRAFICA ? d[0].NOMBRE_DESGLOSE_GEOGRAFICO : "es" == expl_idioma ? "Estatal" == d[0].NOMBRE ? "Total estatal" : d[0].NOMBRE : "Estatal" == d[0].NOMBRE ? "Total state" : d[0].NOMBRE, r.options[m].text = h, r.options[m].innerHTML = '<span class="notranslate">' + h + "</span>", r.options[m].value = d[0].AREA_GEOGRAFICA, m++, p++ } for (u = 0; u < d[0].AREAS_GEOGRAFICAS_DEPENDIENTES.length; u++)r.options[m] = new Option, r.options[m].text = d[0].AREAS_GEOGRAFICAS_DEPENDIENTES[u].NOMBRE, r.options[m].innerHTML = '<span class="notranslate">' + d[0].AREAS_GEOGRAFICAS_DEPENDIENTES[u].NOMBRE + "</span>", r.options[m].value = d[0].AREAS_GEOGRAFICAS_DEPENDIENTES[u].AREA_GEOGRAFICA, d[0].AREAS_GEOGRAFICAS_DEPENDIENTES[u].AREA_GEOGRAFICA === c && (p += u, g = !0), m++; if (g ? r.options[p].selected = !0 : r.options[0].selected = !0, s = r.options[r.selectedIndex].value, g && "3" === expl_desglose && "0700" === t && this.goComboEnt(s, i, n, l, a), "3" === expl_desglose && "null" === t) s.length !== a.length ? this.goComboEnt(s, i, n, l, a) : this.detectedBoton(s, i, "combo_muni_"); else if (s.length !== a.length) { var x = convertidorAreasGeo(this.container).init(a), b = 4 === x.length ? "00" : x.substring(6, 8); s.substring(6, 8) !== b ? this.detectedBoton(s, i, "combo_enti_") : this.goComboEnt(a, i, n, l, a) } else this.detectedBoton(s, i, "combo_enti_"); $("#" + o).show() } else "none" !== document.getElementById("combo_muni_" + this.id).style.display && $("#combo_muni_" + this.id).hide(), expl_inicia = !1, s = d[0].AREA_GEOGRAFICA.length > 0 ? d[0].AREA_GEOGRAFICA : t, this.detectedBoton(s, i, "combo_enti_"); else o === "combo_muni_" + this.id && ($("#" + o).hide(), this.detectedBoton(t, i, "combo_enti_")) } }, window.areaGeo_Component || (window.areaGeo_Component = e) }();