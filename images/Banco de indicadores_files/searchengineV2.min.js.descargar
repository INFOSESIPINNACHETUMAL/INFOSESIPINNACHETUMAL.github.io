var params, ordenBuscadorGlobal = "RANKING", scroll = 0, paginascroll = 0, tamanioPagina = 20, indi_buscador = ""; function highlight(e) { var t = document.getElementById("iu_TextBoxBuscar").value.trim(); replac = " "; var a = /([\ \t]+(?=[\ \t])|^\s+|\s+$)/g, n = t = trataTextoHigh(t), i = document.getElementById(e).innerHTML; n = t.split(" "), i = document.getElementById(e).innerHTML.split(" "); for (var s = "", r = "", o = "", l = 0; l < i.length; l++)for (var d = 0; d < n.length; d++)s = (s = (s = (s = (s = trataSoundex(s = (s = i[l].replace(replac, "")).replace(a, ""))).toLowerCase()).replace(/['=¿?¡!:/<>()&%#*;+-.,?^${}[(\)]|[\]\\]/g, " ")).replace(replac, "")).replace(a, ""), r = (r = trataSoundex(r = n[d].replace(replac, " "))).toLowerCase(), mostrar = i[l].replace(/['=¿?¡!:/<>()&%#*;+-.,?^${}[(\)]|[\]\\]/g, " "), tam = levenshtein1(r, s), inputText = document.getElementById(e), o = inputText.innerHTML, mostrar = mostrar.replace(replac, ""), mostrar = mostrar.replace(a, ""), tam <= 3 && s.length >= 4 && (s = s.substr(0, r.length)) == (r = r.substr(0, s.length)) && (o = o.replace(new RegExp(mostrar.substr(0, i[l].length), "g"), "<span class='highlight'>" + mostrar.substr(0, i[l].length) + "</span>")), 0 == tam && (o = o.replace(new RegExp(mostrar.substr(0, i[l].length), "g"), "<span class='highlight'>" + mostrar.substr(0, i[l].length) + "</span>")), inputText.innerHTML = o } function highlight2(e) { var t = ""; t = document.getElementById("iu_TextBoxBuscar").value.trim(), t = (t = (t = (t = $("#iu_TextBoxBuscar").val().replace(/[≈'°|@_=¿?¡!:/<>()&%#*;+-.,?^${}[(\)]|[\]\\]/g, " ")).replace(/"/g, " ")).replace(/\s+/g, " ")).trim(), replac = " "; var a = /([\ \t]+(?=[\ \t])|^\s+|\s+$)/g, n = t = trataTextoHigh(t), i = document.getElementById(e).innerHTML; i = (i = (i = (i = (i = trataTextoHigh(i)).replace(/[≈'°|@_=¿?¡!:/<>()&%#*;+-.,?^${}[(\)]|[\]\\]/g, " ")).replace(/"/g, " ")).replace(/\s+/g, " ")).trim(), n = t.split(" "), i = i.split(" "); for (var s = "", r = "", o = "", l = 0; l < i.length; l++)for (var d = 0; d < n.length; d++)s = (s = (s = (s = (s = (s = (s = trataSoundex(s = (s = i[l].replace(replac, "")).replace(a, ""))).toLowerCase()).replace(/['°|@_=¿?¡!:/<>()&%#*;+-.,?^${}[(\)]|[\]\\]/g, " ")).replace(/"/g, " ")).replace(/\s+/g, " ")).replace(replac, "")).replace(a, ""), r = (r = trataSoundex(r = n[d].replace(replac, " "))).toLowerCase(), mostrar = i[l].replace(/['°|@_=¿?¡!:/<>()&%#*;+-.,?^${}[(\)]|[\]\\]/g, " "), mostrar = mostrar.replace(/"/g, " "), mostrar = mostrar.replace(/\s+/g, " "), tam = levenshtein(r, s), inputText = document.getElementById(e), o = inputText.innerHTML, mostrar = mostrar.replace(replac, ""), mostrar = mostrar.replace(a, ""), tam <= 3 && s.length >= 4 && (s = s.substr(0, r.length)) == (r = r.substr(0, s.length)) && (o = o.replace(new RegExp(mostrar.substr(0, i[l].length), "g"), "<span class='highlight'>" + mostrar.substr(0, i[l].length) + "</span>")), 0 == tam && (o = o.replace(new RegExp(mostrar.substr(0, i[l].length), "g"), "<span class='highlight'>" + mostrar.substr(0, i[l].length) + "</span>")), inputText.innerHTML = o } function trataTextoHigh(e) { for (var t = ["insert", "drop", "delete", "truncate", ";", "--", "xp_", "in", "table", "exec", "of", "with", "the", "from", "al", "as", "is", "can", " also ", " already ", " more ", " you ", " others ", " and ", " but ", " between ", " are ", " than ", "one", "no", "your", "it", "a", "e", "i", "o", "u", "adónde", "al", "algo", "alguien", "alguna", "algunas", "alguno", "algunos", "ante", "aquel", "aquél", "aquella", "aquélla", "aquellas", "aquéllas", "aquello", "aquellos", "aquéllos", "bajo", "cabe", "como", "cómo", "con", "conmigo", "consigo", "contigo", "contra", "cual", "cuál", "cuales", "cuáles", "cualesquiera", "cualquiera", "cuando", "cuándo", "cuanta", "cuánta", "cuantas", "cuántas", "cuánto", "cuantos", "cuántos", "cuya", "cuyas", "cuyo", "cuyos", "de", "del", "demás", "desde", "donde", "dónde", "durante", "el", "él", "ella", "ellas", "ello", "ellos", "en", "entre", "es", "esa", "ésa", "esas", "ésas", "ese", "ése", "eso", "esos", "ésos", "esotra", "esotro", "esta", "está", "ésta", "estas", "éstas", "este", "éste", "esto", "estos", "éstos", "hacia", "hasta", "la", "las", "le", "les", "lo", "los", "más", "me", "mediante", "mí", "mía", "mías", "mío", "míos", "misma", "mismas", "mismo", "mismos", "mucha", "muchas", "mucho", "muchos", "nada", "nadie", "ninguna", "ningunas", "ninguno", "ningunos", "no", "nos", "nosotras", "nosotros", "nuestra", "nuestras", "nuestro", "nuestros", "os", "otra", "otras", "otro", "otros", "para", "pero", "poca", "pocas", "poco", "pocos", "por", "puede", "que", "qué", "quien", "quién", "quienes", "quiénes", "se", "según", "sí", "sin", "so", "sobre", "son", "su", "suya", "suyas", "suyo", "suyos", "también", "tanta", "tantas", "tanto", "tantos", "te", "ti", "toda", "todas", "todo", "todos", "tras", "tú", "tuya", "tuyas", "tuyo", "tuyos", "última", "últimas", "último", "últimos", "un", "una", "unas", "uno", "unos", "usted", "ustedes", "varias", "varios", "versus", "vía", "vos", "vosotras", "vosotros", "vuestra", "vuestras", "vuestro", "vuestros", "y", "ya", "yo"], a = e.replace(/\./g, "").trim().split(/\s/), n = 0; n < a.length; n++)for (var i = 0; i < t.length; i++)if (t[i] == a[n].toLowerCase()) { a[n] = ""; break } return newTexto = a.join(" "), newTexto.replace(/([\ \t]+(?=[\ \t])|^\s+|\s+$)/g, "") } function levenshtein1(e, t) { var a = 0, n = e.length, i = t.length; m = Array(n + 1); for (var s = 0; s < m.length; s++)m[s] = new Array(i + 1); for (s = 0; s <= n; s++)m[s][0] = s; for (s = 1; s <= i; s++)m[0][s] = s; for (var r = 1; r <= n; r++)for (var o = 1; o <= i; o++)a = e[r - 1] == t[o - 1] ? 0 : 1, m[r][o] = Math.min(Math.min(m[r - 1][o] + 1, m[r][o - 1] + 1), m[r - 1][o - 1] + a); return m[n][i] } function trataSoundex(e) { return reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = reemplazaTodo(e = (e = reemplazaTodo(e = e.toUpperCase(), "Á", "A")).toUpperCase(), "Á", "A"), "À", "A"), "É", "E"), "È", "E"), "Í", "I"), "Ì", "I"), "Ó", "O"), "Ö", "O"), "Ò", "O"), "Ú", "U"), "Ü", "U"), "Ù", "U"), "Ñ", "N") } function reemplazaTodo(e, t, a) { for (var n = e, i = n.indexOf(t); -1 != i;)i = (n = n.replace(t, a)).indexOf(t); return n } function levenshtein(e, t) { var a = 0, n = e.length, i = t.length; m = Array(n + 1); for (var s = 0; s < m.length; s++)m[s] = new Array(i + 1); for (s = 0; s <= n; s++)m[s][0] = s; for (s = 1; s <= i; s++)m[0][s] = s; for (var r = 1; r <= n; r++)for (var o = 1; o <= i; o++)a = e[r - 1] == t[o - 1] ? 0 : 1, m[r][o] = Math.min(Math.min(m[r - 1][o] + 1, m[r][o - 1] + 1), m[r - 1][o - 1] + a); return m[n][i] } !function () { var e = function (e) { return new t(e) }, t = function (e) { if (e) { configura(e).init(); var t = document.querySelectorAll(e), a = 0; for (this.length = t.length, this.id = t[this.length - 1].id, this.idResult = "divresultados", this.dominio = C_dominio, this.tk = C_token, this.servicio = C_direccionServicio_V + "_" + API_V, this.imagen = "/componentes/biinegi", this.container = e; a < this.length; a++)this[a] = t[a]; return this } return function () { this.autor = "amcr", this.version = "1.0.0", this.fecha = "27/04/2023" }() }; e.fn = t.prototype = { cargaInicial: function (e) { var t = this; params = e, t.cargaLibrerias(), "1" === params.custom_Herr ? t.pintaComponente() : setTimeout(function () { t.pintaOrdenBuscador(), t.eventoLimpiar() }, 1e3) }, cargaLibrerias: function () { "localhost" === document.domain || "127.0.0.1" === location.hostname ? (this.librerias("http://desarrollowww.inegi.org.mx/componentes/biinegi/buscador/app/resources/searchengineV2.min.css", "css", "search01"), this.librerias("http://desarrollowww.inegi.org.mx/componentes/biinegi/buscador/app/resources/bootstrap-paginator.min.js", "js", "search02"), "1" === params.custom_Expl && this.librerias("http://desarrollowww.inegi.org.mx/componentes/biinegi/exploradorv2.min.js", "js", "search03")) : (this.librerias("/componentes/biinegi/buscador/app/resources/searchengineV2.min.css", "css", "search01"), this.librerias("/componentes/biinegi/buscador/app/resources/bootstrap-paginator.min.js", "js", "search02"), "1" === params.custom_Expl && this.librerias("/componentes/biinegi/exploradorv2.min.js", "js", "search03")) }, librerias: function (e, t, a) { var n = a, i = "", s = $("script[src]"), r = !1; if (!document.getElementById(n)) { var o = document.getElementsByTagName("head")[0]; if ("css" === t) (i = document.createElement("link")).rel = "stylesheet", i.type = "text/css", i.id = n, i.href = e, 0 === $('link[href="' + e + '"]').length && o.appendChild(i); else if ((i = document.createElement("script")).type = "text/javascript", i.id = n, i.src = e, 0 === $('script[src="' + e + '"]').length) { for (var l = 0; l < s.length; l++)-1 !== s[l].src.indexOf(e) && (r = !0); r || (o.appendChild(i), r = !1) } } }, init: function (e, t, a, n, i, s, r, o, l) { ordenBuscadorGlobal = l, 0 === i ? (this.eventsearchstatusload(), this.eventsearchserieselected(), this.removeResults(e, t, a, n, i, s, r, o)) : this.querySearchV2(e, t, a, n, i, s, r, o) }, eventoLimpiar: function () { document.addEventListener ? document.addEventListener("newEventoLimpiarBuscador", onClicLimpiarResBuscador, !1) : document.attachEvent("onclick", onClicLimpiarResBuscador) }, registraBusqueda: function (e) { if (indi_buscador = void 0 !== e ? e : "", void 0 !== params) { this.isEmptyOrSpaces(document.getElementById("iu_TextBoxBuscar").value) || this.callsearch(!0) } }, registraEventoLimpiar: function () { var e = ""; (e = document.createEvent("CustomEvent")).initCustomEvent("newEventoLimpiarBuscador", !1, !1, { container: this.container }), document.dispatchEvent(e) }, callsearch: function (e) { this.changeTabla(!0); var t = document.getElementById("iu_TextBoxBuscar").value; if ("" !== t) { !0 === e && (-1 !== window.location.href.toLowerCase().indexOf("/app/indicadores") && (document.getElementById("tituloDinamico").style.display = "none"), paginascroll = 1, scroll = 0); var a = this.searchtopic(), n = this.searchmethod(); this.init(params.tematica, t, params.idioma, params.ageo, 1 == paginascroll ? 0 : paginascroll * tamanioPagina + 1, 1 == paginascroll ? tamanioPagina : paginascroll * tamanioPagina + tamanioPagina, n, a, ordenBuscadorGlobal) } else if (null != i) var i = "1" }, changeTabla: function (e) { if (void 0 !== params) { e ? (document.getElementById(params.alterno).style.display = "none", document.getElementById(this.id).style.display = "block") : (document.getElementById(params.alterno).style.display = "block", document.getElementById(this.id).style.display = "none") } }, searchmethod: function () { var e = 1; return document.getElementById("tipoRadio1").checked && (e = 1), document.getElementById("tipoRadio2").checked && (e = 2), document.getElementById("tipoRadio3").checked && (e = 3), e }, querySearchV2: function (e, t, a, n, i, s, r, o) { var l = this, d = t, c = ordenBuscadorGlobal, u = l.searchmethod(), m = void 0 !== params.herramienta ? parseInt(params.herramienta) : 0, p = ""; p = window.location.href.indexOf("https://") > -1 ? "https://" : "http://"; var h, g, v = ""; v = "localhost" === document.domain || "127.0.0.1" === location.hostname ? "http://desarrollowww.inegi.org.mx/app/api/buscadorcore/v1/" : p + document.domain + "/app/api/buscadorcore/v1/", "3" === e ? (g = "busquedaBIE_BISE", h = { busqueda: d, busquedaCiencia: "null", paginaInicio: i, paginaFin: s, areageo: "null", filtrotema: "" === o ? "null" : o, tematica: e, filtrobusqueda: "CBUSQUEDA", orderby: c, orderbyAscDesc: "Desc", metodoBusqueda: u, idioma: params.idioma }) : "0" === e ? (g = "busquedaBIE", h = { busqueda: d, paginaInicio: i, paginaFin: s, filtrobusqueda: "CBUSQUEDA", filtrotema: "" === o ? "null" : o, orderby: c, orderbyAscDesc: "Desc", metodoBusqueda: u, busquedaCiencia: "" }) : (g = "busquedaBancoIndicadores", h = { busqueda: d, busquedaCiencia: "", paginaInicio: i, paginaFin: s, areageo: n, filtrotema: "" === o ? "null" : o, tematica: params.tematica, filtrobusqueda: "CBUSQUEDA", orderby: c, orderbyAscDesc: "Desc", metodoBusqueda: u, IndPrincipales: "null", idioma: a, herramienta: m }), $.ajax({ method: "POST", url: v + g + "/", contentType: "application/json; charset=utf-8", dataType: "json", data: JSON.stringify(h), success: function (n) { if (void 0 !== n) if (n.length > 0) 0 === i && l.crearPaginationV2(n[0].TOTAL, tamanioPagina), l.renderresultV3(n, i, s, a, t, e); else { l.CrearDiv("divresultados", l.idResult + "_result", "col-xs-12"), l.CrearDiv(l.idResult + "_result", l.idResult + "_totalresult"), texto = "es" == a ? ' No se encontraron resultados que contengan "' + t + '"' : '" no results for ' + t + '"', l.CrearLabel(l.idResult + "_totalresult", l.idResult + "_label_totalresult", "texto", texto, "data-role", "none"), l.recordeventsearchstatusload(0), $("#selecpaginacion").contents().remove(), $("#" + params.contenedor).removeClass("classCarga") } }, error: function (e, t, a) { console.log(t, a) } }) }, pintaComponente: function () { var e = this, t = document.createElement("div"); t.className = "col-xs-12 mgenA"; var a = document.createElement("div"); a.className = "input-group", a.id = "divBuscador"; var n = document.createElement("input"); n.type = "text", n.className = "form-control", n.placeholder = "es" === params.idioma ? "Búsqueda de indicadores..." : "Search...", n.id = "iu_TextBoxBuscar", a.appendChild(n); var i = document.createElement("span"); i.className = "input-group-btn menubuttons"; var s = document.createElement("button"); s.className = "btn btn-default mgenSin", s.style.margin = "0px", s.type = "button", s.id = "btnLimpiarV2", s.style.display = "none", s.setAttribute("data-toggle", "tooltip"), s.setAttribute("data-original-title", "es" === params.idioma ? "Limpiar" : "Clear"), s.setAttribute("data-placement", "top"), s.setAttribute("onclick", "javascript:searchengine('#" + params.contenedor + "').limpiaText();"); var r = document.createElement("span"); r.className = "glyphicon glyphicon-remove", s.appendChild(r); var o = document.createElement("button"); o.className = "btn btn-default", o.type = "button", o.id = "btnBuscar", o.setAttribute("data-toggle", "tooltip"), o.setAttribute("data-original-title", "es" === params.idioma ? "Buscar" : "Search"), o.setAttribute("data-placement", "top"), o.setAttribute("onclick", "buscadorCode.registraBusq();"); var l = document.createElement("span"); l.className = "glyphicon glyphicon-search", o.appendChild(l), i.appendChild(s), i.appendChild(o), a.appendChild(i), t.appendChild(a); var d = document.createElement("div"); d.id = "busqAdvance", d.className = "busqAdvance", d.style.paddingBottom = "10px"; var c = document.createElement("div"); c.className = "row"; var u = document.createElement("div"); u.className = "col-xs-6"; var m = document.createElement("label"); m.className = "radio-inline ba"; var p = document.createElement("input"); p.type = "radio", p.name = "tipoBusqueda", p.id = "tipoRadio1", p.checked = "checked", p.setAttribute("onchange", "buscadorCode.registraTipoBusq(this.id);"); var h = document.createElement("span"); h.id = "itemMC_58", h.innerHTML = "es" === params.idioma ? "Todas las palabras" : "All the words", m.appendChild(p), m.appendChild(h), u.appendChild(m), c.appendChild(u); var g = document.createElement("div"); g.className = "col-xs-6"; var v = document.createElement("label"); v.className = "radio-inline ba"; var b = document.createElement("input"); b.type = "radio", b.name = "tipoBusqueda", b.id = "tipoRadio2", b.setAttribute("onchange", "buscadorCode.registraTipoBusq(this.id);"); var E = document.createElement("span"); E.id = "itemMC_59", E.innerHTML = "es" === params.idioma ? "Cualquier palabra" : "Any word", v.appendChild(b), v.appendChild(E), g.appendChild(v), c.appendChild(g); var y = document.createElement("div"); y.className = "col-xs-12", y.style.paddingBottom = "10px"; var C = document.createElement("label"); C.className = "radio-inline ba"; var f = document.createElement("input"); f.type = "radio", f.name = "tipoBusqueda", f.id = "tipoRadio3", f.setAttribute("onchange", "buscadorCode.registraTipoBusq(this.id);"); var x = document.createElement("span"); x.id = "itemMC_59", x.innerHTML = "es" === params.idioma ? "Frase completa" : "Complete phrase", C.appendChild(f), C.appendChild(x), y.appendChild(C), c.appendChild(y); var B = document.createElement("div"); B.className = "col-xs-12"; var T = document.createElement("div"); T.className = "displayInline"; var I = document.createElement("span"); I.id = "itemMC_61", I.innerHTML = "es" === params.idioma ? "Orden" : "Order", T.appendChild(I); var A = document.createElement("select"); A.id = "orden_buscador", A.className = "form-control width180 displayInline", A.setAttribute("onchange", "buscadorCode.chngOrdenBusq(this.value);"), T.appendChild(A), B.appendChild(T), c.appendChild(B), d.appendChild(c), t.appendChild(d), document.getElementById("componente_buscador").appendChild(t), setTimeout(function () { e.pintaOrdenBuscador(), e.eventoLimpiar() }, 1e3) }, renderresultV3: function (e, t, a, n, i, s) { var r, o = params.ageo, l = indi_buscador; "" !== l && ("," !== l.charAt(0) && (l = "," + l), "," !== l.charAt(l.length - 1) && (l += ",")); var d = "1", c = !1; t <= 1 ? this.CrearDiv("divresultados", this.idResult + "_result", "col-xs-12") : document.getElementById("ul_" + this.idResult).innerHTML = ""; var u = e.length, m = "", p = 0; if (this.CrearDiv(this.idResult + "_result", this.idResult + "_totalresult"), u > 0) { p = e[0].TOTAL; var h, g, v, b, E, y, C, f, x, B, T, I, A = t; m = "es" === n ? e[0].TOTAL + " resultados para " + i : e[0].TOTAL + " results for " + i, this.CrearULIL(this.idResult + "_result", "ul_" + this.idResult, "tbl", "ul", "style", "padding-left:0px"); for (var _ = 0; _ < e.length; _++)(h = document.createElement("li")).className = "row indicador", h.style.paddingLeft = "0px", h.id = "li_" + this.idResult + "_" + e[_].INDICADOR, (g = document.createElement("div")).style.cursor = "pointer !important", g.id = "snippet_row-" + this.idResult + "-" + A, h.appendChild(g), "0" === params.custom_Expl ? ((b = document.createElement("div")).className = "col-md-12 col-xs-12", b.style.display = "-webkit-box", b.id = "snippet_row_titulo-" + this.idResult + "-" + A, g.appendChild(b)) : ((b = document.createElement("div")).className = "col-md-11 col-xs-11", b.style.display = "-webkit-box", b.id = "snippet_row_titulo-" + this.idResult + "-" + A, g.appendChild(b)), "1" === params.custom_Chck && (r = -1 !== window.location.href.toLowerCase().indexOf("/app/indicadores") ? "" !== l && -1 !== l.indexOf("," + e[_].INDICADOR + "_" + e[_].TEMA + ",") : "" !== l && -1 !== l.indexOf("," + e[_].INDICADOR + ","), (y = document.createElement("input")).type = "checkbox", y.value = A, y.checked = r, y.style.marginTop = "9px", -1 !== window.location.href.toLowerCase().indexOf("/app/indicadores") ? "0" === s.toString() ? (y.id = "SChBox_" + this.idResult + "_" + e[_].INDICADOR, y.setAttribute("data-parent-topic", e[_].TEMA), y.setAttribute("onclick", "javascript:searchengine('#" + this.idResult + "').serieselect('" + e[_].INDICADOR + "'," + e[_].TEMA + ",'" + y.id + "')")) : (y.id = "SChBox_" + this.idResult + "_" + e[_].INDICADOR + "_" + e[_].TEMA, y.setAttribute("data-parent-topic", e[_].TEMA), y.setAttribute("onclick", "javascript:searchengine('#" + this.idResult + "').serieselect('" + e[_].INDICADOR + "_" + e[_].TEMA + "'," + e[_].TEMA + ",'" + y.id + "')")) : (y.id = "SChBox_" + this.idResult + "_" + e[_].INDICADOR, y.setAttribute("onclick", "javascript:searchengine('#" + this.idResult + "').serieselect(" + e[_].INDICADOR + "," + e[_].TEMA + ",'" + y.id + "')")), b.appendChild(y)), (C = document.createElement("div")).style.display = "block", C.style.paddingLeft = "10px", C.id = "primero_" + this.idResult + "-" + A, b.appendChild(C), (f = document.createElement("label")).id = "textoLabel_" + A.toString(), f.style.display = "block", f.innerHTML = ("0" === s ? this.TrataTitle(e[_].TITULO) : e[_].TITULO.split("#")[0]) + (null !== e[_].UNIDAD_MEDIDA || "." !== e[_].UNIDAD_MEDIDA ? " (" + e[_].UNIDAD_MEDIDA + ")" : ""), C.appendChild(f), "0" === s ? ((x = document.createElement("label")).style.display = "block", x.innerHTML = this.TrataRuta(e[_].TITULO), C.appendChild(x)) : ((x = document.createElement("label")).style.display = "block", x.innerHTML = "es" === n ? this.TrataRuta(e[_].TEMATICA) : this.TrataRuta(e[_].TEMATICA_INGLES), C.appendChild(x)), "3" === s || "0" === s ? (d = "1", c = !0) : (d = e[_].MAXIMODESGLOSEGEOGRAFICO.toString(), c = !1), null !== e[_].FECHA_PUBLICACION && ((B = document.createElement("label")).innerHTML = ("es" === n ? "Fecha de última actualización: " : "Date for last update: ") + e[_].FECHA_PUBLICACION.replace("T00:00:00", ""), B.style.display = e[_].FECHA_PUBLICACION.includes("1900-01- 01") ? "none" : "block", B.style.fontSize = "12px", B.className = "indLink", C.appendChild(B)), "1" === params.custom_Expl && ((E = document.createElement("div")).className = "col-md-1 col-xs-1", E.id = "snippet_row_valores-" + this.idResult + "-" + A, g.appendChild(E), (T = document.createElement("div")).className = "colspanfcha", T.style.paddingLeft = "0px", T.style.paddingRight = "0px", T.style.textAlign = "right", E.appendChild(T), (I = document.createElement("a")).className = "glyphicon flecha glyphicon-chevron-down", I.setAttribute("data-toggle", "tooltip"), I.setAttribute("data-placement", "right"), I.setAttribute("data-original-title", "es" === n ? "Abrir" : "Open"), I.id = "flechas-resultado-" + this.idResult + "-" + A, I.style.paddingLeft = "0px", I.style.paddingRight = "0px", I.style.textAlign = "right", I.setAttribute("onclick", "javascript:searchengine('#" + this.idResult + "').openDataExplorer('resultado-" + this.idResult + "-" + A + "','flechas-resultado-" + this.idResult + "-" + A + "','#RWnivel1-" + this.idResult + "-" + A + "','" + e[_].INDICADOR + "','" + o + "','" + d + "','" + c + "','" + n + "','" + e[_].REPOSITORIO + "')"), T.appendChild(I), (v = document.createElement("div")).className = "col-xs-12", v.style.display = "none", v.id = "resultado-" + this.idResult + "-" + A, divrw = document.createElement("div"), divrw.className = "col-xs-12", divrw.id = "RWnivel1-" + this.idResult + "-" + A, v.appendChild(divrw), h.appendChild(v)), document.getElementById("ul_" + this.idResult).appendChild(h), highlight2("textoLabel_" + A.toString()), A++ } else m = "es" === n ? ' No se encontraron resultados que contengan "' + i + '"' : '" no results for ' + i + '"'; this.CrearLabel(this.idResult + "_totalresult", this.idResult + "_label_totalresult", "texto", m, "data-role", "none"), this.recordeventsearchstatusload(p), $("#" + params.contenedor).removeClass("classCarga") }, TrataTitle: function (e) { for (var t, a = e.split(">"), n = 0; n < a.length; n++)"" !== a[n] && n === a.length - 1 && (t = a[n].split("#")[0]); return t.trim() }, TrataRuta: function (e) { for (var t = e.split(">"), a = [], n = 0; n < t.length; n++)"" !== t[n] && n < t.length - 1 && a.push(t[n]); return a.join(">") }, CrearULIL: function (e, t, a, n, i, s, r, o, l, d, c, u, m, p) { if (!$("#" + t).length) { var h = document.createElement("" + n); null != a && (h.className = a), null != i && h.setAttribute(i, s), null != r && h.setAttribute(r, o), null != l && h.setAttribute(l, d), null != c && h.setAttribute(c, u), null != m && h.setAttribute(m, p), "" != t && (h.id = t), document.getElementById(e).appendChild(h) } }, CrearDiv: function (e, t, a, n, i, s, r, o, l, d, c, u, m, p) { var h; document.getElementById(t) || (h = document.createElement("div"), null != n && "" != n && null != n && (h.innerHTML = '[   <a ctype="sitesearch" onclick="SeleccionarTab(\'' + n + "')\" > Más resultados de " + $("#iu_TextBoxBuscar").val() + " en " + n + "</a> ]"), null != a && (h.className = a), null != i && h.setAttribute(i, s), null != r && h.setAttribute(r, o), null != l && h.setAttribute(l, d), null != c && h.setAttribute(c, u), null != m && h.setAttribute(m, p), "" != t && (h.id = t), document.getElementById(e).appendChild(h)) }, CrearLabel: function (e, t, a, n, i, s, r, o, l, d, c, u, m, p) { var h; if (!document.getElementById(t)) { if (h = document.createElement("label"), null != a && (h.className = a), null != i && h.setAttribute(i, s), null != r && h.setAttribute(r, o), null != l && h.setAttribute(l, d), null != c && h.setAttribute(c, u), null != m && h.setAttribute(m, p), "" != n) { var g = document.createTextNode(n); h.appendChild(g) } "" != t && (h.id = t), document.getElementById(e).appendChild(h) } }, limpiaText: function () { document.getElementById("btnLimpiarV2").style.display = "none", document.getElementById("iu_TextBoxBuscar").value = "", "Microsoft Internet Explorer" == navigator.appName && (document.getElementById("iu_TextBoxBuscar").innerText = ""), this.registraEventoLimpiar() }, openDataExplorer: function (e, t, a, n, i, s, r, o, l) { _this = this; var d = document.getElementById(e); if (d.style.display = "none" == d.style.display ? "block" : "none", "none" == d.style.display) $("#" + t).removeClass("glyphicon-chevron-up"), $("#" + t).addClass("glyphicon-chevron-down"), txtIcon = "en" == params.idioma ? "Open" : "Abrir", $("#" + t).attr("data-original-title", txtIcon); else { $("#" + t).removeClass("glyphicon-chevron-down"), $("#" + t).addClass("glyphicon-chevron-up"); var c = -1 !== params.ageoname.indexOf(",") ? (params.ageoname.split(",")[1] + ", " + params.ageoname.split(",")[0]).trim() : params.ageoname, u = "0" !== l; exploradorDatos(a).init(o, n, i, c, s, "9999", "9999", "0000000", !0, r, "", "grafica", "", u, params.tematica), txtIcon = "en" == params.idioma ? "Close" : "Cerrar", $("#" + t).attr("data-original-title", txtIcon) } }, removeResults: function (e, t, a, n, i, s, r, o) { var l = this.container; $(l).contents().remove(), document.getElementById(params.contenedor).className = "classCarga", this.pintaEstructura(e, t, a, n, i, s, r, o) }, serieselect: function (e, t, a) { var n = document.getElementById(a).checked; this.recordsearchserieselected(e, t, n) }, eventsearchstatusload: function () { this.container; document.addEventListener ? document.addEventListener("newEvento1Buscador", onSearchStatusLoad, !1) : document.attachEvent("onclick", onSearchStatusLoad) }, recordeventsearchstatusload: function (e) { this.container; var t = ""; (t = document.createEvent("CustomEvent")).initCustomEvent("newEvento1Buscador", !1, !1, { totalresults: e }), document.dispatchEvent(t) }, eventsearchserieselected: function () { this.container; document.addEventListener ? document.addEventListener("newEvento2Buscador", onSearchSerieSelected, !1) : document.attachEvent("onclick", onSearchSerieSelected) }, recordsearchserieselected: function (e, t, a) { this.container; var n = ""; (n = document.createEvent("CustomEvent")).initCustomEvent("newEvento2Buscador", !1, !1, { seriesselected: e, tema: t, isCheck: a }), document.dispatchEvent(n) }, pintaOrdenBuscador: function () { var e = this, t = "orden_buscador", a = "localhost" === document.domain || "127.0.0.1" === location.hostname ? "resources/colecciones.min.json" : "/app/buscador/recursos/colecciones.min.json"; $.getJSON(a, function (e) { datos = "es" === params.idioma ? e.indicadores.ordenar : e.indicadores_ingles.ordenar, $("#" + t).empty(), $.each(datos, function (e, a) { $("#" + t).append('<option value="' + e + '">' + a + "</option>") }) }), setTimeout(function () { e.presentaFiltros() }, 2e3) }, presentaFiltros: function () { switch (params.tematica) { case "0": $("#orden_buscador option[value='PERIODOS']").hide(), $("#orden_buscador option[value='TEMATICA']").hide(), $("#orden_buscador option[value='POPULARIDAD']").hide(); break; case "3": $("#orden_buscador option[value='POPULARIDAD']").hide() } }, chgSelectOrden: function (e, t) { indi_buscador = void 0 !== t ? t : ""; ordenBuscadorGlobal = e, this.registraBusqueda(indi_buscador) }, handleChange: function (e, t) { if (indi_buscador = void 0 !== t ? t : "", "" !== document.getElementById("iu_TextBoxBuscar").value) { this.registraBusqueda(indi_buscador) } }, searchtopic: function () { return "" }, isEmptyOrSpaces: function (e) { return null === e || null !== e.match(/^ *$/) }, pintaEstructura: function (e, t, a, n, i, s, r, o) { var l = this, d = document.createElement("div"); d.id = "divresultados"; var c = document.createElement("div"); c.className = "col-xs-6", c.id = "divpaginacion"; var u = document.createElement("ul"); u.id = "ulpaginacion", c.appendChild(u); var m = document.createElement("div"); m.id = "selecpaginacion", m.className = "col-xs-6", m.style.marginTop = "20px", m.style.marginBottom = "20px", m.style.textAlign = "right"; var p = document.createElement("span"); p.innerText = "en" === params.idioma ? "Results per page:" : "Resultados por página:", m.appendChild(p); var h = document.createElement("SELECT"); h.setAttribute("id", "mySelect"), h.onchange = function (e) { var t = document.getElementById("mySelect").selectedIndex, a = document.getElementById("mySelect").options[t].value; tamanioPagina = parseInt(a); var n = ""; -1 !== window.location.href.toLowerCase().indexOf("/app/indicadores") ? n = appCode.traeIndicadoresBusq() : "1" === params.custom_Chck && (n = buscadorCode.traeIndicadoresBusq()), l.registraBusqueda(n) }, m.appendChild(h); var g = document.createElement("option"); g.setAttribute("value", "20"), 20 === tamanioPagina && (g.selected = !0); var v = document.createTextNode("20"); g.appendChild(v), h.appendChild(g); var b = document.createElement("option"); b.setAttribute("value", "50"), 50 === tamanioPagina && (b.selected = !0); var E = document.createTextNode("50"); b.appendChild(E), h.appendChild(b); var y = document.createElement("option"); y.setAttribute("value", "100"), 100 === tamanioPagina && (y.selected = !0); var C = document.createTextNode("100"); y.appendChild(C), h.appendChild(y), document.getElementById(l.id).appendChild(d), document.getElementById(l.id).appendChild(c), document.getElementById(l.id).appendChild(m), setTimeout(function () { l.querySearchV2(e, t, a, n, i, s, r, o) }, 2e3) }, limpiaPagina: function () { $("#ul_divresultados").contents().remove() }, crearPaginationV2: function (e, t) { var a = this, n = { bootstrapMajorVersion: 3, currentPage: 1, numberOfPages: 5, totalPages: Math.ceil(e / t), onPageClicked: function (n, i, s, r) { "1" === params.custom_Herr ? buscadorCode.clicPagina(r, e, t) : -1 !== window.location.href.toLowerCase().indexOf("/app/indicadores") ? appCode.clicPagina(r, e, t) : a.clicPage(r, e, t) } }; $("#ulpaginacion").bootstrapPaginator(n) }, clicPage: function (e, t, a, n) { indi_buscador = void 0 !== n ? n : ""; var i = document.getElementById("iu_TextBoxBuscar").value; if ("" !== i) { this.limpiaPagina(); var s = this.searchtopic(), r = this.searchmethod(), o = parseInt(e) * a - (a - 1) - 1; this.init(params.tematica, i, params.idioma, params.ageo, o, a, r, s, ordenBuscadorGlobal) } } }, window.searchengine || (window.searchengine = e) }(), $(document).keyup(function (e) { void 0 !== params && $(".iu_TextBoxBuscar:focus") && (null !== document.getElementById("btnLimpiarV2") && (document.getElementById("btnLimpiarV2").style.display = "inline"), 13 === e.keyCode && (searchengine("#" + params.contenedor).isEmptyOrSpaces(document.getElementById("iu_TextBoxBuscar").value) || (paginascroll = 0, scroll = 0, searchengine("#" + params.contenedor).callsearch(!0)))) });