var SerieValoresPeriodos, UltimoAnio, UltimoMes, PrimerAnio, PrimerMes, Frecuencia, UltimoMesPeriodo, Meses = new Array("Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"), Quincenas = new Array("1Q Ene", "2Q Ene", "1Q Feb", "2Q Feb", "1Q Mar", "2Q Mar", "1Q Abr", "2Q Abr", "1Q May", "2Q May", "1Q Jun", "2Q Jun", "1Q Jul", "2Q Jul", "1Q Ago", "2Q Ago", "1Q Sep", "2Q Sep", "1Q Oct", "2Q Oct", "1Q Nov", "2Q Nov", "1Q Dic", "2Q Dic"), esq = ""; !function () { var e = function (e) { return new t(e) }, t = function (e) { if (e) { configura(e).init(); var i = document.querySelectorAll(e), t = 0; for (this.length = i.length, this.id = i[this.length - 1].id, this.tk = C_token; t < this.length; t++) this[t] = i[t]; return this } return this }; e.fn = t.prototype = { init: function (e, i, t, o, n, a, r, l, s, d) { var c = this, u = void 0 == d ? !0 : d, m = c.id, v = '<table border="0" cellspacing="0" cellpadding="0" width="100%" align="center">'; 1 == JSON.parse(u) && (v += '<tr><td><div class="title-calculadora" style="padding:2px">', v += '<table border="0" cellspacing="10" cellpadding="0" width="100%" align="center">', v += '<tr style="height:30px;">   <td width="10%"></td>  <td width="80%" class="EstiloTexto" align="center"> <b>Calculadora de inflaci&oacute;n</b></td>', v += '<td width="10%" align="right"><a href="/app/indicesdeprecios/documentos/Calculadora_de_Inflacion.pdf" class="EstiloTexto" style="color:black;font-style:italic;" target="_blank">Ayuda </a></td>', v += "</tr></table></div></td> </tr>"), v += '<tr>  <td>  <table border="1" cellspacing="0" cellpadding="0" width="100%" class="table table-condensed table-bordered EstiloTexto">', v += '<tr>   <td align="center" style="padding: 3px;" class="EstiloTexto">', v += 1 == JSON.parse(u) ? '<span id="TituloCal"></span>  <table border="0" cellspacing="0" cellpadding="0" width="95%">' : '<a href="/app/indicesdeprecios/documentos/Calculadora_de_Inflacion.pdf" class="EstiloTexto" style="font-style:italic; float:right; color:black;" target="_blank">Ayuda </a><span id="TituloCal"></span><table border="0" cellspacing="0" cellpadding="0" width="95%"> </div>', v += '<tr> <td>  <div id="tdPeriodo" style="text-align:center; font-style:italic"></div><div id="tdBase" style="text-align:center; font-style:italic"></div></td> </tr> </table> </td> </tr><tr> <td align="center" style="padding: 5px;" class="EstiloTexto"><div class="col-xs-12 col-md-6"><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr style="font-style:italic;">   <td id="tdDe" align="center">  Inflaci&oacute;n de&nbsp;&nbsp;<select class="form-control" name="MesPeriodoInicio" id="MesPeriodoInicio" style="width:auto; display:inherit;"></select>&nbsp;/&nbsp; <select class="form-control" name="AnioPeriodoInicio" id="AnioPeriodoInicio" style="width:auto; display:inherit;"></select></td></tr>  </table>  </div><div class="col-xs-12 col-md-6"><table width="100%"><tr><td id="tdA" align="center">a&nbsp;&nbsp; <select class="form-control" name="MesPeriodoFin" id="MesPeriodoFin" style="width:auto; display:inherit;"></select>&nbsp;/&nbsp;  <select class="form-control" name="AnioPeriodoFin" id="AnioPeriodoFin" style="width:auto; display:inherit;"></select></td></tr> </table>  </div><p></p><div class="row"><div class="col-xs-12 col-md-6 borderPanel"><div class="panel panel-primary panelINP"><div class="panel-heading "><div class="row"><div class="col-xs-3"><i dir="/img/temas/economia/economia.png"></i> </div><div class="col-xs-9 text-right"><div id="inflacionValor" class="huge"></div><div id="inflacionPeriodo"></div><br /> </div> </div> </div> </div> </div><div class="col-xs-12 col-md-6 borderPanel"><div class="panel panel-primary panelINP"><div class="panel-heading  "><div class="row">  <div class="col-xs-3">   <i dir="/img/temas/economia/economia.png"></i>   </div><div class="col-xs-9 text-right">  <div id="TPMinflacionValor" class="huge"></div><div id="TPMinflacionPeriodo"></div>  </div></div> </div> </div>  </div> </div><button data-role="none" id="BtnCalcular" class="btn btn-default" type="button" onclick="javascript: BIINEGICalculadoraINP(\'#' + m + '\').calculadora();">Calcular</button>&nbsp;&nbsp;<button data-role="none" id="BtnCerrar" type="button" class="btn btn-default" onclick="javascript: BIINEGICalculadoraINP(\'#' + m + "').registraEventoClose();\">Cerrar</button></td></tr></table></td></tr></table>"; var g = document.getElementById(m); g.innerHTML = v, Frecuencia = l, document.getElementById("tdBase").innerHTML = r, c.eventoClose(), c.consultaDatosIniciales(e, s, o) }, cargaLibrerias: function () { var e = this; document.location.toString(), document.domain.toString(); "localhost" == document.domain ? e.librerias("http://desarrolloalpha.inegi.org.mx/componentes/biinegi/styles/calculadoraINP.min.css", "css", "ip1") : e.librerias("/componentes/biinegi/styles/calculadoraINP.min.css", "css", "ip1") }, librerias: function (e, i, t) { var o = t; if (!document.getElementById(o)) { var n = document.getElementsByTagName("head")[0]; if ("css" == i) { var a = document.createElement("link"); a.rel = "stylesheet", a.type = "text/css", a.id = o, a.href = e, n.appendChild(a) } else { var a = document.createElement("script"); a.type = "text/javascript", a.id = o, a.src = e, n.appendChild(a) } } }, LlenadoTituloCalculadora: function (e, i) { document.getElementById("TituloCal").innerHTML = "<b>" + e + "</b>" }, calculadora: function () { var e = this, t = e.getPeriods("MesPeriodoInicio"), o = e.getPeriods("AnioPeriodoInicio"), n = e.getPeriods("MesPeriodoFin"), a = e.getPeriods("AnioPeriodoFin"), r = e.validateperiods(o, a, t, n); 1 == r && (t = this.getPeriods("MesPeriodoInicio"), o = this.getPeriods("AnioPeriodoInicio"), n = this.getPeriods("MesPeriodoFin"), a = this.getPeriods("AnioPeriodoFin")), strPeriodoInicio = t + "-" + o; var l = n + "-" + a, s = ""; valorFin = "", inicio = !1, fin = !1; var d = 0; contadorFinal = 0, totalDatos = 0; var c = SerieValoresPeriodos.length; for (i = 0; i < c && (vecPeriodoValor = SerieValoresPeriodos[i].split("&"), vecPeriodo = vecPeriodoValor[0].split("-"), vecPeriodoValor[0] == strPeriodoInicio && (s = vecPeriodoValor[1], d = i, inicio = !0), vecPeriodoValor[0] == l && (valorFin = vecPeriodoValor[1], contadorFinal = i, fin = !0), !inicio || !fin) ; ++i); this.calculateInflation(valorFin, s, t + " " + o + " a " + n + " " + a), this.calculateAverageMonthlyInflationRate(valorFin, s, d - contadorFinal, t + " " + o + " a " + n + " " + a) }, calculateInflation: function (e, i, t) { var o = "N/E"; (0 != e || 0 != i) && (o = (100 * (e / i - 1)).toFixed(2) + "%"), document.getElementById("inflacionValor").innerHTML = o, document.getElementById("inflacionPeriodo").innerHTML = "Inflaci&oacute;n <b>de " + t + "</b>&nbsp;" }, calculateAverageMonthlyInflationRate: function (e, i, t, o) { var n = "N/E"; if (0 != e || 0 != i) { var a = ""; e.indexOf("-") >= 0 && (a = "-", e = e.replace("-", "")), n = a + (100 * (Math.pow(e / i, 1 / t) - 1)).toFixed(2) + "%" } document.getElementById("TPMinflacionValor").innerHTML = n, document.getElementById("TPMinflacionPeriodo").innerHTML = "Tasa Promedio Mensual de Inflaci&oacute;n  <b>de " + o + "</b>&nbsp;" }, getPeriods: function (e) { var i = document.getElementById(e), t = ""; for (z = 0; z < i.options.length; z++) if (1 == i.options[z].selected) { t = i.options[z].text; break } return t }, monthNametoNumber: function (e, i) { var t = document.getElementById(e), o = ""; for (z = 0; z < t.options.length; z++) if (t.options[z].text == i) { o = t.options[z].value; break } return o }, validateperiods: function (e, i) { var t = this.getNumerMonthSelected("MesPeriodoInicio"), o = this.getNumerMonthSelected("MesPeriodoFin"), n = (this.monthNametoNumber("MesPeriodoFin", UltimoMes), !1); return parseInt(e) > parseInt(i) && (this.reloadAllOriginalPeriods(), n = !0), parseInt(e) == parseInt(i) && parseInt(t) >= parseInt(o) && (this.reloadAllOriginalPeriods(), n = !0), parseInt(i) == parseInt(UltimoAnio) && parseInt(o) > parseInt(UltimoMesPeriodo) && (this.reloadAllOriginalPeriods(), n = !0), n }, reloadAllOriginalPeriods: function () { this.reloadOriginalPeriods("AnioPeriodoInicio", UltimoAnio - 1, !0), this.reloadOriginalPeriods("AnioPeriodoFin", UltimoAnio, !0), this.reloadOriginalPeriods("MesPeriodoInicio", "Dic"), !1, this.reloadOriginalPeriods("MesPeriodoFin", UltimoMes, !1) }, reloadOriginalPeriods: function (e, i, t) { var o = document.getElementById(e); for (z = 0; z < o.options.length; z++) if (1 == t) { if (o[z].value == i) { o.options[z].selected = !0; break } } else if (o[z].text == i) { o.options[z].selected = !0; break } }, initialData: function (e, i, t, o, n, a, r, l, s) { Frecuencia = l, document.getElementById("tdBase").innerHTML = r }, consultaDatosIniciales: function (e, i, t) { var o = this; idEstructuraAux = "" == i ? "null" : i; var n = C_direccionServicio + "/CalculadoraINPInformacion/" + e + "/" + idEstructuraAux + "/json/" + o.tk + "?callback=?"; $.getJSON(n, null, function (e) { o.loadInitialData(e, i, t) }) }, loadInitialData: function (e, t, o) { function n(e) { var t; for ("Mensual" == Frecuencia ? periodosMesQuincena = Meses : periodosMesQuincena = Quincenas, i = 0; i < periodosMesQuincena.length; ++i) if (e == periodosMesQuincena[i]) { t = i + 1; break } return t } datosSerieResult = e.datos, "" != t ? document.getElementById("TituloCal").innerHTML = "<b>" + e.titulo + "</b>" : document.getElementById("TituloCal").innerHTML = "<b>" + o + "</b>"; var a = datosSerieResult[0].split("&"), r = a[0].split("-"); UltimoMesPeriodo = n(r[0]); var l = datosSerieResult[datosSerieResult.length - 1].split("&"); document.getElementById("tdPeriodo").innerHTML = "Período: " + l[0].replace("-", " ") + " - " + a[0].replace("-", " "), SerieValoresPeriodos = datosSerieResult; var s = this; datosSerieResult.length >= 12 ? s.loadMonthsControl("MesPeriodoInicio", 1, datosSerieResult) : s.loadMonthsControl("MesPeriodoInicio", 0, datosSerieResult), s.loadMonthsControl("MesPeriodoFin", 0, datosSerieResult), s.loadYearsControl("AnioPeriodoInicio", 1, datosSerieResult), s.loadYearsControl("AnioPeriodoFin", 0, datosSerieResult), s.selectLastMonthPeriod(), s.calculadora() }, loadYearsControl: function (e, t) { var o, n, a, r = SerieValoresPeriodos.length - 1; this.ObtienePeriodosExtremos(r); var l = document.getElementById(e); for (i = l.length - 1; i >= 0; i--) l.remove(i); for (r = SerieValoresPeriodos.length, i = 0; i < r; i++) { if (o = SerieValoresPeriodos[i].split("&"), n = o[0].split("-"), a != n[1]) { nAnio = document.createElement("option"), nAnio.text = n[1], nAnio.value = n[1], 1 == t ? UltimoAnio - 1 == nAnio.value && (nAnio.selected = !0) : UltimoAnio == nAnio.value && (nAnio.selected = !0); try { l.add(nAnio, null) } catch (s) { l.add(nAnio) } } a = n[1] } }, loadMonthsControl: function (e, t, o) { var n = document.getElementById(e); for (i = n.length - 1; i >= 0; i--) n.remove(i); var a = "", r = new Array, l = o.length - 1, s = 0, d = ""; if ("Mensual" == Frecuencia) { for (k = 0; k < Meses.length; k++) d += Meses[k] + ","; for (k = 0; k < Meses.length; k++) { var c = o[l].toString().substring(0, o[l].toString().indexOf("-")); l > -1 && -1 != d.indexOf(c) && (r[s] = c, l--, s++) } for (var u = new Array, m = 0; m < r.length; m++) switch (r[m]) { case "Ene": u[0] = r[m]; break; case "Feb": u[1] = r[m]; break; case "Mar": u[2] = r[m]; break; case "Abr": u[3] = r[m]; break; case "May": u[4] = r[m]; break; case "Jun": u[5] = r[m]; break; case "Jul": u[6] = r[m]; break; case "Ago": u[7] = r[m]; break; case "Sep": u[8] = r[m]; break; case "Oct": u[9] = r[m]; break; case "Nov": u[10] = r[m]; break; case "Dic": u[11] = r[m] } a = u } else { var v = ""; for (k = 0; k < Quincenas.length; k++) v += Quincenas[k] + ","; for (k = 0; k < Quincenas.length; k++) if (l > -1) { var g = o[l].toString().substring(0, o[l].toString().indexOf("-")); -1 != v.indexOf(g) && (r[s] = g, l--, s++) } for (var p = new Array, m = 0; m < r.length; m++) switch (r[m]) { case "1Q Ene": p[0] = r[m]; break; case "2Q Ene": p[1] = r[m]; break; case "1Q Feb": p[2] = r[m]; break; case "2Q Feb": p[3] = r[m]; break; case "1Q Mar": p[4] = r[m]; break; case "2Q Mar": p[5] = r[m]; break; case "1Q Abr": p[6] = r[m]; break; case "2Q Abr": p[7] = r[m]; break; case "1Q May": p[8] = r[m]; break; case "2Q May": p[9] = r[m]; break; case "1Q Jun": p[10] = r[m]; break; case "2Q Jun": p[11] = r[m]; break; case "1Q Jul": p[12] = r[m]; break; case "2Q Jul": p[13] = r[m]; break; case "1Q Ago": p[14] = r[m]; break; case "2Q Ago": p[15] = r[m]; break; case "1Q Sep": p[16] = r[m]; break; case "2Q Sep": p[17] = r[m]; break; case "1Q Oct": p[18] = r[m]; break; case "2Q Oct": p[19] = r[m]; break; case "1Q Nov": p[20] = r[m]; break; case "2Q Nov": p[21] = r[m]; break; case "1Q Dic": p[22] = r[m]; break; case "2Q Dic": p[23] = r[m] } a = p } for (var b = new Array, h = 0, f = 0; f < a.length; f++) "" != a[f] && (b[h] = a[f], h++); var P = b.length; for (i = 0; i < P; ++i) { nElemt = document.createElement("option"), nElemt.text = b[i], nElemt.value = i + 1, 1 == t ? P == i + 1 && (nElemt.selected = !0) : UltimoMes - 1 == nElemt.value && (nElemt.selected = !0); try { n.add(nElemt, null) } catch (I) { n.add(nElemt) } } }, ObtienePeriodosExtremos: function (e) { var i = SerieValoresPeriodos[0].split("&"), t = i[0].split("-"); UltimoMes = t[0], UltimoAnio = t[1]; var o = SerieValoresPeriodos[e].split("&"), n = o[0].split("-"); PrimerMes = n[0], PrimerAnio = n[1] }, selectLastMonthPeriod: function () { var e = document.getElementById("MesPeriodoFin"); for (i = 0; i < e.length; ++i) if (UltimoMes == e[i].text) { e[i].selected = !0; break } }, getNumerMonthSelected: function (e) { var t = document.getElementById(e); for (i = 0; i < t.length; ++i) if (1 == t[i].selected) return t[i].value }, loadlTitles: function (e, i) { document.getElementById("TituloCal").innerHTML = "<b>" + e + "</b>" }, OcultaMPECalculadora: function () { var e = location.pathname; e.indexOf("CalculadoraInflacion.aspx") > -1 ? window.close() : (document.getElementById("modalCalcContainer").style.display = "none", document.getElementById("PrincipalContainer").style.display = "block") }, error: function (e, i) { alert("Error en la serie: " + i + ". Error generado: " + e._message) }, eventoClose: function () { var e = this, i = e.id, t = "newEventoClose" + i; document.addEventListener ? document.addEventListener(t, onCloseCalculadora, !1) : document.attachEvent("onclick", onCloseCalculadora) }, registraEventoClose: function () { var e = this, i = e.id, t = "newEventoClose" + i, o = ""; o = document.createEvent("CustomEvent"), o.initCustomEvent(t, !1, !1, { container: e.id }), document.dispatchEvent(o) } }, window.BIINEGICalculadoraINP || (window.BIINEGICalculadoraINP = e) }();