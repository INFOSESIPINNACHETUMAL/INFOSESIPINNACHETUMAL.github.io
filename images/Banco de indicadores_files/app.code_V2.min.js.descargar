//11/032024
var paramAccept, tempDetail, tematicaGlobal = "6", idiomaGlobal = "es", ageoFiltros = "0700", arrayAgeo = [], nombreAreaGlobalFiltro = "", areaGeoGlobal = "0700", nombreAreaGlobal = "", fuenteGlobal = "0", temaGlobal = "null", indicadorGlobal = "", principalesGlobal = "null", desgloseGeoGlobal = "0", verBie = "false", totalSeleccionGlobal = 0, auxFilter = [], temasRecursivosGlobal = "", estatusCargaIndicador = "inicio", fvContainer = "", numSeriesZoom = 0, maximoSeries = 100, temasUnchekedZoom = "", temasCheckedZoom = "", archivoAbierto = !1, selectedChartView = "principal", windowApp = "", indicadoresCheckedZoom = "", indicadoresUnCheckedZoom = "", textGlobal = [], vistaIndicador = "grafica", estadisticoGlobal = "false", archConsulta = !1, flagComparativo = !1, areaGeograficaConsultaGlobal = "00", comparaAreasGeoSelected = [], periodosGlobal = [], orientacionGlobal = "v", tipoCuadroConsulta = "indicador", cargaArbolMultiple = !0, areaGeograficaUnicaGlobal = "00", filtro = "", first = !0, byTema = !1, byFuente = !1, perioConsulta = [], permiteConsultaTema = !0, permiteConsultaPrograma = !0, ultimoClic = "1", cvesExportar = "00", periExportar = "", perfExportar = "", tipoExportar = "xls", percExportar = !1, fixmeTop = 0, altoHerramientas = 33, anchoBody = 0, positionScroll = 0, permisoPrograma = !1, programaFiltros = "null", checaDispositivo = "", tematicaGlobalPura = "6", globalTXT = "", globalTXT_arbol = "", arrayPeriodos = [], arrayPeriodos_arbol = [], tempageo_cad = "", respondePX = "", regresa = !1, revisionGlobal = "", vecTemInd = []; function onClicCobertura(e) { first = !1, document.getElementById("ini_cobe").innerText = "1", 0 === e.detail.cobertura && (areaGeoGlobal = "0700"), desgloseGeoGlobal = 0 === e.detail.cobertura ? "null" : e.detail.cobertura, desgloseGeoGlobalname = "en" === idiomaGlobal ? "Geographic coverage: " + e.detail.descripcion : "Cobertura geográfica: " + e.detail.descripcion, ultimoClic = "0" === desgloseGeoGlobal ? "1" : "2", filtro = "<b>" + desgloseGeoGlobalname + "</b>", permiteConsultaTema = !0, permiteConsultaPrograma = !0; fuenteGlobal = "null", temaGlobal = "null", $("#bodyTema").hasClass("in") && appCode.filterTema(), $("#bodyPrograma").hasClass("in") && appCode.filterPrograma(), $("#bodyAgeo").hasClass("in") && $("#drop_ageo").trigger("click") } function onFinishCobertura(e) { document.getElementById("fin_cobe").innerText = e.detail.total, $("#cmp_cobertura").addClass("noload").removeClass("load") } appCode = { init: function () { appCode.showLoading(), appCode.toolTips() }, getApi: function () { return C_direccionServicio_V + "_" + API_V }, showOpenFile: function () { window.File && window.FileReader && window.FileList && window.Blob ? (reader = new FileReader, $("#openTxtModal").modal("show"), $("#loadfilemessage").css("display", "none")) : alert("The File APIs are not fully supported by your browser. Fallback required.") }, reiniciaVariables: function () { cvesExportar = "00", periExportar = "", perfExportar = "", tipoExportar = "xls", percExportar = !1, vecTemInd = [] }, manejaCves: function (e, a) { var o = [], t = []; tempageo_cad = ""; for (var i = e.split(","), l = 0; l < i.length; l++)for (var n = 0; n < arraybiebise.length; n++)if ("" !== i[l] && i[l] === arraybiebise[n].split("_")[0]) { o.includes(arraybiebise[n].split("_")[2]) || (o.push(arraybiebise[n].split("_")[2]), t.push(arraybiebise[n].split("_")[2] + "*" + arraybiebise[n].split("_")[2] + "*Estatal")); break } return "ageostring" === a ? tempageo_cad = o.join(",") : t }, irExportar: function () { var e; appCode.reiniciaVariables(), "xs" !== (checaDispositivo = appCode.findBootstrapEnvironment()) && "sm" !== checaDispositivo || ($("#mdlExport").removeClass(), $("#itemMC_56").css("margin-top", "0px"), $("#col_2").css("text-align", "left")), $("#mdExportar").removeClass(), "0" === tematicaGlobal.toString() || "3" === tematicaGlobal.toString() || "6" === tematicaGlobal.toString() ? ($("#mdExportar").addClass("modal-dialog windowMen"), appCode.validaBIE()) : $("#mdExportar").addClass("modal-dialog"), "," === (e = "0" === tematicaGlobal ? cveSeriesSelectedG : appCode.rescataIndicadores(cveSeriesSelectedG)).charAt(0) && (e = e.substring(1, e.length - 1)), "," === e.charAt(e.length - 1) && (e = e.substring(0, e.length - 2)), tempageo_cad = ""; var a = ""; a = { areaGeografica: tempageo_cad = "" === (tempageo_cad = "3" === tematicaGlobal ? this.manejaCves(e, "ageostring") : areaGeoGlobal) ? "3" === tematicaGlobal ? "null" : areaGeoGlobal : tempageo_cad, tema: "null", indicadoresPrincipales: "null", idioma: "es", programa_ciclo: "null", ambito_Sec: "0", indicadoresSeleccionados: e, letra: "null", busqueda: "null", frecuencia: "null", tematica: tematicaGlobal, formato: "json", token: C_token }, a = JSON.stringify(a), $.ajax({ method: "POST", url: appCode.getApi() + "/API.svc/PeriodoA", contentType: "application/json; charset=utf-8", dataType: "json", data: a, processData: !0, success: function (e) { arrayPeriodos_arbol = e, appCode.vaciarCombo("exp_ini"), appCode.vaciarCombo("exp_fin"), appCode.llenaCombo(e, "exp_ini"), appCode.llenaCombo(e, "exp_fin") }, error: function (e, a, o) { console.log(a, o) } }), $("#modalExportar").modal({ backdrop: "static", keyboard: !1 }), $("html").css("overflow-y", "hidden") }, validaBIE: function () { $("#col_1").removeClass(), $("#col_1").addClass("col-xs-12") }, vaciarCombo: function (e) { for (var a = document.getElementById(e); a.options.length > 0;)a.options[a.options.length - 1] = null }, llenaCombo: function (e, a) { var o = document.getElementById(a), t = e[0]; "3" !== tematicaGlobal && "0" !== tematicaGlobal || (t = e.length >= 2 ? e[e.length - 2] : e.length > 0 ? e[e.length - 1] : e[0]); for (var i = 0; i < e.length; i++)o.options[i] = new Option, o.options[i].text = e[i], o.options[i].title = e[i], o.options[i].value = e[i], "exp_ini" === a && e[i] === t && (o.options[i].selected = !0); "exp_ini" !== a && (o.options[o.length - 1].selected = !0) }, getParametros: function () { idiomaGlobal = appCode.evaluaParametro(appCode.getParameterByName("lang"), "es"), areaGeoGlobal = convertidorAreasGeo().init(appCode.evaluaParametro(appCode.getParameterByName("ag"), "0700")), fuenteGlobal = appCode.evaluaParametro(appCode.getParameterByName("p"), "0"), temaGlobal = appCode.evaluaParametro(appCode.getParameterByName("t"), "null"), indicadorGlobal = appCode.evaluaParametro(appCode.getParameterByName("ind"), ""), tematicaGlobal = appCode.evaluaParametro(appCode.getParameterByName("tm"), "6"), revisionGlobal = -1 !== window.location.href.indexOf("desarrollowww") || -1 !== window.location.href.indexOf("internetpwww") ? appCode.evaluaParametro(appCode.getParameterByName("revpre"), "") : "", tematicaGlobalPura = tematicaGlobal, appCode.trataIdioma(), appCode.trataTematica(), byTema = "null" !== temaGlobal, byFuente = "0" !== fuenteGlobal, programaFiltros = fuenteGlobal, "8" === tematicaGlobal && (varHerr = "28"), "7" === tematicaGlobal && (varHerr = "30"); var e = { contenedor: "contextTopics2", alterno: "contextTopics", idioma: idiomaGlobal, ageo: areaGeoGlobal, ageoname: nombreAreaGlobal, tematica: tematicaGlobal, custom_Herr: "0", custom_Chck: "1", custom_Expl: "1", indicadores: cveSeriesSelectedG, herramienta: varHerr }; searchengine("#contextTopics2").cargaInicial(e) }, evaluaParametro: function (e, a) { var o = e; return null != e && "" !== e || (o = a), o }, getParameterByName: function (e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var a = new RegExp("[\\?&]" + e + "=([^&#]*)", "gi").exec(location.search); return null === a ? "" : decodeURIComponent(a[1].replace(/\+/g, " ")) }, putTooltip: function (e, a) { "xs" !== checaDispositivo && void 0 !== e && (e && $(e).tooltip("hide"), $(e).attr("title", a), -1 === e.indexOf("_43") && -1 === e.indexOf("_44") && $(e).attr("data-toggle", "tooltip dropdown"), $(e).attr("data-original-title", a), $(e).tooltip("fixTitle"), $(e).attr("data-placement", "left")) }, trataIdioma: function () { if (document.location.toString().indexOf("en.") > -1 && (idiomaGlobal = "en"), "en" === idiomaGlobal) { document.getElementById("iu_TextBoxBuscar").setAttribute("placeholder", "Search for indicators..."), document.getElementById("titleRuta").innerHTML = "Copy route", document.getElementById("itemMC_66").innerHTML = "Tutorials", document.getElementById("cnv_iqy").innerHTML = "IQY Converter", document.getElementById("convertIQY").innerHTML = "Convert"; "<ol><li>Press the Explore button and locate the IQY file.</li><li>Once selected, press the Open button.</li><li>Click the Convert button.</li><li>Locate the IQY file ending in “_converted” on your computer.</li></ol>", document.getElementById("txt_iqy").innerHTML = "<p>To convert a file: </p><ol><li>Press the Explore button and locate the IQY file.</li><li>Once selected, press the Open button.</li><li>Click the Convert button.</li><li>Locate the IQY file ending in “_converted” on your computer.</li></ol>", $("#btnLimpiarV2").attr("data-original-title", "Clear"), $("#btnBuscar").attr("data-original-title", "Search"), $("#btn_abrir").attr("data-original-title", "Open query"), $("#btn_consulta").attr("data-original-title", "Query"), $("#btn_graficar").attr("data-original-title", "See graph"), $("#btn_px").attr("data-original-title", "See table"), $("#btn_exporta").attr("data-original-title", "Download"), $("#btn_vistasin").attr("data-original-title", "View without groups"), $("#btn_vistacon").attr("data-original-title", "View with groups"), $("#url_ayuda").attr("data-original-title", "Frecuent questions"), $("#tooltipcerrar").attr("data-original-title", "Close"), $("#tooltipcerrarGrf").attr("data-original-title", "Close"), $("#ttipcerrar").attr("data-original-title", "Close") } }, trataTematica: function () { "0" !== tematicaGlobal && "3" !== tematicaGlobal || (verBie = "true", "0" !== tematicaGlobal && $("#btn_exporta").css("visibility", "hidden")), "6" !== tematicaGlobal ? "0" !== tematicaGlobal && "3" !== tematicaGlobal || ($("#url_ayuda").attr("href", "preguntasf_bie.html"), $("#url_hlp").show(), $("#tutoriales_biinegi").hide(), "0" === tematicaGlobal && $("#tutoriales_bie").css("display", "inline-block")) : ($("#url_hlp").hide(), $("#url_ayuda").attr("href", "preguntasf.html")), $.getJSON("resources/tematicas-" + idiomaGlobal + ".json", function (e) { for (var a = 0; a < e.tematicas.length; a++)e.tematicas[a].tematica === tematicaGlobal && ("true" === verBie ? "0" === tematicaGlobal ? (document.getElementById("itemMC_5").innerText = e.tematicas[a].titulo + ("" !== revisionGlobal ? "1" === revisionGlobal ? " - Revisión" : "2" === revisionGlobal ? " - Pre producción" : "" : ""), document.title = e.tematicas[a].titulo + ("" !== revisionGlobal ? "1" === revisionGlobal ? " - Revisión" : "2" === revisionGlobal ? " - Pre producción" : "" : ""), document.getElementById("title-nav").innerText = e.tematicas[a].titulo + ("" !== revisionGlobal ? "1" === revisionGlobal ? " - Revisión" : "2" === revisionGlobal ? " - Pre producción" : "" : "")) : (document.getElementById("itemMC_5").innerText = e.tematicas[a].titulo, document.title = e.tematicas[a].titulo, document.getElementById("title-nav").innerText = e.tematicas[a].titulo) : (document.getElementById("itemMC_5").innerText = e.tematicas[a].titulo, document.getElementById("title-nav").innerText = e.tematicas[a].titulo), document.getElementById("itemMC_6").innerText = e.tematicas[a].descripcion, document.getElementById("title-nav").href = window.location.href) }).error(function (e, a, o) { console.log("error " + a), console.log("incoming Text " + e.responseText) }) }, showChartExplorer: function (e) { appCode.trataV2(e) }, trataV2: function (e) { document.getElementById("PrincipalContainer").style.display = "none", $("#containerindicatorlist").css("display", "none"), "true" === verBie ? appCode.getApi().toUpperCase().indexOf("V1_2") > -1 ? $("#divOpcionesTipoCuadro").css("display", "") : $("#divOpcionesTipoCuadro").css("display", "none") : $("#divOpcionesTipoCuadro").css("display", ""), tipoCuadroConsulta = "indicador", appCode.goGraficarV2(e) }, veChart: function () { "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); var e = cveSeriesSelectedG; if ("" === e) { var a = "es" === idiomaGlobal ? "Debe especifica al menos una serie para continuar" : "You should at least specify a number to continue"; window.alert(a) } else $("#zoomTemaExplorer").css("display", "none"), this.traePeriodosPX(e, idiomaGlobal, areaGeograficaUnicaGlobal, tematicaGlobal, !1) }, traePeriodosPX: function (e, a, o, t, i) { var l, n = this, r = o; "," === (l = "0" === tematicaGlobal ? e : appCode.rescataIndicadores(e)).charAt(0) && (l = l.substring(1, l.length - 1)), "," === l.charAt(l.length - 1) && (l = l.substring(0, l.length - 1)), "3" === tematicaGlobal && (r = n.manejaCves(l, "ageostring")), "" === r && (r = "" === r && "3" === tematicaGlobal ? "null" : o); var c = appCode.getApi() + "/API.svc/PeriodoA/" + r + "/null/null/es/0/0/" + l + "/null/null/null/" + tematicaGlobal + "/json/" + C_token + "?callback=?"; if (c.length < 250) $.getJSON(c, null, function (a) { for (var t = [], l = 0; l < a.length; l++)t.push(a[l]); i ? n.goPXV3(t, e, o) : n.showChartExplorer(t) }).fail(function (e, a, o) { appCode.hideLoading(), alert("getJSON request failed! " + a) }); else { var d, s = appCode.getApi(); d = -1 != s.toUpperCase().indexOf("V1_2") || -1 != s.toUpperCase().indexOf("V1_3") ? { areaGeografica: r, tema: "null", indicadoresPrincipales: "null", idioma: "es", programa_ciclo: "null", ambito_Sec: "0", indicadoresSeleccionados: l, letra: "null", busqueda: "null", frecuencia: "null", tematica: tematicaGlobal, formato: "json", token: C_token } : { areaGeografica: r, tema: "null", indicadoresPrincipales: "null", idioma: "es", programa_ciclo: "null", ambito_Sec: "0", indicadoresSeleccionados: l, letra: "null", busqueda: "null", frecuencia: "null", formato: "json", token: C_token }, d = JSON.stringify(d); var m = -1 != appCode.getApi().toUpperCase().indexOf("V1_2") ? appCode.getApi() + "/API.svc/PeriodoA" : appCode.getApi() + "/PeriodoA"; $.ajax({ method: "POST", url: m, contentType: "application/json; charset=utf-8", dataType: "json", data: d, processData: !0, success: function (a) { for (var t = [], l = 0; l < a.length; l++)t.push(a[l]); i ? n.goPXV3(t, e, o) : n.showChartExplorer(t) }, error: function (e, a, o) { console.log(a, o) } }) } }, goPrecision: function () { "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); var e = cveSeriesSelectedG, a = appCode.getApi() + "/API.svc/IndicadorPrecision/" + e + "/" + tematicaGlobal + "/json/" + C_token + "?callback=?"; $.getJSON(a, null, function (e) { appCode.goGraficar(e) }) }, goGraficarV2: function (e) { $("#containerdataexplorer").css("display", "none"), $("#chartoptionexplorer").css("display", "none"), $("#openchartexplorer").css("display", "block"), document.getElementById("divgraficaBiinegi").innerHTML = ""; var a; "," === (a = "0" === tematicaGlobal ? cveSeriesSelectedG : appCode.rescataIndicadores(cveSeriesSelectedG)).charAt(0) && (a = a.substring(1, a.length - 1)), "," === a.charAt(a.length - 1) && (a = a.substring(0, a.length - 1)); var o = a.split(","); if (comparaAreasGeoSelected = [], "3" === tematicaGlobal && (arrayAgeo = this.manejaCves(a, "ageoarray")), 0 === arrayAgeo.length) elementAGeotext = "3" === tematicaGlobal ? '{"id":"07000001","nombre":"Aguascalientes","entidad":""}' : '{"id":"0700","nombre":"Estados Unidos Mexicanos","entidad":""}', "3" === tematicaGlobal ? comparaAreasGeoSelected = [{ id: "0700", nombre: "Estados Unidos Mexicanos", entidad: "Estatal" }, { id: "07000001", nombre: "Aguascalientes", entidad: "Estatal" }, { id: "07000002", nombre: "Baja California", entidad: "Estatal" }, { id: "07000003", nombre: "Baja California Sur", entidad: "Estatal" }, { id: "07000004", nombre: "Campeche", entidad: "Estatal" }, { id: "07000007", nombre: "Chiapas", entidad: "Estatal" }, { id: "07000008", nombre: "Chihuahua", entidad: "Estatal" }, { id: "07000009", nombre: "Ciudad de México", entidad: "Estatal" }, { id: "07000005", nombre: "Coahuila de Zaragoza", entidad: "Estatal" }, { id: "07000006", nombre: "Colima", entidad: "Estatal" }, { id: "07000010", nombre: "Durango", entidad: "Estatal" }, { id: "07000011", nombre: "Guanajuato", entidad: "Estatal" }, { id: "07000012", nombre: "Guerrero", entidad: "Estatal" }, { id: "07000013", nombre: "Hidalgo", entidad: "Estatal" }, { id: "07000014", nombre: "Jalisco", entidad: "Estatal" }, { id: "07000016", nombre: "Michoacán de Ocampo", entidad: "Estatal" }, { id: "07000017", nombre: "Morelos", entidad: "Estatal" }, { id: "07000015", nombre: "México", entidad: "Estatal" }, { id: "07000018", nombre: "Nayarit", entidad: "Estatal" }, { id: "07000019", nombre: "Nuevo León", entidad: "Estatal" }, { id: "07000020", nombre: "Oaxaca", entidad: "Estatal" }, { id: "07000021", nombre: "Puebla", entidad: "Estatal" }, { id: "07000022", nombre: "Querétaro", entidad: "Estatal" }, { id: "07000023", nombre: "Quintana Roo", entidad: "Estatal" }, { id: "07000024", nombre: "San Luis Potosí", entidad: "Estatal" }, { id: "07000025", nombre: "Sinaloa", entidad: "Estatal" }, { id: "07000026", nombre: "Sonora", entidad: "Estatal" }, { id: "07000027", nombre: "Tabasco", entidad: "Estatal" }, { id: "07000028", nombre: "Tamaulipas", entidad: "Estatal" }, { id: "07000029", nombre: "Tlaxcala", entidad: "Estatal" }, { id: "07000030", nombre: "Veracruz de Ignacio de la Llave", entidad: "Estatal" }, { id: "07000031", nombre: "Yucatán", entidad: "Estatal" }, { id: "07000032", nombre: "Zacatecas", entidad: "Estatal" }] : comparaAreasGeoSelected.push(JSON.parse(elementAGeotext)); else { comparaAreasGeoSelected = []; for (var t = 0; t < arrayAgeo.length; t++)elementAGeotext = '{"id":"' + arrayAgeo[t].split("*")[0].trim() + '","nombre":"' + arrayAgeo[t].split("*")[1].trim() + '","entidad":"' + arrayAgeo[t].split("*")[2].trim() + '"}', comparaAreasGeoSelected.push(JSON.parse(elementAGeotext)) } var i = []; if (o.length > 30) { alert("es" === idiomaGlobal ? "Por cuestiones de rendimiento, sólo se grafican las primeras 30 series" : "For performance reasons, only the first 30 series are plotted"); for (var l = 0; l < 30; l++)i.push(o[l]) } else i = o; var n = { id: "divgraficaBiinegi", tipo: "column", leyenda: !1, toolbar: !0, _indicadores: i, _periodos: e, _areaGeografica: comparaAreasGeoSelected, _orientacion: "indicadorVertical", _tematica: tematicaGlobal }; GRAFICAah = new GraphicComponent, GRAFICAah.render(n) }, goGraficar: function (e) { $("#containerdataexplorer").css("display", "none"), $("#chartoptionexplorer").css("display", "none"), $("#openchartexplorer").css("display", "block"), document.getElementById("PrincipalContainer").style.display = "none", document.getElementById("divgraficaBiinegi").innerHTML = ""; var a = appCode.obtieneCasoOrientacionCuadro(); "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); appCode.processedseries(); var o = cveSeriesSelectedG; 0 === comparaAreasGeoSelected.length && (elementAGeotext = '{"id":"0700","nombre":"Estados Unidos Mexicanos","entidad":""}', comparaAreasGeoSelected.push(JSON.parse(elementAGeotext))); for (var t = document.getElementById("comboperiodsini").options, i = 0; i < t.length; ++i)periodosGlobal[i] = t[i].value; "indicador" === tipoCuadroConsulta && (comparaAreasGeoSelected = [], elementAGeotext = '{"id":"' + areaGeograficaUnicaGlobal + '","nombre":"' + nombreAreaGlobal + '","entidad":""}', comparaAreasGeoSelected.push(JSON.parse(elementAGeotext))); var l = []; if (o.length > 25) { alert("Por cuestiones de rendimiento, sólo se grafican las primeras 30 series"); for (var n = 0; n < 30; n++)l.push(o[n]) } else l = o; var r = { id: "divgraficaBiinegi", tipo: "column", leyenda: !1, toolbar: !0, _indicadores: l, _periodos: periodosGlobal, _areaGeografica: comparaAreasGeoSelected, _orientacion: a, _tematica: tematicaGlobal, eb: e.toString() }; GRAFICAah = new GraphicComponent, GRAFICAah.render(r) }, obtieneRecursos: function () { checaDispositivo = appCode.findBootstrapEnvironment(), $.getJSON("resources/textos-" + idiomaGlobal + ".json", function (e) { for (var a = 0; a < e.textos.length; a++)if ("5" !== e.textos[a].ordinal && "6" !== e.textos[a].ordinal) { var o = document.getElementById("itemMC_" + e.textos[a].ordinal); if (null !== o) { var t = e.textos[a].texto; textGlobal.push(e.textos[a].texto), void 0 !== o.text ? o.text = t : void 0 !== o.value ? o.value = t : void 0 !== o.innerHTML && (o.innerHTML = t), 28 !== parseInt(e.textos[a].ordinal) && 29 !== parseInt(e.textos[a].ordinal) && 30 !== parseInt(e.textos[a].ordinal) && 31 !== parseInt(e.textos[a].ordinal) && 33 !== parseInt(e.textos[a].ordinal) || appCode.putTooltip("#itemMC_" + e.textos[a].ordinal, e.textos[a].texto) } } }).error(function (e, a, o) { console.log("error " + a), console.log("incoming Text " + e.responseText) }).complete(function () { appCode.checaVistaBIE() }) }, checaVistaBIE: function () { if ($("#ul_tmcero").show(), $("#exp_xls").hide(), $("#btn_exparbol").hide(), $("#itemMC_55").hide(), "true" === verBie) $("a:contains('English')").css("display", "none"), $("#itemMC_17").hide(), $("#totalIndicadores").hide(), $("#box_filtros").hide(), $("#vista").hide(), "0" === tematicaGlobal && ($("#btn_abrir").show(), maximoSeries = 1500), "3" === tematicaGlobal && (void 0 !== document.getElementById("converter") && $("#converter").show(), maximoSeries = 500), appCode.consultaconfiltros(); else if (appCode.cargaCobertura(), appCode.cargaAgeo(), "null" !== indicadorGlobal && null !== indicadorGlobal && "" !== indicadorGlobal) appCode.muestraOcultaConsulta(1), 10 !== indicadorGlobal.length && (verBie = "true"); else { var e = !1; "0" === tematicaGlobal && (e = !0), "999999999999" === temaGlobal && (e = !0), "null" !== fuenteGlobal && "0" !== fuenteGlobal && (e = !1), "0700" !== areaGeoGlobal && "00000" !== areaGeoGlobal && "00" !== areaGeoGlobal && (e = !1), "en" === idiomaGlobal && (e = !1), "0000" === temaGlobal && (e = !1), "null" === temaGlobal && (e = !1), e && (verBie = "true") } }, showLoading: function () { $("#loading").modal({ backdrop: "static", keyboard: !1 }) }, hideLoading: function () { $("#loading").modal("hide") }, toolTips: function () { "xs" === (checaDispositivo = appCode.findBootstrapEnvironment()) ? (document.getElementById("ul_tmcero").style.position = "inherit", $('[data-toggle="tooltip"]').tooltip("disable")) : $("body").tooltip({ selector: "[data-toggle=tooltip]" }), appCode.getParametros(), appCode.obtieneRecursos() }, findBootstrapEnvironment: function () { var e = ["xs", "sm", "md", "lg"]; $el = $("<div>"), $el.appendTo($("body")); for (var a = e.length - 1; a >= 0; a--) { var o = e[a]; if ($el.addClass("hidden-" + o), $el.is(":hidden")) return $el.remove(), o } }, onDropRepo: function () { $(".tg").dropdown(), "" === document.getElementById("treeRepositorio").innerHTML && SitioINEGI_Componentes_BISE_FiltroTematica.init("treeRepositorio", { tematica: tematicaGlobal, lang: idiomaGlobal }), appCode.chngFlag("repoflag") }, chngFlag: function (e) { var a = document.getElementById(e).className; -1 !== a.indexOf("despa") || -1 !== a.indexOf("arriba") ? -1 !== a.indexOf("despa") ? document.getElementById(e).className = "inegi-nav-desp" : document.getElementById(e).className = "inegi-flecha-abajo" : -1 !== a.indexOf("desp") ? document.getElementById(e).className = "inegi-nav-despa" : document.getElementById(e).className = "inegi-flecha-arriba" }, chkFiltros: function (e) { "drop_cobertura" === e && ($("#drop_ageo").attr("aria-expanded", "false"), $("#bodyAgeo").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_tema").attr("aria-expanded", "false"), $("#bodyTema").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_programa").attr("aria-expanded", "false"), $("#bodyPrograma").removeClass("boxbody collapse in").addClass("boxbody collapse")), "drop_ageo" === e && ($("#drop_cobertura").attr("aria-expanded", "false"), $("#bodyCobertura").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_tema").attr("aria-expanded", "false"), $("#bodyTema").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_programa").attr("aria-expanded", "false"), $("#bodyPrograma").removeClass("boxbody collapse in").addClass("boxbody collapse")), "drop_tema" === e && ($("#drop_cobertura").attr("aria-expanded", "false"), $("#bodyCobertura").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_ageo").attr("aria-expanded", "false"), $("#bodyAgeo").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_programa").attr("aria-expanded", "false"), $("#bodyPrograma").removeClass("boxbody collapse in").addClass("boxbody collapse")), "drop_programa" === e && ($("#drop_cobertura").attr("aria-expanded", "false"), $("#bodyCobertura").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_ageo").attr("aria-expanded", "false"), $("#bodyAgeo").removeClass("boxbody collapse in").addClass("boxbody collapse"), $("#drop_tema").attr("aria-expanded", "false"), $("#bodyTema").removeClass("boxbody collapse in").addClass("boxbody collapse")) }, cargaCobertura: function () { var e = { tematica: tematicaGlobal, lang: idiomaGlobal, fuente: "0" === fuenteGlobal ? "null" : fuenteGlobal, ageo: "null", tema: temaGlobal, principales: principalesGlobal, desglose: "null" }; SitioINEGI_FiltroCobertura.init("cmp_cobertura", e) }, filterCobertura: function (e) { appCode.chngFlag("spancobe") }, filterAgeo: function (e) { appCode.chngFlag("spanageo") }, cargaAgeo: function () { var e = { lang: idiomaGlobal, ageo: ageoFiltros = areaGeoGlobal, principales: "1", tematica: tematicaGlobal, localidades: !1 }; SitioINEGI_TreeAgeoCheck("#cmp_ageo").init(e) }, filterTema: function (e) { if (permiteConsultaTema) { permiteConsultaTema = !1, $("#cmp_tema").addClass("load").removeClass("noload"); var a = "1" === ultimoClic ? "null" : desgloseGeoGlobal, o = { tematica: tematicaGlobal, lang: idiomaGlobal, fuente: "0" === fuenteGlobal ? "null" : fuenteGlobal, ageo: "1" === ultimoClic ? ageoFiltros : "null" === a ? "0700" : "null", tema: temaGlobal, principales: principalesGlobal, desglose: a.toString(), bie: verBie, herr: varHerr }; SitioINEGI_FiltroTema.init("cmp_tema", o) } appCode.chngFlag("spantema") }, filterPrograma: function (e) { if (permiteConsultaPrograma) { permiteConsultaPrograma = !1, $("#cmp_programa").addClass("load").removeClass("noload"); var a = { tematica: tematicaGlobal, lang: idiomaGlobal, fuente: !0 === byFuente ? fuenteGlobal : "0" === fuenteGlobal || 0 === fuenteGlobal ? "null" : fuenteGlobal, ageo: "1" === ultimoClic ? ageoFiltros : "null", tema: temaGlobal, principales: principalesGlobal, desglose: ("1" === ultimoClic ? "null" : "0" === desgloseGeoGlobal ? "null" : desgloseGeoGlobal).toString(), bie: JSON.parse(verBie) }; SitioINEGI_FiltroPrograma.init("cmp_programa", a) } appCode.chngFlag("spanfnte") }, filterPeriodo: function () { if ("false" === $("#drop_periodo").attr("aria-expanded")) { var e = { tematica: temaGlobal, lang: idiomaGlobal, fuente: fuenteGlobal, ageo: ageoFiltros, tema: temaGlobal, indicador: "null", frecuencia: "3" }; SitioINEGI_FiltroPeriodo.init("cmp_periodo", e), appCode.chngFlag("spananio") } }, filterGrupos: function () { appCode.chngFlag("spangrpo") }, muestraOcultaConsulta: function (e) { totalSeleccionGlobal = e, 0 === e || "0" === e ? (document.getElementById("btn_consulta").style.display = "none", document.getElementById("btn_px").style.display = "none", $("#btn_graficar").css("visibility", "hidden"), $("#btn_exporta").css("visibility", "hidden")) : ("0" === tematicaGlobal ? (document.getElementById("btn_consulta").style.display = "", document.getElementById("btn_px").style.display = "none") : (document.getElementById("btn_consulta").style.display = "none", document.getElementById("btn_px").style.display = ""), document.getElementById("btn_graficar").style.visibility = "visible", document.getElementById("btn_exporta").style.visibility = "visible") }, limpiaSeleccionSeries: function () { vecTemInd = [], cveSeriesRemovidas = cveSeriesSelectedG, tablamc("#contextTopics2").updateSeries(cveSeriesRemovidas); cveSeriesSelectedG.split(",").length; for (var e = document.getElementsByClassName("ckTopic"), a = 0; a < e.length; a++)e[a].checked && (e[a].checked = !1); if ("none" !== document.getElementById("contextTopics").style.display) for (var o = $("#ul_licontextTopics li input[type=checkbox]"), t = 0; t < o.length; t++)-1 === o[t].id.indexOf("STemaChBox_") && !1 !== o[t].checked && (o[t].checked = !1); if ("none" !== document.getElementById("contextTopics2").style.display) { var i = $("#ul_divresultados li input[type=checkbox]"); for (t = 0; t < i.length; t++)i[t].checked && (i[t].checked = !1) } temasRecursivosGlobal = "", cveSeriesSelectedG = "", cveSeriesSelectedG.indexOf(","), cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1), "" !== cveSeriesSelectedG && cveSeriesSelectedG, $("#countInd").text(0), appCode.muestraOcultaConsulta(0) }, exporta: function (e) { if ("" !== cveSeriesSelectedG || "," !== cveSeriesSelectedG) { appCode.showLoading(); formatoExportacionGlobal = e; var a = "exportacion.aspx?" + appCode.construyeParametros(); appCode.objetoExporta(a) } else alert("Debe seleccionar por lo menos un indicador para continuar.") }, continuaAreaIndicador: function () { var e = document.getElementsByClassName("checkTreeAG"); areasClavesSeleccionadas = ""; var a = "", o = []; comparaAreasGeoSelected = []; for (var t = 0; t < e.length; t++)if (e[t].checked) { var i = {}; i.nombreArea = e[t].attributes["data-area"].value, i.claveArea = e[t].attributes["data-clave"].value, "" === areasClavesSeleccionadas && (areasClavesSeleccionadas += ","), areasClavesSeleccionadas += e[t].attributes["data-clave"].value + ",", o = i.nombreArea.split(","), a = '{"id":"' + i.claveArea + '","nombre":"' + i.nombreArea + '","entidad":"' + (o.length > 1 ? o[1].trim() : "Estatal") + '"}', comparaAreasGeoSelected.push(JSON.parse(a)) } if ("" === areasClavesSeleccionadas) { var l = "es" === idiomaGlobal ? "Debe seleccionar al menos un área." : "You must select at least one region"; window.alert(l) } else { var n = areasClavesSeleccionadas; 0 === n.indexOf(",") && (n = n.replace(",", "")), "," === n.charAt(n.length - 1) && (n = n.substr(0, n.length - 1)), treeAgeo.ObtieneArbol("#divMultiplesAreas").actualizarListaAreas(areasClavesSeleccionadas), areaGeograficaConsultaGlobal = n, tipoCuadroConsulta = appCode.ordertable("optAreasMult"), $("#seleccionAreaExplorer").modal("hide"), appCode.refreshView(), cargaArbolMultiple = !1 } }, objetoExporta: function (e) { var a = document.getElementById("ifExporta"); if (null === a) { var o = document.createElement("IFRAME"); o.id = "ifExporta", o.src = e, o.width = 0, o.height = 0, document.body.appendChild(o) } else a.src = e; appCode.trataTiempo(e) }, trataTiempo: function (e) { $.ajax(e).done(function (e) { appCode.hideLoading() }).fail(function () { appCode.hideLoading() }) }, construyeParametros: function () { var e, a = ""; "indicador" === tipoCuadroConsulta ? (e = "0" === tematicaGlobal ? cveSeriesSelectedG : appCode.rescataIndicadores(cveSeriesSelectedG)).length <= 75 ? a += "cveser=" + e + "&" : PageMethods.SetSeriesServer(e) : a += "cveser=" + indicadorComboGlobal + "&"; appCode.ordertable("optradio1"), appCode.ordertable("optradio3"); if (periodoInicialGlobal = document.getElementById("comboperiodsini").value, periodoFinalGlobal = document.getElementById("comboperiodsend").value, "" === periodoInicialGlobal && "" === periodoFinalGlobal && ("0" === tematicaGlobal || "3" === tematicaGlobal || "6" === tematicaGlobal) && "none" !== document.getElementById("modalExportar").display) { var o = document.getElementById("exp_ini"), t = document.getElementById("exp_fin"); periodoInicialGlobal = o.options[o.options.selectedIndex].text, periodoFinalGlobal = t.options[t.options.selectedIndex].text, orderGlobal = "a", orderPeriodGlobal = "ap" } var i = ""; "en" === idiomaGlobal && (i = "&lang=" + idiomaGlobal); var l, n = ""; "true" !== verBie ? "area" === tipoCuadroConsulta ? (n = "&ag=" + areaGeograficaConsultaGlobal, PageMethods.SetAreasGeoServer(areaGeograficaConsultaGlobal)) : (l = "" === areaGeograficaUnicaGlobal ? areaGeoGlobal : areaGeograficaUnicaGlobal, n = "&ag=" + areaGeoGlobal, PageMethods.SetAreasGeoServer(l)) : "3" === tematicaGlobal && (n = "&ag=" + (l = "" === (l = this.manejaCves(e, "ageostring")) ? "null" : l), PageMethods.SetAreasGeoServer(l)); var r = ""; "" !== tipoCuadroConsulta && "true" !== verBie && (r = "&tc=" + appCode.obtieneCasoOrientacionCuadro()); var c = -1 !== window.location.href.indexOf("tm=0"), d = periodoFinalGlobal; return "iqyfile" === formatoExportacionGlobal && (d = "9999"), a += "bie=" + c + "&aamin=" + periodoInicialGlobal + "&aamax=" + d + "&ordena=" + orderGlobal + "&ordenaPeriodo=" + orderPeriodGlobal + "&orientacion=" + orientacionGlobal + "&frecuencia=Todo&estadistico=" + estadisticoGlobal + i + "&esquema=&bdesplaza=False&FileFormat=" + formatoExportacionGlobal + n + r, a += "&subapp=" + document.getElementById("itemMC_5").innerText, a += "&tematica=" + tematicaGlobal, "0" === tematicaGlobal && ("1" === revisionGlobal && (a += "&revpre=1"), "2" === revisionGlobal && (a += "&revpre=2")), a += "&tyExp=1" }, guardaAgeo: function () { document.getElementById("contextTopics").innerHTML = "", ageoFiltros = tempDetail.id, appCode.trataAreaGeo(tempDetail, tempDetail.isCheck), nombreAreaGlobal = tempDetail.entidad, "Total estatal" !== tempDetail.municipio && "" !== tempDetail.municipio && (nombreAreaGlobal += ", " + tempDetail.municipio), cveSeriesSelectedG = "", $("#countInd").text("0"), appCode.muestraOcultaConsulta(0), appCode.consultaconfiltros(), appCode.trataArray("ag_", ageoFiltros) }, trataArray: function (e, a) { if ("0700" !== a) { if (auxFilter.length > 0) for (var o = 0; o < auxFilter.length; o++)-1 !== auxFilter[o].indexOf(e) && auxFilter.splice(o, 1); auxFilter.push(e + a) } }, consultaconfiltros: function () { document.getElementById("tituloDinamico").innerHTML = "", "" !== filtro && (document.getElementById("tituloDinamico").innerHTML = filtro, document.getElementById("tituloDinamico").style.display = "block"); if (null === fuenteGlobal && (fuenteGlobal = "0"), null === temaGlobal && (temaGlobal = "null"), "0" === fuenteGlobal && "null" === temaGlobal || "null", "true" !== verBie && "0" !== fuenteGlobal && "null" !== fuenteGlobal && appCode.managmentdata("ListadoFuentes", "CatalogoPrograma", idiomaGlobal + "/null/null/null/" + fuenteGlobal + "/null/null/" + tematicaGlobal + "/null"), appCode.cambiaEstatusIndicador(), "entraPorIndicador" === estatusCargaIndicador ? appCode.managmentdata("IndicadorDirecto", "Indicador", indicadorGlobal + "/" + areaGeoGlobal + "/" + idiomaGlobal + "/true/" + tematicaGlobal) : appCode.generatabladatos(), "2" === ultimoClic || (document.getElementById("tituloDinamico").style.display = "none"), "true" !== verBie) if ($("#itemMC_17").show(), $("#totalIndicadores").show(), !1 === appCode.getFiltros()) { var e = "1" === ultimoClic ? areaGeoGlobal : "0" === desgloseGeoGlobal.toString() || "null" === desgloseGeoGlobal.toString() ? areaGeoGlobal : "null", a = "2" === ultimoClic ? desgloseGeoGlobal : "null" !== e ? "0" === desgloseGeoGlobal ? desgloseGeoGlobal : "null" : desgloseGeoGlobal; if ((appCode.getApi() + "/API.svc/TotalIndicadores/" + e + "/" + temaGlobal + "/" + principalesGlobal + "/" + ("0" === fuenteGlobal ? "null" : fuenteGlobal) + "/" + tematicaGlobal + "/" + a + "/" + varHerr + "/json/" + C_token + "?callback=?").length < 250) appCode.managmentdata("TotalIndicadores", "TotalIndicadores", e + "/" + temaGlobal + "/" + principalesGlobal + "/" + ("0" === fuenteGlobal ? "null" : fuenteGlobal) + "/" + tematicaGlobal + "/" + a + "/" + varHerr); else { var o = { areaGeografica: e, tema: temaGlobal, indicadoresPrincipales: principalesGlobal, programa_ciclo: "0" === fuenteGlobal ? "null" : fuenteGlobal, tematica: tematicaGlobal, desglose: a, herramienta: varHerr, formato: "json", token: C_token }, t = JSON.stringify(o); $.ajax({ method: "POST", url: appCode.getApi() + "/TotalIndicadores", contentType: "application/json; charset=utf-8", dataType: "json", data: t, processData: !0, success: function (e) { appCode.callBackTotalIndicadores(e) }, error: function (e, a, o) { console.log(a, o) } }) } } else $("#itemMC_17").hide(), $("#totalIndicadores").hide() }, getFiltros: function () { var e = !1; return "null" !== areaGeoGlobal && "0700" !== areaGeoGlobal && (e = !0), "null" !== temaGlobal && "0000" !== temaGlobal && (e = !0), "null" !== fuenteGlobal && "0" !== fuenteGlobal && (e = !0), "null" !== desgloseGeoGlobal && "0" !== desgloseGeoGlobal && (e = !0), "" !== indicadorGlobal && (e = !0), e }, generaExportacion: function () { var e = ""; if ("" === periExportar) { var a = document.getElementById("exp_ini"), o = document.getElementById("exp_fin"); periExportar = a.options[a.options.selectedIndex].text, perfExportar = o.options[o.options.selectedIndex].text } if (!0 === percExportar) e += "Faltan elementos para realizar su exportación", percExportar && (e += "es" === idiomaGlobal ? ". El año inicial debe ser menor al año final" : "The initial year must be less than last year"), alert(e); else { var t = "00" === cvesExportar ? areaGeoGlobal : cvesExportar; "," === t.charAt(0) && (t = t.substring(1, t.length - 1)), "," === t.charAt(t.length - 1) && (t = t.substring(0, t.length - 1)), appCode.elementosExportacion(t) } }, closeExportar: function () { $("html").css("overflow-y", "inherit") }, elementosExportacion: function (e) { var a = ""; PageMethods.SetSeriesServer(cveSeriesSelectedG), PageMethods.SetAPIServer(appCode.getApi() + "*" + C_token); var o = ""; "en" === idiomaGlobal && (o = "&lang=" + idiomaGlobal); var t = ""; "true" !== verBie ? (t = "&ag=" + e, PageMethods.SetAreasGeoServer(e)) : "3" === tematicaGlobal && (t = "&ag=" + tempageo_cad, PageMethods.SetAreasGeoServer(tempageo_cad)); var i = -1 !== window.location.href.indexOf("tm=0"); if (a += "tematica=" + tematicaGlobal, a += "&bie=" + i, a += "&aamin=" + periExportar, a += "&aamax=" + perfExportar, a += "&ordena=s", a += "&ordenaPeriodo=s", a += "&orientacion=" + orientacionGlobal, a += "&frecuencia=Todo&estadistico=" + estadisticoGlobal + o, a += "&bdesplaza=False", a += "&FileFormat=" + tipoExportar + "2", a += t + "&tc=ninguno", a += "&subapp=" + document.getElementById("itemMC_5").innerText, "" !== cveSeriesSelectedG || "," !== cveSeriesSelectedG) { var l = "exportacion.aspx?" + a; appCode.objetoExporta(l) } else alert("Debe seleccionar por lo menos un indicador para continuar.") }, cambiaEstatusIndicador: function () { switch (estatusCargaIndicador) { case "inicio": "" !== indicadorGlobal && (estatusCargaIndicador = "entraPorIndicador"); break; case "entraPorIndicador": estatusCargaIndicador = "terminaPorIndicador" } }, consultaFiltros: function () { appCode.showLoading(), areaGeoGlobal = ageoFiltros, nombreAreaGlobal = nombreAreaGlobalFiltro, document.getElementById("contextTopics").innerHTML = "", cveSeriesSelectedG = "", principalesGlobal = document.getElementById("chkPrincipales").checked ? "1" : "null", $("#countInd").text("0"), appCode.muestraOcultaConsulta(0), appCode.consultaconfiltros() }, managmentdata: function (e, a, o) { var t = o.split("-"), i = ""; t.length > 1 && (o = t[0].trim(), i = t[1]); var l = appCode.getApi() + "/API.svc/" + a + "/" + o + "/json/" + C_token + "?callback=?"; $.getJSON(l, null, function (a, t) { switch (e) { case "ListadoFuentes": appCode.callBackFuenteV2(a); break; case "IndicadorDirecto": appCode.callBackIndicadorDirecto(a); break; case "SeriesPorTemaAgregar": "0" === tematicaGlobal ? appCode.callBackSeriesPorTemaAgregar(a, i, o) : appCode.callBackSeriesPorTemaAgregarV3(a, i, o); break; case "SeriesPorTemaQuitar": "0" === tematicaGlobal ? appCode.callBackSeriesPorTemaQuitar(a, i) : appCode.callBackSeriesPorTemaQuitarV3(a, i); break; case "SeriesPorTemaZoomAgregar": appCode.callBackSeriesPorTemaZoomAgregar(a); break; case "SeriesPorTemaZoomQuitar": appCode.callBackSeriesPorTemaZoomQuitar(a); break; case "InfoComplementaria": appCode.callBackInfoComplementaria(a); break; case "TotalIndicadores": appCode.callBackTotalIndicadores(a) } }) }, callBackFuenteV2: function (e) { if (void 0 === e.ErrorCode) { var a = document.getElementById("tituloDinamico"); if (document.getElementById("tituloDinamico").style.display = "block", e.length > 1) { var o = "es" === idiomaGlobal ? "Varios Programas" : "Various programs"; a.innerHTML = "<b>" + o + ": </b>" } else a.innerHTML = "<b>" + textGlobal[5] + ": </b>", a.innerHTML += "<b>" + e[0].DESCRIPCION + "</b>" } else document.getElementById("contextTopics").innerHTML = "<div class='col-xs-12' style='padding-top:10px;'>" + ("en" === idiomaGlobal ? "No results found" : "No se encontraron resultados") + ", <a href='default.aspx' target='_self'>" + ("en" === idiomaGlobal ? "see all" : "ver todo") + "</a></div>", appCode.hideLoading() }, callBackIndicadorDirecto: function (e) { void 0 === e.ErrorCode ? tablamc("#contextTopics").init(idiomaGlobal, areaGeoGlobal, fuenteGlobal, temaGlobal, tematicaGlobal, "null", "null", "null", "null", "null", verBie, indicadorGlobal, principalesGlobal, desgloseGeoGlobal) : (appCode.hideLoading(), document.getElementById("contextTopics").innerHTML = '<div style="margin-left:10px;">' + ("en" === idiomaGlobal ? "No results found" : "No se encontraron resultados") + " , <a href='default.aspx' target='_self'>" + ("en" === idiomaGlobal ? "see all" : "ver todo") + "</a></div>", $("#countInd").text("0"), appCode.muestraOcultaConsulta(0)) }, callBackSeriesPorTemaZoomAgregar: function (e) { var a = 0, o = 0; if (void 0 === e.ErrorCode) { vecTemInd.push(e.tema + "_" + e.indicadores); var t = !1; if ((o = appCode.calculaTotalSeries(cveSeriesSelectedG)) < maximoSeries) { var i, l = e.indicadores, n = cveSeriesSelectedG.split(","); for (a = 0; a < n.length; a++)"" !== n[a] && l.indexOf(n[a] + ",") > -1 && (l = l.replace(n[a] + ",", "")); temasCheckedZoom += e.tema + ","; var r, c = 0; if ((r = (i = appCode.calculaTotalSeries(l)) + o) > maximoSeries) { t = !0, c = i > 0 ? i - (r - maximoSeries) : maximoSeries; var d = "", s = l.split(","); for (a = 0; a < c; a++)"" !== s[a] && (d += s[a] + ","); l = d; var m = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]; null != m && m.SetCheck("false"); var p = document.getElementById("zcbox_" + e.tema); null != p && (p.checked = !1), temasUnchekedZoom += e.tema + "," } indicadoresCheckedZoom = l; var u = l.split(","); for (a = 0; a < u.length; a++) { var g = document.getElementById("slmcZbox_" + u[a]); null != g && (g.checked = !0) } cveSeriesSelectedG += l, appCode.hideLoading() } else { t = !0; var b = document.getElementById("zcbox_" + e.tema); null != b && (b.checked = !1), temasUnchekedZoom += e.tema + ",", appCode.hideLoading() } t && ("en" === idiomaGlobal ? window.alert("Only it allowed to select " + maximoSeries + " series maximum.") : window.alert("Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar " + maximoSeries + " series como máximo.")), o = appCode.calculaTotalSeries(cveSeriesSelectedG), document.getElementById("countZoom").innerHTML = o, document.getElementById("countInd").innerHTML = o; for (var h = 1; h <= numSeriesZoom; h++)$("#zoomroot_" + h).prop("checked", !0) } else appCode.hideLoading(), console.log(e) }, callBackSeriesPorTemaZoomQuitar: function (e) { var a = 0; if (void 0 === e.ErrorCode) { var o = null !== e.temasHijosTodos ? e.temasHijosTodos.split(",") : ""; for (a = 0; a < o.length; a++)"" !== o && (temasRecursivosGlobal = temasRecursivosGlobal.replace(o[a] + ",", ",")); var t = e.indicadoresTodos.split(","), i = cveSeriesSelectedG, l = []; for (a = 0; a < t.length; a++)"" !== t[a] && i.indexOf(t[a] + ",") > -1 && (i = i.replace(t[a] + ",", ""), l.push(t[a]), indicadoresUnCheckedZoom += t[a] + ","); for (a = 0; a < l.length; a++) { var n = document.getElementById("zcbox_" + l[a]); null != n && (n.checked = !1) } cveSeriesSelectedG = i, temasUnchekedZoom += e.tema + ","; var r = appCode.calculaTotalSeries(cveSeriesSelectedG); document.getElementById("countZoom").innerHTML = r; for (var c = 1; c <= numSeriesZoom; c++)$("#zoomroot_" + c).prop("checked", !1); appCode.hideLoading() } else appCode.hideLoading(), console.log(e) }, callBackSeriesPorTemaQuitar: function (e, a) { if (void 0 === e.ErrorCode) { var o = null, t = null, l = null !== e.temasCompletados ? e.temasCompletados.split(",") : "", n = temasRecursivosGlobal.split(","); for (let e = 1; e < l.length; e++)if ("" !== l[e]) for (let a = 1; a < n.length; a++)"" !== n[a] && n[a] === l[e] && n.splice(a, 1); temasRecursivosGlobal = n.join(","); e.indicadoresTodos.split(","), cveSeriesSelectedG; var r = e.temasCompletados, c = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }); if (null != c) for (i = 0; i < c.length; i++) { o = c[i].Tema, r.indexOf("," + o + ",") > -1 ? (c[i].SetCheck("false"), null != (t = document.getElementById("STemaChBox_" + o)) && (t.checked = !1)) : "" !== r && (c[i].SetCheck("true"), null != (t = document.getElementById("STemaChBox_" + o)) && (t.checked = !0)); for (var d = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"), s = 0; s < d.length; s++)e.tema !== d[s].defaultValue && (r.indexOf("," + d[s].defaultValue + ",") > -1 ? d[s].checked = !1 : "" !== r && (d[s].checked = !0)) } else for (var m = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"), p = 0; p < m.length; p++)e.tema !== m[p].defaultValue && (r.indexOf("," + m[p].defaultValue + ",") > -1 ? m[p].checked = !1 : m[p].checked = !0); var u = cveSeriesSelectedG.split(","), g = e.indicadoresTodos.split(","); for (g.forEach(function (e) { var a = u.indexOf(e); -1 !== a && u.splice(a, 1) }), cveSeriesSelectedG = u.join(","), i = 0; i < g.length; i++) { var b = document.getElementById("SChBox_" + g[i]); null != b && (b.checked = !1) } var h = cveSeriesSelectedG.split(",").length; 0 === cveSeriesSelectedG.indexOf(",") && h--, "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && h--, "" === cveSeriesSelectedG && (h = 0), h = "" === cveSeriesSelectedG ? 0 : h, $("#countInd").text(h), 0 !== h && "0" !== h || (temasRecursivosGlobal = "", appCode.limpiaSeleccionSeries()), appCode.muestraOcultaConsulta(h), appCode.hideLoading() } else appCode.hideLoading(), console.log(e) }, callBackSeriesPorTemaQuitarV3: function (e, a) { if (void 0 === e.ErrorCode) { var o = e.indicadoresTodos; "," === o.charAt(o.length - 1) && (o = o.substring(0, o.length - 1)); var t = { temas: e.tema, indicadores: o, tematica: tematicaGlobal, formato: "json", token: C_token }; $.ajax({ method: "POST", url: appCode.getApi() + "/TemasIndicadores", contentType: "application/json; charset=utf-8", dataType: "json", data: JSON.stringify(t), processData: !0, success: function (o) { for (var t = "", l = 0; l < o.length; l++)t += o[l].Indicador.toString() + "_" + o[l].Tema.toString() + ","; var n = null, r = null, c = null !== e.temasCompletados ? e.temasCompletados.split(",") : "", d = temasRecursivosGlobal.split(","); for (let e = 1; e < c.length; e++)if ("" !== c[e]) for (let a = 1; a < d.length; a++)"" !== d[a] && d[a] === c[e] && d.splice(a, 1); temasRecursivosGlobal = d.join(","); var s = e.temasCompletados, m = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }); if (null != m) for (i = 0; i < m.length; i++) { n = m[i].Tema, s.indexOf("," + n + ",") > -1 ? (m[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + n)) && (r.checked = !1)) : "" !== s && (m[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + n)) && (r.checked = !0)); var p = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"); for (l = 0; l < p.length; l++)e.tema !== p[l].defaultValue && (s.indexOf("," + p[l].defaultValue + ",") > -1 ? p[l].checked = !1 : "" !== s && (p[l].checked = !0)) } else for (var u = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"), g = 0; g < u.length; g++)e.tema !== u[g].defaultValue && (s.indexOf("," + u[g].defaultValue + ",") > -1 ? u[g].checked = !1 : u[g].checked = !0); var b = cveSeriesSelectedG.split(","), h = t.split(","); for (h.forEach(function (e) { var a = b.indexOf(e); -1 !== a && b.splice(a, 1) }), cveSeriesSelectedG = b.join(","), i = 0; i < h.length; i++) { var v = document.getElementById("SChBox_" + h[i]); null != v && (v.checked = !1) } var f = cveSeriesSelectedG.split(",").length; 0 === cveSeriesSelectedG.indexOf(",") && f--, "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && f--, "" === cveSeriesSelectedG && (f = 0), f = "" === cveSeriesSelectedG ? 0 : f, $("#countInd").text(f), 0 !== f && "0" !== f || (temasRecursivosGlobal = "", appCode.limpiaSeleccionSeries()), appCode.muestraOcultaConsulta(f), appCode.hideLoading() }, error: function (e, a, o) { console.log(a, o) } }) } else appCode.hideLoading(), console.log(e) }, checaTodoelarbol: function (e, a) { if ("," !== e.charAt(0) && (e = "," + e), "," !== e.charAt(e.length - 1) && (e += ","), "none" !== document.getElementById("contextTopics").style.display) for (var o = $("#ul_licontextTopics li input[type=checkbox]"), t = 0; t < o.length; t++)-1 === o[t].id.indexOf("STemaChBox_") && e.indexOf("," + o[t].id.split("_")[1] + ",") > -1 && (a ? !0 !== o[t].checked && (o[t].checked = !0) : !1 !== o[t].checked && (o[t].checked = !1)) }, revisasiChecado: function (e, a) { return !1 }, callBackSeriesPorTemaAgregar_azure: function (e, a, o) { if (void 0 === e.ErrorCode) { var t = !1, i = 0, l = appCode.calculaTotalSeries(cveSeriesSelectedG), n = null, r = null, c = null, d = !0; if (l < maximoSeries) { var s, m = e.indicadores, p = cveSeriesSelectedG.split(","); for (i = 0; i < p.length; i++)if ("" !== p[i] && m.indexOf(p[i] + ",") > -1) { if (29 === i); m = m.replace(p[i] + ",", "") } var u, g = 0; if ((u = (s = appCode.calculaTotalSeries(m)) + l) > maximoSeries) { t = !0, g = s > 0 ? s - (u - maximoSeries) : maximoSeries; var b = "", h = m.split(","); for (i = 0; i < g; i++)"" !== h[i] && (b += h[i] + ","); if (m = b, !e.completado) { t = !0; var v = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]; null != v && v.SetCheck("false"), null != (n = document.getElementById("STemaChBox_" + e.tema)) && (n.checked = !1) } temasRecursivosGlobal += e.temasCompletados; var f = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }); if (null != f) for (i = 0; i < f.length; i++)c = f[i].Tema, temasRecursivosGlobal.indexOf("," + c + ",") > -1 ? (f[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !0)) : (f[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !1)) } else if (e.completado || (t = !0, null != (v = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]) && (d = !1, v.SetCheck("false")), null != (n = document.getElementById("STemaChBox_" + e.tema)) && (d = !1), n.checked = !1), temasRecursivosGlobal += e.temasCompletados, null != (f = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }))) for (i = 0; i < f.length; i++) { c = f[i].Tema, temasRecursivosGlobal.indexOf("," + c + ",") > -1 ? (f[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !0)) : (f[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !1)); for (var C = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"), G = 0; G < C.length; G++)e.tema !== C[G].defaultValue && (temasRecursivosGlobal.indexOf("," + C[G].defaultValue + ",") > -1 ? C[G].checked = !0 : C[G].checked = !1) } var S = document.getElementById("img_contextTopics_" + e.tema + "_" + a); if (void 0 !== S) if (-1 !== S.className.indexOf("inegi-menos")) { var x = m.split(","); for (i = 0; i < x.length; i++) { var y = document.getElementById("SChBox_" + x[i]); null != y && (y.checked = !0) } } appCode.changeImgHierarchySelectUp(e.tema, a, d), "" === cveSeriesSelectedG && (cveSeriesSelectedG += ","), cveSeriesSelectedG += m, cveSeriesSelectedG = cveSeriesSelectedG.replace(",,", ","); var T = cveSeriesSelectedG.split(",").length; "," === cveSeriesSelectedG.charAt(0) && T--, "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && T--, $("#countInd").text(T), appCode.muestraOcultaConsulta(T), appCode.hideLoading() } else t = !0, null != (n = document.getElementById("STemaChBox_" + e.tema)) && (n.checked = !1), appCode.hideLoading(); t && ("en" === idiomaGlobal ? window.alert("Only it allowed to select " + maximoSeries + " series maximum.") : window.alert("Sólo se permite seleccionar " + maximoSeries + " series como máximo.")) } else appCode.hideLoading(), console.log(e) }, callBackSeriesPorTemaAgregar: function (e, a, o) { if (void 0 === e.ErrorCode) { vecTemInd.push(e.tema + "_" + e.indicadores); var t = !1, i = 0, l = appCode.calculaTotalSeries(cveSeriesSelectedG), n = null, r = null, c = null, d = !0; if (l < maximoSeries) { var s = e.indicadores, m = cveSeriesSelectedG.split(","), p = 0; for ("," !== s.charAt(0) && (s = "," + s), "," === s.charAt(s.length - 1) && (s += ","), i = 0; i < m.length; i++)if ("" !== m[i] && s.indexOf("," + m[i] + ",") > -1) { if (29 === i); s = s.replace("," + m[i] + ",", ",") } "," === s.charAt(0) && (s = s.substring(1, s.length - 1)), "," === s.charAt(s.length - 1) && (s = s.substring(0, s.length - 1)); if ((p = appCode.calculaTotalSeries(s)) + l > maximoSeries) { t = !0; const a = []; var g = s.split(","); for (i = 0; i < g.length; i++)if ("" !== g[i]) { const e = g[i]; a.indexOf(e) < 0 && a.push(e) } if (s = a.join(","), p = appCode.calculaTotalSeries(s), !e.completado) { t = !0; var b = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]; null != b && b.SetCheck("false"), null != (n = document.getElementById("STemaChBox_" + e.tema)) && (n.checked = !1) } temasRecursivosGlobal += e.temasCompletados; var h = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }); if (null != h) for (i = 0; i < h.length; i++)c = h[i].Tema, temasRecursivosGlobal.indexOf("," + c + ",") > -1 ? (h[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + c)) && !1 === r.checked && (r.checked = !0)) : (h[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !1)) } else if (e.completado || (t = !0, null != (b = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]) && (d = !1, b.SetCheck("false"))), temasRecursivosGlobal += e.temasCompletados, null != (h = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }))) for (i = 0; i < h.length; i++) { c = h[i].Tema, temasRecursivosGlobal.indexOf("," + c + ",") > -1 ? (h[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + c)) && !1 === r.checked && (r.checked = !0)) : (h[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !1)); for (var v = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"), f = 0; f < v.length; f++)e.tema !== v[f].defaultValue && (temasRecursivosGlobal.indexOf("," + v[f].defaultValue + ",") > -1 ? v[f].checked = !0 : v[f].checked = !1) } var C = document.getElementById("img_contextTopics_" + e.tema + "_" + a); if (void 0 !== C) if (-1 !== C.className.indexOf("inegi-menos")) { var G = s.split(","); for (i = 0; i < G.length; i++) { $("#SChBox_" + G[i]).attr("data-parent-topic", e.tema); var S = $("#SChBox_" + G[i]).attr("data-parent-topic", e.tema.toString())[0]; null != S && !1 === S.checked && (S.checked = !0) } } appCode.changeImgHierarchySelectUp(e.tema, a, d); const o = []; var x = (cveSeriesSelectedG + "," + s).split(","); for (i = 0; i < x.length; i++)if ("" !== x[i]) { const e = x[i]; o.indexOf(e) < 0 && o.push(e) } if (cveSeriesSelectedG = o.join(","), 0 === p && o.length < maximoSeries || !e.completado && e.total !== o.length && o.length < maximoSeries && e.total < t_maximoSeries) { const o = []; var y = [], T = (cveSeriesSelectedG + "," + e.indicadoresTodos).split(","), I = !1; for (j = 0; j < T.length; j++)if ("" !== T[j]) { const e = T[j]; o.indexOf(e) < 0 && o.push(e) } if (e.total > maximoSeries) for (u = 0; u < o.length; u++) { if (!(u < maximoSeries)) { I = !0; break } y.push(o[u]) } else y = o; var E = y.length; cveSeriesSelectedG = y.join(","), E > maximoSeries || !0 === I ? (t = !0, null != (n = document.getElementById("STemaChBox_" + e.tema)) && (d = !1, n.checked = !1)) : t = !1; var k = document.getElementById("img_contextTopics_" + e.tema + "_" + a); if (void 0 !== k) if (-1 !== k.className.indexOf("inegi-menos")) { var _ = y; for (i = 0; i < _.length; i++) { var B = document.getElementById("SChBox_" + _[i]); null != B && !1 === B.checked && (B.checked = !0) } } $("#countInd").text(E), p = E, "1" === a.toString() && vecTemInd.push("root_" + e.tema) } else e.completado || e.total === o.length || (null != (n = document.getElementById("STemaChBox_" + e.tema)) && (d = !1), n.checked = !1), p = appCode.calculaTotalSeries(cveSeriesSelectedG), e.completado ? (null != (n = document.getElementById("STemaChBox_" + e.tema)) && (d = !0), n.checked = !0) : p < maximoSeries && (t = !1), $("#countInd").text(p); appCode.muestraOcultaConsulta(p), appCode.hideLoading() } else t = !0, null != (n = document.getElementById("STemaChBox_" + e.tema)) && (n.checked = !1), appCode.hideLoading(); t && ("en" === idiomaGlobal ? window.alert("Only it allowed to select " + maximoSeries + " series maximum.") : window.alert("Sólo se permite seleccionar " + maximoSeries + " series como máximo.")) } else appCode.hideLoading(), console.log(e) }, callBackSeriesPorTemaAgregarV3: function (e, a, o) { if (void 0 === e.ErrorCode) { vecTemInd.push(e.tema + "_" + e.indicadores); var t = e.indicadoresTodos; "," === t.charAt(t.length - 1) && (t = t.substring(0, t.length - 1)); var i = { temas: e.tema, indicadores: t, tematica: tematicaGlobal, formato: "json", token: C_token }; $.ajax({ method: "POST", url: appCode.getApi() + "/TemasIndicadores", contentType: "application/json; charset=utf-8", dataType: "json", data: JSON.stringify(i), processData: !0, success: function (o) { for (var t = "", i = "", l = e.indicadores.split(","), n = !1, r = [], c = 0; c < l.length; c++)if ("" !== l[c] && !1 === n && r.push(l[c]), n = !1, "" !== l[c]) for (var d = 0; d < o.length; d++)if (l[c] === o[d].Indicador.toString()) { n = !0, t += o[d].Indicador.toString() + "_" + o[d].Tema.toString() + ","; break } r.length; for (var s = 0; s < o.length; s++)i += o[s].Indicador.toString() + "_" + o[s].Tema.toString() + ","; var m = !1, p = 0, g = appCode.calculaTotalSeries(cveSeriesSelectedG), b = null, h = null, v = null, f = !0; if (g < maximoSeries) { var C = t, G = cveSeriesSelectedG.split(","), S = 0; for ("," !== C.charAt(0) && (C = "," + C), "," === C.charAt(C.length - 1) && (C += ","), p = 0; p < G.length; p++)if ("" !== G[p] && C.indexOf("," + G[p] + ",") > -1) { if (29 === p); C = C.replace("," + G[p] + ",", ",") } "," === C.charAt(0) && (C = C.substring(1, C.length - 1)), "," === C.charAt(C.length - 1) && (C = C.substring(0, C.length - 1)); if ((S = appCode.calculaTotalSeries(C)) + g > maximoSeries) { m = !0; const a = []; var x = C.split(","); for (p = 0; p < x.length; p++)if ("" !== x[p]) { const e = x[p]; a.indexOf(e) < 0 && a.push(e) } if (C = a.join(","), S = appCode.calculaTotalSeries(C), !e.completado) { m = !0; var y = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]; null != y && y.SetCheck("false"), null != (b = document.getElementById("STemaChBox_" + e.tema)) && (b.checked = !1) } temasRecursivosGlobal += e.temasCompletados; var T = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }); if (null != T) for (p = 0; p < T.length; p++)v = T[p].Tema, temasRecursivosGlobal.indexOf("," + v + ",") > -1 ? (T[p].SetCheck("true"), null != (h = document.getElementById("STemaChBox_" + v)) && !1 === h.checked && (h.checked = !0)) : (T[p].SetCheck("false"), null != (h = document.getElementById("STemaChBox_" + v)) && (h.checked = !1)) } else if (e.completado || (m = !0, null != (y = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]) && (f = !1, y.SetCheck("false"))), temasRecursivosGlobal += e.temasCompletados, null != (T = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }))) for (p = 0; p < T.length; p++) { v = T[p].Tema, temasRecursivosGlobal.indexOf("," + v + ",") > -1 ? (T[p].SetCheck("true"), null != (h = document.getElementById("STemaChBox_" + v)) && !1 === h.checked && (h.checked = !0)) : (T[p].SetCheck("false"), null != (h = document.getElementById("STemaChBox_" + v)) && (h.checked = !1)); var I = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"); for (s = 0; s < I.length; s++)e.tema !== I[s].defaultValue && (temasRecursivosGlobal.indexOf("," + I[s].defaultValue + ",") > -1 ? I[s].checked = !0 : I[s].checked = !1) } var E = document.getElementById("img_contextTopics_" + e.tema + "_" + a); if (void 0 !== E) if (-1 !== E.className.indexOf("inegi-menos")) { var k = C.split(","); for (p = 0; p < k.length; p++) { var _ = document.getElementById("SChBox_" + k[p]); null != _ && !1 === _.checked && (_.checked = !0) } } appCode.changeImgHierarchySelectUp(e.tema, a, f); const o = []; var B = (cveSeriesSelectedG + "," + C).split(","); for (p = 0; p < B.length; p++)if ("" !== B[p]) { const e = B[p]; o.indexOf(e) < 0 && o.push(e) } if (cveSeriesSelectedG = o.join(","), 0 === S && o.length < maximoSeries || !e.completado && e.total !== o.length && o.length < maximoSeries && e.total < t_maximoSeries) { const o = []; var A = [], P = (cveSeriesSelectedG + "," + i).split(","), w = !1; for (j = 0; j < P.length; j++)if ("" !== P[j]) { const e = P[j]; o.indexOf(e) < 0 && o.push(e) } if (e.total > maximoSeries) for (u = 0; u < o.length; u++) { if (!(u < maximoSeries)) { w = !0; break } A.push(o[u]) } else A = o; var O = A.length; cveSeriesSelectedG = A.join(","), O > maximoSeries || !0 === w ? (m = !0, null != (b = document.getElementById("STemaChBox_" + e.tema)) && (f = !1, b.checked = !1)) : m = !1; var L = document.getElementById("img_contextTopics_" + e.tema + "_" + a); if (void 0 !== L) if (-1 !== L.className.indexOf("inegi-menos")) { var R = A; for (p = 0; p < R.length; p++) { var M = document.getElementById("SChBox_" + R[p]); null != M && !1 === M.checked && (M.checked = !0) } } $("#countInd").text(O), S = O, "1" === a.toString() && vecTemInd.push("root_" + e.tema) } else e.completado || e.total === o.length || (null != (b = document.getElementById("STemaChBox_" + e.tema)) && (f = !1), b.checked = !1), S = appCode.calculaTotalSeries(cveSeriesSelectedG), e.completado ? (null != (b = document.getElementById("STemaChBox_" + e.tema)) && (f = !0), b.checked = !0) : S < maximoSeries && (m = !1), $("#countInd").text(S); appCode.muestraOcultaConsulta(S), appCode.hideLoading() } else m = !0, null != (b = document.getElementById("STemaChBox_" + e.tema)) && (b.checked = !1), appCode.hideLoading(); m && ("en" === idiomaGlobal ? window.alert("Only it allowed to select " + maximoSeries + " series maximum.") : window.alert("Sólo se permite seleccionar " + maximoSeries + " series como máximo.")) }, error: function (e, a, o) { console.log(a, o) } }) } else appCode.hideLoading(), console.log(e) }, callBackSeriesPorTemaAgregar_ayer: function (e, a, o) { if (void 0 === e.ErrorCode) { var t = !1, i = 0, l = appCode.calculaTotalSeries(cveSeriesSelectedG), n = null, r = null, c = null, d = !0; if (l < maximoSeries) { var s = e.indicadores, m = cveSeriesSelectedG.split(","), p = 0; for (i = 0; i < m.length; i++)"" !== m[i] && s.indexOf(m[i] + ",") > -1 && (s = s.replace(m[i] + ",", "")); if ((p = appCode.calculaTotalSeries(s)) + l > maximoSeries) { t = !0; const a = []; var u = (s + "," + cveSeriesSelectedG).split(","); for (i = 0; i < u.length; i++)if ("" !== u[i]) { const e = u[i]; a.indexOf(e) < 0 && a.push(e) } if (s = a.join(","), cveSeriesSelectedG = s, p = appCode.calculaTotalSeries(s), !e.completado) { t = !0; var g = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]; null != g && g.SetCheck("false"), null != (n = document.getElementById("STemaChBox_" + e.tema)) && (n.checked = !1) } temasRecursivosGlobal += e.temasCompletados; var b = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }); if (null != b) for (i = 0; i < b.length; i++)c = b[i].Tema, temasRecursivosGlobal.indexOf("," + c + ",") > -1 ? (b[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !0)) : (b[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !1)) } else if (e.completado || null != (g = listaRamas.filter(function (a) { return a.Tema === e.tema })[0]) && (d = !1, g.SetCheck("false")), temasRecursivosGlobal += e.temasCompletados, null != (b = listaRamas.filter(function (a) { return a.TemaPadre === e.tema }))) for (i = 0; i < b.length; i++) { c = b[i].Tema, temasRecursivosGlobal.indexOf("," + c + ",") > -1 ? (b[i].SetCheck("true"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !0)) : (b[i].SetCheck("false"), null != (r = document.getElementById("STemaChBox_" + c)) && (r.checked = !1)); for (var h = $("#li_contextTopics_" + e.tema + "_" + a + " :input[id^='STemaChBox_']"), v = 0; v < h.length; v++)e.tema !== h[v].defaultValue && (temasRecursivosGlobal.indexOf("," + h[v].defaultValue + ",") > -1 ? h[v].checked = !0 : h[v].checked = !1) } var f = document.getElementById("img_contextTopics_" + e.tema + "_" + a); if (void 0 !== f) if (-1 !== f.className.indexOf("inegi-menos")) { var C = s.split(","); for (i = 0; i < C.length; i++) { var G = document.getElementById("SChBox_" + C[i]); null != G && (G.checked = !0) } } appCode.changeImgHierarchySelectUp(e.tema, a, d), $("#countInd").text(p), appCode.muestraOcultaConsulta(p), appCode.hideLoading() } else t = !0, null != (n = document.getElementById("STemaChBox_" + e.tema)) && (n.checked = !1), appCode.hideLoading(); t && ("en" === idiomaGlobal ? window.alert("Only it allowed to select " + maximoSeries + " series maximum.") : window.alert("Sólo se permite seleccionar " + maximoSeries + " series como máximo.")) } else appCode.hideLoading(), console.log(e) }, changeImgHierarchySelectUp: function (e, a, o) { for (var t, i, l, n = !0, r = 0, c = parseInt(document.getElementById("countInd").innerText), d = document.getElementById("STemaChBox_" + e).className.split(" "), s = 0; s < d.length; s++)if (-1 !== d[s].indexOf("tpmcr_") && (i = d[s].split("_")[1], null != (t = $("[id^=li_contextTopics_" + i + "_")[0]))) { if (null !== (l = t.getElementsByTagName("INPUT"))) for (r = 0; r < l.length; r += 1)if (l[r].id !== "STemaChBox_" + i && (-1 !== l[r].id.indexOf("STemaChBox_") || -1 !== l[r].id.indexOf("SChBox_")) && !1 === l[r].checked) { n = !1; break } 0 === c && (n = !1), !1 === o && (n = !1), appCode.seleccionaRama(i, n), n || (n = !0) } }, unchkPadreUp: function (e) { var a, o, t, i = !0, l = 0; if (void 0 !== document.getElementById("STemaChBox_" + e) && null !== document.getElementById("STemaChBox_" + e)) for (var n = document.getElementById("STemaChBox_" + e).className.split(" "), r = 0; r < n.length; r++)if (-1 !== n[r].indexOf("tpmcr_") && (o = n[r].split("_")[1], null != (a = $("[id^=li_contextTopics_" + o + "_")[0]))) { if (null !== (t = a.getElementsByTagName("INPUT"))) for (l = 0; l < t.length; l += 1)if (-1 !== t[l].id.indexOf("STemaChBox_") && !1 === t[l].checked) { i = !1; break } appCode.uncheckRama(o, i), i || (i = !0) } }, uncheckRama: function (e, a) { var o = document.getElementById("STemaChBox_" + e); null !== o && ("true" === a || !0 === a ? (o.checked, o.checked = !0) : o.checked = !1) }, seleccionaRama: function (e, a) { var o = document.getElementById("STemaChBox_" + e); null !== o && ("true" === a || !0 === a ? (o.checked, o.checked = !0) : !0 === o.checked ? o.checked = !0 : o.checked = !1) }, callBackInfoComplementaria: function (e) { void 0 === e.ErrorCode && (document.getElementById("contentBody").innerHTML = e.Descripcion) }, openZoomTemaExplorer: function (e, a, o) { var t = (void 0 !== o ? o : "0").toString(); windowApp = "zoom", window.location = "#bodydataExplorer"; var i = document.documentElement; positionScroll = (window.pageYOffset || i.scrollTop) - (i.clientTop || 0), document.getElementById("PrincipalContainer").style.display = "none", $("#zoomTemaExplorer").css("display", "block"), document.getElementById("divListaPorTema").innerHTML = "", indicadoresCheckedZoom = "", indicadoresUnCheckedZoom = "", totalIndicadoresZoom = 0, contadorIndicadoresZoom = 0, temaZoomActual = e; var l = appCode.getApi() + "/IndicadoresPorTemaExtendido/" + e + "/" + idiomaGlobal + "/" + areaGeoGlobal + "/" + t + "/json/" + C_token + "?callback=?", n = document.getElementById("checkZoom"); n.innerHTML = ""; var r = "", c = document.getElementById("STemaChBox_" + e); null != c && c.checked && (r = "checked"), n.innerHTML = '<input type="checkbox" ' + r + ' class="zcbox_" id="zcbox_' + e + '" value="' + e + '" onclick="javascript:appCode.oncheckTemaZoom(this);">', appCode.showLoading(), $.getJSON(l, null, function (e) { appCode.printZoomTemaV2(e, a) }) }, printZoomTemaV2: function (e, a) { if (void 0 === e.ErrorCode) { numSeriesZoom = e.length; var o = appCode.calculaTotalSeries(cveSeriesSelectedG); document.getElementById("countZoom").innerHTML = o; var t = e[0].tematica.indexOf(a), i = e[0].tematica.substring(0, t), l = void 0 !== i ? i + a : ""; document.getElementById("titleDivZoom").innerHTML = l; var n = "", r = document.getElementById("divListaPorTema"), c = 0; numSeriesZoom > 1 ? (c = Math.ceil(numSeriesZoom / 2), n += '<div class="container-fluid">', n += '<div class="row">', n += '<div class="col-xs-6">', n += appCode.completeColumnas(e, a, l, 0, c), n += "</div>", n += '<div class="col-xs-6">', n += appCode.completeColumnas(e, a, l, c, numSeriesZoom), n += "</div>", n += "</div>", n += "</div>") : (n += '<div class="container-fluid">', n += appCode.completeColumnas(e, a, l, 0, numSeriesZoom), n += "</div>"), r.innerHTML = n, r.style.height = "100%", appCode.hideLoading() } else console.log(e), appCode.hideLoading() }, closeZoomTemaExplorer: function () { appCode.removePartUrl(), temaZoomActual = "", document.getElementById("PrincipalContainer").style.display = "block", $("#zoomTemaExplorer").css("display", "none"), "" === indicadoresCheckedZoom && "" === indicadoresUnCheckedZoom || appCode.actualizaIndicadoresZoom(), "" === temasUnchekedZoom && "" === temasCheckedZoom || appCode.actualizaTemasZoom(), document.documentElement.scrollTop = positionScroll }, actualizaIndicadoresZoom: function () { var e = indicadoresCheckedZoom.split(","), a = indicadoresUnCheckedZoom.split(","), o = 0, t = "", i = "", l = ""; for (o = 0; o < e.length; o++)"" !== e[o] && (t = e[o], null != (i = document.getElementById("SChBox_" + t)) && (i.checked = !0)); for (o = 0; o < a.length; o++)"" !== a[o] && (t = a[o], null != (i = document.getElementById("SChBox_" + t)) && (i.checked = !1)); var n = temasCheckedZoom.split(","), r = temasUnchekedZoom.split(","); for (o = 0; o < n.length; o++)"" !== n[o] && (l = n[o], null != (i = document.getElementById("STemaChBox_" + l)) && (i.checked = !0)); for (o = 0; o < r.length; o++)"" !== r[o] && (l = r[o], null != (i = document.getElementById("STemaChBox_" + l)) && (i.checked = !1)); var c = appCode.calculaTotalSeries(cveSeriesSelectedG); $("#countInd").text(c), appCode.muestraOcultaConsulta(c) }, actualizaTemasZoom: function () { var e = "", a = 0, o = 0, t = temasCheckedZoom.split(","); for (a = 0; a < t.length; a++)if ("" !== t[a]) for (e = document.getElementsByClassName("tpmcr_" + t[a]), o = 0; o < e.length; o++)e[o].checked = !0; var i = temasUnchekedZoom.split(","); for (a = 0; a < i.length; a++)if ("" !== i[a]) for (e = document.getElementsByClassName("tpmcr_" + i[a]), o = 0; o < e.length; o++)e[o].checked = !1 }, calculaTotalSeries: function (e) { var a = e.split(",").length; return 0 === e.indexOf(",") && a--, "," === e.charAt(e.length - 1) && a--, "" === e && (a = 0), a }, completeColumnas: function (e, a, o, t, i) { var l = "", n = "", r = cveSeriesSelectedG; "," !== r.charAt(0) && (r = "," + r), "," !== r.charAt(r.length - 1) && (r += ","); for (var c = t, d = 0; d < e.length; d++)if (d >= t && d < i || 1 === e.length) { n += '<div  class="row_' + ++c + '">', n += '<div class="col-xs-12" >', n += '<input type="checkbox" class="slmZcbox_" id="zoomroot_' + c + '" onclick="javascript:appCode.onCheckSerieAllZoom(this);">', n += "<b>" + (l = e[d].tematica.replace(o + " > ", "")).substring(0, l.length - 1).trim() + "</b></div>", n += '<div  id="zoomind_' + c + '">'; for (var s = e[d].indicadores, m = 0; m < s.length; m++) { n += '<div  class="col-xs-12">'; var p = ""; r.indexOf("," + s[m].indicador + ",") > -1 && (p = "checked", contadorIndicadoresZoom++), n += '<div class="col-sm-1 col-xs-3 text-center" ><input type="checkbox" ' + p + ' class="slmZcbox_" id="slmcZbox_' + s[m].indicador + '" value="' + s[m].indicador + '" onclick="javascript:appCode.onCheckIndicadorZoom(this);"></div>', n += '<div class="col-sm-11 col-xs-9" >' + s[m].nombre + "</div>", n += "</div>", totalIndicadoresZoom++ } n += "</div>", n += "</div>" } return n }, generatabladatos: function () { searchengine("#contextTopics2").changeTabla(!1); var e = "0" === fuenteGlobal ? "null" : fuenteGlobal; if ("" === document.getElementById("contextTopics").innerHTML) { var a = "1" === ultimoClic ? areaGeoGlobal : "2" === ultimoClic && "0700" === areaGeoGlobal ? areaGeoGlobal : "null", o = "1" === ultimoClic ? "0" : desgloseGeoGlobal; tablamc("#contextTopics").init(idiomaGlobal, a, e, temaGlobal, tematicaGlobal, "null", "null", "null", "null", "null", verBie, "", principalesGlobal, o) } }, callBackTotalIndicadores: function (e) { void 0 === e.ErrorCode && $("#totalIndicadores").text(e.TOTAL) }, openfastview: function (e, a, o, t, i, l, n, r, c, d, s, m, p) { var u = "divFV" + e + "_" + p, g = ""; if (fvContainer === u) null !== (g = document.getElementById(u)) && (g.innerHTML = ""), fvContainer = ""; else { null !== (g = document.getElementById(fvContainer)) && (g.innerHTML = ""); (g = document.getElementById("divFV" + e + "_" + p)).innerHTML = '<div class="row" id="FastViewContainer" style="display: none;"><div class="col-xs-12"><div class="modal-body" style="padding: 1px; background-color: white;"><div id="divfastview"></div></div></div></div>', fvContainer = "divFV" + e + "_" + p; var b = -1 !== nombreAreaGlobal.indexOf(",") ? (nombreAreaGlobal.split(",")[1] + ", " + nombreAreaGlobal.split(",")[0]).trim() : nombreAreaGlobal, h = "0" !== m; i = "1" === n ? "0700" : p, b = "1" === n ? "Estados Unidos Mexicanos" : b; var v = e.split("_")[0]; exploradorDatos("#divfastview").init(idiomaGlobal, v, i, b, n, o, t, l, r, verBie, d, s, "", h, m), document.getElementById("FastViewContainer").style.display = "block", window.location.href = window.location.href + "#D" + e } }, marcarTemasHijos: function (e, a) { for (var o = document.getElementsByClassName("tpmcr_" + e), t = 0; t < o.length; t++)o[t].checked = !0 }, desmarcarTemasHijos: function (e, a) { for (var o = document.getElementsByClassName("tpmcr_" + e), t = 0; t < o.length; t++)o[t].checked = !1 }, printSeleccionSeriesTematica: function (e) { if (void 0 === e.ErrorCode) { listaNombres = e; for (var a = "", o = document.getElementById("divListaSeleccionadas"), t = 0; t < e.length; t++) { a += '<div  class="col-xs-12">', a += '<div class="col-xs-12" ><b>' + e[t].tematica + "</b></div>"; for (var i = 0; i < e[t].indicadores.length; i++)a += '<div  class="col-xs-12">', a += '<div class="col-sm-1 col-xs-1 text-center" ><input type="checkbox" checked class="slmcbox_" id="slmcbox_' + e[t].indicadores[i].indicador + '" value="' + e[t].indicadores[i].indicador + '" onclick="javascript:appCode.eventSeriesSeleccionadas(this);"></div>', a += '<div class="col-sm-11 col-xs-10" >' + e[t].indicadores[i].nombre + "</div>", a += "</div>"; a += "</div>" } o.innerHTML = a, o.style.height = "100%" } }, printSeleccionSeriesTematicaV3: function (e) { if (void 0 === e.ErrorCode) { var a = ""; listaNombres = e; for (var o = "", t = document.getElementById("divListaSeleccionadas"), i = 0; i < e.length; i++) { o += '<div  class="col-xs-12">', o += '<div class="col-xs-12" ><b>' + e[i].tematica + "</b></div>"; for (var l = 0; l < e[i].indicadores.length; l++)o += '<div  class="col-xs-12">', o += '<div class="col-sm-1 col-xs-1 text-center" ><input type="checkbox" checked class="slmcbox_" id="slmcbox_' + (a = appCode.returnCveIndicaTema(e[i].indicadores[l].indicador)) + '" value="' + a + '" onclick="javascript:appCode.eventSeriesSeleccionadas(this);"></div>', o += '<div class="col-sm-11 col-xs-10" >' + e[i].indicadores[l].nombre + "</div>", o += "</div>"; o += "</div>" } t.innerHTML = o, t.style.height = "100%" } }, returnCveIndicaTema: function (e) { var a = cveSeriesSelectedG.split(","); return function (e) { return a.filter(a => a.includes(e)) }(e)[0] }, oncheckTemaZoom: function (e) { var a, o; appCode.showLoading(), indicadoresCheckedZoom = "", indicadoresUnCheckedZoom = "", temasCheckedZoom = "", temasUnchekedZoom = ""; var t = e.value; if (e.checked) if ((appCode.getApi() + "/API.svc/IndicadoresPorTemaRecursivo/null/" + t + "/" + idiomaGlobal + "/null//" + totalSeleccionGlobal + "/" + maximoSeries + "/" + principalesGlobal + "/" + tematicaGlobal + "/true/99/" + varHerr + "/json/" + C_token + "?callback=?").length > 200) { a = { areaGeografica: "null", idioma: idiomaGlobal, tema: t, programa_ciclo: "null", totalSeleccionados: totalSeleccionGlobal, maximoSeries: maximoSeries, principales: principalesGlobal, tematica: tematicaGlobal, consultarEnBie: "true", desglose: "99", herramienta: varHerr, formato: "json", token: C_token }, o = JSON.stringify(a); var i = "POST"; $.ajax({ method: i, url: appCode.getApi() + "/IndicadoresPorTemaRecursivo", contentType: "application/json; charset=utf-8", dataType: "json", data: o, processData: !0, success: function (e) { appCode.callBackSeriesPorTemaZoomAgregar(e) }, error: function (e, a, o) { console.log(a, o) } }) } else appCode.managmentdata("SeriesPorTemaZoomAgregar", "IndicadoresPorTemaRecursivo", "null/" + t + "/" + idiomaGlobal + "/null//" + totalSeleccionGlobal + "/" + maximoSeries + "/" + principalesGlobal + "/" + tematicaGlobal + "/true/99/" + varHerr); else { for (var l = document.getElementsByClassName("slmZcbox_"), n = 0; n < l.length; n++) { l[n].checked = !1 } if ((appCode.getApi() + "/API.svc/IndicadoresPorTemaRecursivo/null/" + t + "/" + idiomaGlobal + "/null//0/" + maximoSeries + "/" + principalesGlobal + "/" + tematicaGlobal + "/true/99/" + varHerr + "/json/" + C_token + "?callback=?").length > 200) { a = { areaGeografica: "null", idioma: idiomaGlobal, tema: t, programa_ciclo: "null", totalSeleccionados: "0", maximoSeries: maximoSeries, principales: principalesGlobal, tematica: tematicaGlobal, consultarEnBie: "true", desglose: "99", herramienta: varHerr, formato: "json", token: C_token }, o = JSON.stringify(a); i = "POST"; $.ajax({ method: i, url: appCode.getApi() + "/IndicadoresPorTemaRecursivo", contentType: "application/json; charset=utf-8", dataType: "json", data: o, processData: !0, success: function (e) { appCode.callBackSeriesPorTemaZoomAgregar(e) }, error: function (e, a, o) { console.log(a, o) } }) } else appCode.managmentdata("SeriesPorTemaZoomQuitar", "IndicadoresPorTemaRecursivo", "null/" + t + "/" + idiomaGlobal + "/null//0/" + maximoSeries + "/" + principalesGlobal + "/" + tematicaGlobal + "/true/99/" + varHerr) } }, actualizaSeleccionSeries: function () { var e; if ("principal" === selectedChartView && appCode.removePartUrl(), !1 === archConsulta) { e = document.getElementsByClassName("slmcbox_"), cveSeriesRemovidas = ""; var a = 0; for (a = 0; a < e.length; a++)if (!e[a].checked) { var o = e[a].getAttribute("id").replace("slmcbox_", ""); cveSeriesRemovidas += "," + o } tablamc("#contextTopics2").updateSeries(cveSeriesRemovidas) } else cveSeriesRemovidas = ""; var t = cveSeriesSelectedG.split(",").length; if (0 === cveSeriesSelectedG.indexOf(",") && t--, "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && t--, "" !== cveSeriesSelectedG && "," !== cveSeriesSelectedG || (t = 0), $("#countInd").text(t), appCode.muestraOcultaConsulta(t), 0 === t) { for ($("#chartSelectedExplorer").css("display", "none"), temasRecursivosGlobal = "", e = document.getElementsByClassName("ckTopic"), a = 0; a < e.length; a++)e[a].checked && (e[a].checked = !1); appCode.eventclosedataexlorer() } else "" !== cveSeriesRemovidas && (0 === cveSeriesRemovidas.indexOf(",") && (cveSeriesRemovidas = cveSeriesRemovidas.substring(1, cveSeriesRemovidas.length)), "," === cveSeriesRemovidas.charAt(cveSeriesRemovidas.length - 1) && (cveSeriesRemovidas = cveSeriesRemovidas.substring(cveSeriesRemovidas.length - 2, cveSeriesRemovidas.length - 2)), appCode.buscaPadresPorLista(cveSeriesRemovidas)), appCode.closeChartSelectedExplorer() }, closeChartSelectedExplorer: function () { $("#chartSelectedExplorer").css("display", "none"), archivoAbierto ? archivoAbierto = !1 : ("principal" === selectedChartView && (document.getElementById("PrincipalContainer").style.display = "block"), "modal" === selectedChartView && ($("#radioCuadroIndicador").prop("checked", !0), tipoCuadroConsulta = "indicador", appCode.opendataexplorer())) }, registraBusq: function () { searchengine("#contextTopics2").registraBusqueda(cveSeriesSelectedG) }, registraTipoBusq: function (e) { searchengine("#contextTopics2").handleChange(e, cveSeriesSelectedG) }, chngOrdenBusq: function (e) { searchengine("#contextTopics2").chgSelectOrden(e, cveSeriesSelectedG) }, clicPagina: function (e, a, o) { searchengine("#contextTopics2").clicPage(e, a, o, cveSeriesSelectedG) }, traeIndicadoresBusq: function () { return cveSeriesSelectedG }, processedseries: function () { return "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)), cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length).substring(1, cveSeriesSelectedG.length - 1) }, ordertable: function (e) { var a = document.getElementsByName(e); for (i = 0; i < a.length; i++)!0 === a[i].checked && (objectvalue = a[i].value); return objectvalue }, onCheckSerieAllZoom: function (e) { var a = e.id.split("_")[1], o = e.checked, t = document.getElementById("zoomind_" + a).getElementsByTagName("input"); if (t.length > 0) for (var i = 0; i < t.length; i++)o ? !1 === t[i].checked && $("#" + t[i].id).click() : !0 === t[i].checked && $("#" + t[i].id).click() }, opendataexplorer: function () { window.location = "#bodydataExplorer", "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); var e = cveSeriesSelectedG; if ("" === e) { var a = "es" === idiomaGlobal ? "Debe especifica al menos una serie para continuar" : "You should at least specify a number to continue"; window.alert(a) } else { orderPeriodGlobal = appCode.ordertable("optradio"), orderGlobal = appCode.ordertable("optradio1"), orientacionGlobal = appCode.ordertable("optradio3"); var o = appCode.obtieneCasoOrientacionCuadro(), t = areaGeograficaUnicaGlobal; "indicador" === tipoCuadroConsulta ? $("#cmbIndicadores").css("display", "none") : $("#cmbIndicadores").css("display", "block"), document.getElementById("statisticaltable").innerHTML = "", dataexplorer("#statisticaltable").init(e, t, idiomaGlobal, o, orderGlobal, orderPeriodGlobal, "comboperiodsini", "comboperiodsend", estadisticoGlobal, nombreAreaGlobal, tipoCuadroConsulta), $("#containerdataexplorer").css("display", "block"), $("#containerindicatorlist").css("display", "none"), document.getElementById("PrincipalContainer").style.display = "none", $("#zoomTemaExplorer").css("display", "none") } fixmeTop = $(".sticky-tools").offset().top, anchoBody = $("#cabeceraBotones").width(), altoHerramientas = $("#divOpcionesExp").height() + 33 }, removePartUrl: function () { var e = window.location.href.replace("#bodydataExplorer", " "); window.history.pushState({}, document.title, e), appCode.hideLoading() }, eventclosedataexlorer: function () { appCode.removePartUrl(), $("body").css("overflow-y", "auto"), cargaArbolMultiple = !0, areasMultiplesSeleccionadas = areaGeoGlobal, areaGeograficaConsultaGlobal = areaGeoGlobal, archivoAbierto ? archivoAbierto = !1 : document.getElementById("PrincipalContainer").style.display = "block", $("#containerdataexplorer").css("display", "none"), $("#containerindicatorlist").css("display", "block"), $("#idareageo").innerHTML = "", $("#zoomTemaExplorer").css("display", "none"), temaZoomActual = "", "" === indicadoresCheckedZoom && "" === indicadoresUnCheckedZoom || appCode.actualizaIndicadoresZoom(), "" === temasUnchekedZoom && "" === temasCheckedZoom || appCode.actualizaTemasZoom(); $("#sidebar-parent").width(); if (cveSeriesSelectedG, archConsulta && "none" !== document.getElementById("contextTopics").style.display) { cveSeriesRemovidas = ""; for (var e = $("#ul_licontextTopics li input[type=checkbox]"), a = [], o = !1, t = 0; t < e.length; t++)-1 === e[t].id.indexOf("STemaChBox_") && (o = n(e[t].value), e[t].checked = o, r("INDICADOR", e[t].value, e[t].getAttribute("data-parent-topic"), e[t].checked), o && a.push(e[t].getAttribute("data-parent-topic"))); for (var i = "," + a.join(",") + ",", l = 0; l < e.length; l++)-1 !== e[l].id.indexOf("STemaChBox_") && -1 === i.indexOf("," + e[l].value + ",") && (e[l].checked = !1); archConsulta = !1 } function n(e) { var a = !1; return cveSeriesSelectedG.indexOf("," + e + ",") > -1 && (a = !0), cveSeriesSelectedG.indexOf(e + ",") > -1 && (a = !0), cveSeriesSelectedG.indexOf("," + e) > -1 && (a = !0), a } function r(e, a, o, t) { var i = listaRamas.filter(function (e) { return e.Tema === o })[0]; null != i && (t ? i.SubeContadorIndicadores() : i.BajaContadorIndicadores()) } }, openChartSelectedExplorer: function (e) { var a; windowApp = "seleccionados", window.location = "#bodydataExplorer", "," === cveSeriesSelectedG && (cveSeriesSelectedG = ""); var o = ""; if ("" !== (a = "0" === tematicaGlobal ? cveSeriesSelectedG : appCode.rescataIndicadores(cveSeriesSelectedG))) { if ($("#containerdataexplorer").css("display", "none"), selectedChartView = e, $("#chartSelectedExplorer").css("display", "block"), document.getElementById("PrincipalContainer").style.display = "none", document.getElementById("divListaSeleccionadas").innerHTML = "", "," === a.charAt(0) && (a = a.substring(1, a.length - 1)), "," === a.charAt(a.length - 1) && (a = a.substring(0, a.length - 1)), a.length < 200) { var t = appCode.getApi() + "/IndicadoresSeleccionadosTematicas/" + a + "/" + idiomaGlobal + "/" + tematicaGlobal + "/json/" + C_token + "?callback=?"; $.getJSON(t, null, function (e) { "0" === tematicaGlobal ? appCode.printSeleccionSeriesTematica(e) : appCode.printSeleccionSeriesTematicaV3(e) }) } else { o = { indicadores: a, idioma: idiomaGlobal, tematica: tematicaGlobal, formato: "json", token: C_token }; var i = JSON.stringify(o); $.ajax({ method: "POST", url: appCode.getApi() + "/IndicadoresSeleccionadosTematicas", contentType: "application/json; charset=utf-8", dataType: "json", data: i, processData: !0, success: function (e) { "0" === tematicaGlobal ? appCode.printSeleccionSeriesTematica(e) : appCode.printSeleccionSeriesTematicaV3(e) }, error: function (e, a, o) { console.log(a, o) } }) } var l = appCode.calculaTotalSeries(cveSeriesSelectedG); document.getElementById("countSelected").innerHTML = l } else window.alert("Debe seleccionar por lo menos un indicador para continuar.") }, rescataIndicadores: function (e) { var a = e.split(","), o = ""; if ("" !== e) { for (var t = 0; t < a.length; t++)"" !== a[t] && (o += a[t].split("_")[0] + ","); "," !== o.charAt(0) && (o = "," + o) } return o }, actualizaSeleccionSeriesBusqueda: function () { for (var e = cveSeriesSelectedG.split(","), a = 0; a < e.length; a++)if ("" !== e[a]) { var o = document.getElementById("SChBox_" + e[a]); null != o && "checked" !== !o.checked && (o.checked = "checked") } }, eventSeriesSeleccionadas: function (e) { var a = e.checked, o = e.value, t = cveSeriesSelectedG; "," !== t.charAt(0) && (t = "," + t), "," !== t.charAt(t.length - 1) && (t += ","), cveSeriesSelectedG = t; var i = cveSeriesSelectedG.indexOf("," + o + ","); "" === cveSeriesSelectedG ? cveSeriesSelectedG = "," : cveSeriesSelectedG, !0 === a ? -1 === i && (cveSeriesSelectedG += o + ",") : cveSeriesSelectedG = cveSeriesSelectedG.replace("," + o + ",", ","), "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); var l = cveSeriesSelectedG.split(",").length; if ("" !== cveSeriesSelectedG && "," !== cveSeriesSelectedG || (l = 0), $("#countSelected").text(l), "none" !== document.getElementById("contextTopics2").style.display && !1 === a) for (var n = $("#ul_divresultados li input[type=checkbox]"), r = 0; r < n.length; r++)("0" === tematicaGlobal ? n[r].id.split("_")[2] : n[r].id.split("_")[2] + "_" + n[r].id.split("_")[3]) === o && n[r].checked && (n[r].checked = !1) }, buscaPadresPorLista: function (e) { if (e.length < 200) { var a = appCode.getApi() + "/API.svc/TemasCompletadosPorIndicador/" + areaGeoGlobal + "/" + idiomaGlobal + "/" + e + "/" + tematicaGlobal + "/" + verBie + "/json/" + C_token + "?callback=?"; $.getJSON(a, null, function (e) { appCode.removerPadresLista(e) }) } else { var o = { areaGeografica: areaGeoGlobal, idioma: "es", indicadores: e, tematica: tematicaGlobal, buscaBie: verBie, formato: "json", token: C_token }, t = JSON.stringify(o); $.ajax({ method: "POST", url: appCode.getApi() + "/TemasCompletadosPorIndicador", contentType: "application/json; charset=utf-8", dataType: "json", data: t, processData: !0, success: function (e) { appCode.removerPadresLista(e) }, error: function (e, a, o) { console.log(a, o) } }) } }, removerPadresLista: function (e) { if (void 0 === e.ErrorCode) { var a = e.split(","), o = "", t = 0; for (t = 0; t < a.length; t++)o += appCode.encuentraEstructuraChecksRemovidos(a[t]); var i = "", l = (i = e.toString() + "," + o).split(","); for (t = 0; t < l.length; t++) { "," === (temasRecursivosGlobal = temasRecursivosGlobal.replace("," + l[t] + ",", ",")) && (temasRecursivosGlobal = ""); var n = listaRamas.filter(function (e) { return e.Tema === l[t] })[0]; void 0 !== n && n.UnCheckDirecto(); for (var r = document.getElementsByClassName("tpmcr_" + l[t]), c = 0; c < r.length; c++)i.indexOf(r[c].value) > -1 && r[c].checked && (r[c].checked = !1) } appCode.closeChartSelectedExplorer() } else appCode.closeChartSelectedExplorer() }, encuentraEstructuraChecksRemovidos: function (e) { var a = "", o = 0, t = 0, i = 0; if ("true" === verBie) for (t = e.length / 4, i = 4, o = 0; o < t - 1; o++)"" !== a && (a += ","), a += e.substring(0, e.length - i * (o + 1)); else { t = e.length / 4, i = 4; for (o = 0; o < t - 1; o++) { var l = ""; l = e.substring(0, e.length - i * (o + 1)); for (var n = -1; n < o; n++)l += "0000"; l !== e && "000000000000" !== l && ("" !== a && (a += ","), a += l) } } return "" !== a && (a += ","), a }, desmarcaSeleccionSeries: function () { if ("none" !== document.getElementById("contextTopics2").style.display) for (var e = $("#ul_divresultados li input[type=checkbox]"), a = 0; a < e.length; a++)e[a].checked && (e[a].checked = !1); for (var o = document.getElementsByClassName("slmcbox_"), t = 0; t < o.length; t++)o[t].checked && (o[t].checked = !1); cveSeriesSelectedG = "", $("#countSelected").text("0") }, onCheckIndicadorZoom: function (e) { var a = e.value; "," !== cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = "," + cveSeriesSelectedG), "," !== cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG += ","); var o = cveSeriesSelectedG.indexOf(a + ","), t = ""; e.checked ? (indicadoresUnCheckedZoom.indexOf(a + ",") > -1 && indicadoresUnCheckedZoom.replace(a + ",", ""), indicadoresCheckedZoom += a + ",", -1 === o && ("" === cveSeriesSelectedG && (cveSeriesSelectedG += ","), cveSeriesSelectedG += a + ","), contadorIndicadoresZoom++) : (null != (t = document.getElementById("zcbox_" + temaZoomActual)) && (t.checked = !1), temasCheckedZoom.indexOf(temaZoomActual + ",") > -1 && temasCheckedZoom.replace(temaZoomActual + ",", ""), -1 === temasUnchekedZoom.indexOf(temaZoomActual + ",") && (temasUnchekedZoom += temaZoomActual + ","), indicadoresCheckedZoom.indexOf(a + ",") > -1 && indicadoresCheckedZoom.replace(a + ",", ""), indicadoresUnCheckedZoom += a + ",", cveSeriesSelectedG = cveSeriesSelectedG.replace("," + a + ",", ","), contadorIndicadoresZoom--), contadorIndicadoresZoom === totalIndicadoresZoom && 0 !== contadorIndicadoresZoom && (null != (t = document.getElementById("zcbox_" + temaZoomActual)) && (t.checked = !0), temasUnchekedZoom.indexOf(temaZoomActual + ",") > -1 && temasUnchekedZoom.replace(temaZoomActual + ",", ""), -1 === temasCheckedZoom.indexOf(temaZoomActual + ",") && (temasCheckedZoom += temaZoomActual + ",")), "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); var i = cveSeriesSelectedG.split(",").length; "" !== cveSeriesSelectedG && "," !== cveSeriesSelectedG || (i = 0), $("#countZoom").text(i) }, openSeleccionAreaExplorer: function (e) { var a; "btn_px" === e ? (paramAccept = {}, appCode.showLoading(), setTimeout(function () { appCode.goConsulta() }, 1e3)) : (a = document.documentElement, positionScroll = (window.pageYOffset || a.scrollTop) - (a.clientTop || 0), setTimeout(function () { appCode.timetoOpen() }, 1e3)) }, goConsulta: function () { "," === cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1)), "," === cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG = cveSeriesSelectedG.substring(0, cveSeriesSelectedG.length - 1)); var e = cveSeriesSelectedG; if ("" === e) { var a = "es" === idiomaGlobal ? "Debe especifica al menos una serie para continuar" : "You should at least specify a number to continue"; window.alert(a) } else $("#zoomTemaExplorer").css("display", "none"), this.goPXV3([], e, areaGeoGlobal) }, timetoOpen: function () { document.getElementById("PrincipalContainer").style.display = "none", $("#containerindicatorlist").css("display", "none"), "true" === verBie ? $("#divOpcionesTipoCuadro").css("display", "none") : $("#divOpcionesTipoCuadro").css("display", ""), tipoCuadroConsulta = "indicador", $("#btnMultArea").css("display", "none"), $("#btnUnArea").css("display", "block"), $("#radioCuadroIndicador").prop("checked", !0), areaGeograficaUnicaGlobal = areaGeoGlobal, appCode.opendataexplorer() }, obtieneCasoOrientacionCuadro: function () { return "v" === orientacionGlobal ? "indicador" === tipoCuadroConsulta ? "indicadorVertical" : "areaVertical" : "indicador" === tipoCuadroConsulta ? "indicadorHorizontal" : "areaHorizontal" }, refreshView: function () { if ("" === globalTXT) if (periodoInicialGlobal = document.getElementById("comboperiodsini").value, periodoFinalGlobal = document.getElementById("comboperiodsend").value, periodoFinalGlobal < periodoInicialGlobal) "en" === idiomaGlobal ? window.alert("The last year must be higher than the initial year.") : window.alert("El año final debe ser mayor al año inicial."); else { orderPeriodGlobal = appCode.ordertable("optradio"), orderGlobal = appCode.ordertable("optradio1"), orientacionGlobal = appCode.ordertable("optradio3"); var e = appCode.obtieneCasoOrientacionCuadro(), a = areaGeograficaUnicaGlobal; "area" === tipoCuadroConsulta && (a = areaGeograficaConsultaGlobal); var o = indicadorComboGlobal.split(","); const i = []; o.forEach(e => { "" !== e && (i.includes(e) || i.push(e)) }); var t = i.join(","); cuadro.CargaParametros(t, a, idiomaGlobal, e, orderGlobal, orderPeriodGlobal, periodoInicialGlobal, periodoFinalGlobal, estadisticoGlobal, "statisticaltable", tematicaGlobal) } else window.alert(globalTXT) }, cambiaEstadistico: function () { document.getElementById("iconoEstadistico").className = "", "true" === estadisticoGlobal ? (estadisticoGlobal = "false", document.getElementById("iconoEstadistico").className = "inegi-calcest-inact") : (estadisticoGlobal = "true", document.getElementById("iconoEstadistico").className = "inegi-calcest-act") }, limpiaSeleccionModal: function () { document.getElementById("PrincipalContainer").style.display = "block", $("#containerdataexplorer").css("display", "none"), $("#containerindicatorlist").css("display", "block"), $("#idareageo").innerHTML = "", $("#zoomTemaExplorer").css("display", "none"), appCode.limpiaSeleccionSeries() }, cambiarTipoCuadro: function (e) { if ("indicador" === (tipoCuadroConsulta = e)) $("#cmbIndicadores").css("display", "none"), $("#btnMultArea").css("display", "none"), $("#btnUnArea").css("display", "block"), indicadorComboGlobal = appCode.processedseries(), document.getElementById("dataExplorerTitle").innerHTML = nombreAreaGlobal, areaGeograficaUnicaGlobal = areaGeoGlobal, appCode.opendataexplorer(); else { $("#cmbIndicadores").css("display", "block"), $("#btnMultArea").css("display", "block"), $("#btnUnArea").css("display", "none"); appCode.processedseries(), appCode.obtieneCasoOrientacionCuadro(); appCode.opendataexplorer() } }, eventCloseChartOptionsExplorer: function () { $("#containerdataexplorer").css("display", "block"), $("#chartoptionexplorer").css("display", "none"), $("#openchartexplorer").css("display", "none"), cveSeriesGraficar = "", appCode.eventclosedataexlorer() }, openSeleccionAreaModal: function () { if ($("#seleccionAreaExplorer").modal("show"), $("#seleccionAreaExplorer").modal({ show: !0 }), "indicador" === tipoCuadroConsulta) { $("#divUnArea").css("display", ""), $("#divMultiplesAreas").css("display", "none"), $("#btnSeleccionaArbolMultiple").css("display", "none"), void 0 !== L_eventListTAG && (L_eventListTAG = []); var e = !0 === byCiudad ? "4" : tematicaGlobal; treeAgeo.ObtieneArbol("#divUnArea").initTreeAgeo(idiomaGlobal, !0, areaGeoGlobal, "municipal", !0, "radio", !1, "null", e) } else $("#divUnArea").css("display", "none"), $("#divMultiplesAreas").css("display", ""), $("#btnSeleccionaArbolMultiple").css("display", ""), cargaArbolMultiple && treeAgeo.ObtieneArbol("#divMultiplesAreas").initTreeAgeo(idiomaGlobal, !0, areaGeoGlobal, "municipal", !0, "check", !1, "null", tematicaGlobal) }, quitaSeries: function (e) { var a = document.getElementById("SChBox_" + e); null != a && $("#SChBox_" + e).removeAttr("checked") }, clicInfo: function (e) { -1 !== document.getElementById(e).className.indexOf("abajo") ? document.getElementById(e).className = "inegi-flecha-arriba cursor desc infometa" : document.getElementById(e).className = "inegi-flecha-abajo cursor desc infometa" }, copiaRuta: function () { for (var e = "", a = document.location.protocol + "//" + document.location.host + document.location.pathname, o = "", t = document.location.search.replace("?", "").split("&"), i = 0; i < t.length; i++)t[i].indexOf("tm") > -1 && (o += t[i]); a += "" !== o ? "?" + o + "&t=" + idnodoRuta : "?t=" + idnodoRuta; var l = $("#li_" + idnodoRuta + " > div span").eq(1).find("label").text(); document.getElementById("temaRuta").innerHTML = l; var n = document.getElementById("divCLLMensaje"); window.clipboardData ? (window.clipboardData.setData("Text", a), e = "es" === idiomaGlobal ? "ha sido copiada al portapapeles:<br>" : "has been copied to the clipboard:<br>", n.innerHTML = e + a) : (e = "es" === idiomaGlobal ? "Para copiar la ruta, selecciona y presiona Ctrl + C:" : "to copy the route, select and press Ctrl + C:", n.innerHTML = e + "<br><input type='text' class='form-control' id='ClipBoardTextBox' value=" + a + " /><script type='text/javascript'>function focus(){ClipBoardTextBox.focus();}<\/script>"), $("#modalRuta").modal("show") }, llamaModal: function () { var e = appCode.validateAgeo(tempDetail2.seleccion, tempDetail2.id); document.getElementById("titleAgeo").innerText = e; var a = ""; mapa("#divMapa").initMapav2(tempDetail2.id, "static", 1, 0, 0), a += "<span style='font-weight:bold;'>" + ("es" === idiomaGlobal ? "Clave geoestadística: " : "Key: ") + "</span>", a += "<span>" + tempDetail2.id + "</span>", a += "<br/>", a += "<span style='font-weight:bold;'>" + ("es" === idiomaGlobal ? "Estado: " : "Entity: ") + "</span>", a += "<span>" + tempDetail2.entidad + "</span>", "Total estatal" !== tempDetail2.municipio && "" !== tempDetail2.municipio && (a += "<br/>", a += "<span style='font-weight:bold;'>" + ("es" === idiomaGlobal ? "Municipio: " : "Municipality: ") + "</span>", a += "<span>" + tempDetail2.municipio + "</span>"), document.getElementById("column_2").innerHTML = a; var o = ""; if (3 === tempDetail2.seleccion.split(",").length || 9 === tempDetail2.id.length) o += "/app/mapa/espacioydatos/default.aspx?ag=" + tempDetail2.id; else if (tempDetail2.id.startsWith("0700") > -1) { var t = tempDetail2.id.substring(6, tempDetail2.id.length); o += "/app/mapa/espacioydatos/default.aspx?ag=" + t.substring(0, 2) + t.substring(6, 3) } var i = "<span style='font-weight:bold;'>" + ("es" === idiomaGlobal ? "Consultar en: " : "Consult in: ") + "</span>"; i += '<a style="cursor:pointer" target="_blank" href="' + o + '">Espacio y Datos de México</a>', document.getElementById("column_4").innerHTML = i, $("#modalAgeo").modal({ backdrop: "static", keyboard: !1 }) }, onCheckPrincipales: function (e) { appCode.toggleRadioCheckBox("chkPrincipales"); var a = "null"; e.checked && (a = "1"), principalesGlobal = a, "0" === fuenteGlobal && (fuenteGlobal = "null"), $("#bodyTema").hasClass("in") && appCode.filterTema(), $("#bodyPrograma").hasClass("in") && appCode.filterPrograma() }, resetArchivo: function (e) { $("#image-message").val("") }, readTextConsultar: function (e) { var a = ""; return $("#loadfilemessagepx_").css("display", "none"), e.files && e.files[0].name.indexOf(".txt") > -1 ? ($("#convConsulta").modal("hide"), reader.onload = function (e) { a = e.target.result, appCode.trataCuadroPX(a) }, reader.readAsText(e.files[0]), !0) : ($("#loadfilemessagepx_").css("display", "block"), !1) }, trataCuadroPX: function (e) { var a = e.split("\r\n"), o = a[2], t = o.substring(1, o.length - 1); t = t.substring(0, o.length - 1); a[10]; setTimeout(function () { var e = {}; if ("" === o) { var a = "es" === idiomaGlobal ? "Debe especifica al menos una serie para continuar" : "You should at least specify a number to continue"; window.alert(a) } else { $("#zoomTemaExplorer").css("display", "none"), e = { ind: t, tm: parseInt(tematicaGlobal), dom: "", ag: "", time: "", cobGeo: "NA" }, checkSizePx(e) < 8e5 ? (callbackcomponentetab(e), appCode.hideLoading()) : (document.getElementById("txtConsultable").innerHTML = "es" === idiomaGlobal ? "La consulta contiene más de 800,000 valores, por lo que la visualización puede tardar algunos minutos. ¿Desea continuar?" : "The query contains more than 800,000 values, so the display may take a few minutes. do you wish to continue?", document.getElementById("btnCancel").innerHTML = "es" === idiomaGlobal ? "Cancelar" : "Cancel", document.getElementById("btnAceptar").innerHTML = "es" === idiomaGlobal ? "Aceptar" : "Accept", appCode.hideLoading(), $("#consultabla").modal({ backdrop: "static", keyboard: !1 })) } }, 1e3) }, readText: function (e) { var a = ""; return $("#loadfilemessage").css("display", "none"), e.files && e.files[0].name.indexOf(".txt") > -1 ? (appCode.eventcloseuploadtxt(), $("#openTxtModal").css("display", "none"), reader.onload = function (e) { archConsulta = !0, a = e.target.result, appCode.openarchivedataexplorer(a), $("#archtxt").val("") }, reader.readAsText(e.files[0]), !0) : ($("#loadfilemessage").css("display", "block"), !1) }, openTematica: function (e) { var a = e.split("\r\n")[11]; tematicaGlobal !== a ? (window.location.href = window.location.href + "?tm=" + a, setTimeout(function () { appCode.openarchivedataexplorer(e) }, 3e3)) : appCode.openarchivedataexplorer(e) }, openarchivedataexplorer: function (e) { archivoAbierto = !0, document.getElementById("PrincipalContainer").style.display = "none"; var a = e.split("\r\n"); a[0], a[1]; perioConsulta.push(a[0]), perioConsulta.push(a[1]); var o = a[2], t = o.substring(1, o.length - 1); t = t.substring(0, o.length - 1), vec = t.split(","); var i = appCode.calculaTotalSeries(o); if ($("#openTxtModal").modal("hide"), i < maximoSeries) { if (cveSeriesSelectedG = a[2], "," === o.charAt(0) && (o = o.substring(1, o.length - 1)), "," === o.charAt(o.length - 1) && (o = o.substring(0, o.length - 2)), orderGlobal = a[3], orderPeriodGlobal = a[4], orientacionGlobal = a[5], estadisticoGlobal = a[7], a.length >= 11) areaGeoGlobal = a[10], a[10].toString().indexOf(",") > -1 && (areaGeograficaConsultaGlobal = a[10]), a.length > 11 && a[11].toString().indexOf(",") > -1 && (areaGeograficaConsultaGlobal = a[11]), a[10].toString().indexOf("area") > -1 && (tipoCuadroConsulta = "area", areaGeoGlobal = "0700"), a[10].toString().indexOf("indicador") > -1 && (tipoCuadroConsulta = "indicador", areaGeoGlobal = "0700", areaGeograficaConsultaGlobal = "0700"), a.length > 11 && a[11].toString().indexOf("area") > -1 && (tipoCuadroConsulta = "area", areaGeoGlobal = "0700"), "false" !== verBie && (areaGeoGlobal = "0700"), appCode.traeEntidadImporta(); else { verBie = "true", document.getElementById("PrincipalContainer").style.display = "none", tipoCuadroConsulta = "indicador"; var l = "v" === orientacionGlobal ? "indicadorVertical" : "indicadorHorizontal"; appCode.vistaTipoCuadro(tipoCuadroConsulta), $("#divOpcionesTipoCuadro").css("display", "none"), dataexplorer("#statisticaltable").init(o, areaGeoGlobal, idiomaGlobal, l, orderGlobal, orderPeriodGlobal, "comboperiodsini", "comboperiodsend", estadisticoGlobal, nombreAreaGlobal, tipoCuadroConsulta), $("#containerdataexplorer").css("display", "block"), $("#containerindicatorlist").css("display", "none"), appCode.actualizaSeleccionSeries() } document.getElementById("PrincipalContainer").style.display = "none" } else { "en" === idiomaGlobal ? window.alert("Only it allowed to select " + maximoSeries + " series maximum.") : window.alert("Sólo se permite seleccionar " + maximoSeries + " series como máximo."); for (var n = a[2].split(","), r = [], c = 0; c < n.length; c++)c < maximoSeries && r.push(n[c]); if (cveSeriesSelectedG = r.join(","), "," === o.charAt(0) && (o = o.substring(1, o.length - 1)), "," === o.charAt(o.length - 1) && (o = o.substring(0, o.length - 2)), orderGlobal = a[3], orderPeriodGlobal = a[4], orientacionGlobal = a[5], estadisticoGlobal = a[7], a.length >= 11) areaGeoGlobal = a[10], a[10].toString().indexOf(",") > -1 && (areaGeograficaConsultaGlobal = a[10]), a.length > 11 && a[11].toString().indexOf(",") > -1 && (areaGeograficaConsultaGlobal = a[11]), a[10].toString().indexOf("area") > -1 && (tipoCuadroConsulta = "area", areaGeoGlobal = "0700"), a[10].toString().indexOf("indicador") > -1 && (tipoCuadroConsulta = "indicador", areaGeoGlobal = "0700", areaGeograficaConsultaGlobal = "0700"), a.length > 11 && a[11].toString().indexOf("area") > -1 && (tipoCuadroConsulta = "area", areaGeoGlobal = "0700"), "false" !== verBie && (areaGeoGlobal = "0700"), appCode.traeEntidadImporta(); else { verBie = "true", document.getElementById("PrincipalContainer").style.display = "none", tipoCuadroConsulta = "indicador"; l = "v" === orientacionGlobal ? "indicadorVertical" : "indicadorHorizontal"; appCode.vistaTipoCuadro(tipoCuadroConsulta), $("#divOpcionesTipoCuadro").css("display", "none"), dataexplorer("#statisticaltable").init(o, areaGeoGlobal, idiomaGlobal, l, orderGlobal, orderPeriodGlobal, "comboperiodsini", "comboperiodsend", estadisticoGlobal, nombreAreaGlobal, tipoCuadroConsulta), $("#containerdataexplorer").css("display", "block"), $("#containerindicatorlist").css("display", "none"), appCode.actualizaSeleccionSeries() } } document.getElementById("PrincipalContainer").style.display = "none" }, vistaTipoCuadro: function (e) { "indicador" === tipoCuadroConsulta ? ($("#cmbIndicadores").css("display", "none"), $("#btnMultArea").css("display", "none"), $("#btnUnArea").css("display", "block"), $("#radioCuadroIndicador").prop("checked", !0)) : ($("#cmbIndicadores").css("display", "block"), $("#btnMultArea").css("display", "block"), $("#btnUnArea").css("display", "none"), $("#radioCuadroArea").prop("checked", !0)) }, traeEntidadImporta: function () { var e = areaGeoGlobal.length > 4 && 12 === areaGeoGlobal.length ? areaGeoGlobal.substring(0, 8) : areaGeoGlobal, a = appCode.getApi() + "/API.svc/CatalogoAreaGeograficaV3/" + e + "/null/null/null/" + ("0" === tematicaGlobal ? "6" : tematicaGlobal) + "/null/json/" + C_token + "?callback=?"; $.getJSON(a, null, function (e) { if (void 0 === e.ErrorCode) { nombreAreaGlobal = e[0].NOMBRE; var a = e[0].AREAS_GEOGRAFICAS_DEPENDIENTES; if (areaGeoGlobal.length > 8) for (var o = 0; o < a.length; o++)if (a[o].AREA_GEOGRAFICA === areaGeoGlobal) { nombreAreaGlobal += ", " + a[o].NOMBRE; break } var t = cveSeriesSelectedG; "," === t.charAt(0) && (t = t.substring(1, t.length - 1)), "," === t.charAt(t.length - 1) && (t = t.substring(0, t.length - 2)); var i = appCode.obtieneCasoOrientacionCuadro(); appCode.vistaTipoCuadro(tipoCuadroConsulta), dataexplorer("#statisticaltable").init(t, areaGeograficaConsultaGlobal, idiomaGlobal, i, orderGlobal, orderPeriodGlobal, "comboperiodsini", "comboperiodsend", estadisticoGlobal, nombreAreaGlobal, tipoCuadroConsulta), $("#containerdataexplorer").css("display", "block"), $("#containerindicatorlist").css("display", "none"), appCode.actualizaSeleccionSeries() } else archivoAbierto = !1 }) }, eventcloseuploadtxt: function () { document.getElementById("PrincipalContainer").style.display = "none", $("#openTxtModal").css("display", "none"), $("#containerindicatorlist").css("display", "block") }, eventcloseuploadtxt_px: function () { document.getElementById("PrincipalContainer").style.display = "none", $("#convConsulta").css("display", "none"), $("#containerindicatorlist").css("display", "block") }, toggleRadioCheckBox: function (e) { for (var a = document.getElementsByName("checkIndicadores"), o = 0; o < a.length; o++) { var t = a[o]; t.checked && t.id !== e && (t.checked = !1) } }, limpiaFiltros: function () { fuenteGlobal = !1 === permisoPrograma && !1 === byFuente ? "0" : programaFiltros, document.getElementById("chkPrincipales").checked = !1, temaGlobal = "null", areaGeoGlobal = "0700", ultimoClic = "1", appCode.cargaCobertura(), appCode.cargaAgeo(), $("#bodyTema").hasClass("in") && appCode.filterTema(), $("#bodyPrograma").hasClass("in") && appCode.filterPrograma(), arrayAgeo = [] }, trataDesglose: function (e) { for (var a = e.split(","), o = "", t = [], i = [], l = !1, n = 0; n < a.length; n++)if ("" !== a[n]) { switch (o = "", a[n].length) { case 4: o = "1", l = !1; break; case 8: o = "2", l = !0; break; case 12: o = "3", l = !1; break; default: o = "1", l = !1 }l && a[n].startsWith("47") && (o = "4"), t.push(o) } for (var r = 0; r < t.length; r++)!1 === i.includes(t[r]) && i.push(t[r]); return o = i.join(",").trim() }, llamaAPIparaPX: function (e, a, o, t) { const i = new Set(e); var l = { temas: Array.from(i).join(","), indicadores: a, tematica: tematicaGlobal, formato: "json", token: C_token }; $.ajax({ method: "POST", url: appCode.getApi() + "/TemasIndicadores", contentType: "application/json; charset=utf-8", dataType: "json", data: JSON.stringify(l), processData: !0, success: function (e) { for (var a = "", i = "", l = 0; l < e.length; l++)a += e[l].Tema + ",", i += e[l].Indicador + ","; a = a.substring(0, a.length - 1), i = i.substring(0, i.length - 1), paramAccept = { rama: a, ind: i, tm: parseInt(tematicaGlobal), dom: "", ag: "3" === tematicaGlobal ? "" : o, time: "", cobGeo: "3" === tematicaGlobal ? "NA" : t }; var n = { rama: a, ind: i, tm: parseInt(tematicaGlobal), dom: "", ag: "3" === tematicaGlobal ? "" : o, time: "", cobGeo: "3" === tematicaGlobal ? "NA" : t }; checkSizePx(n) < 8e5 ? callbackcomponentetab(paramAccept) : (document.getElementById("txtConsultable").innerHTML = "es" === idiomaGlobal ? "La consulta contiene más de 800,000 valores, por lo que la visualización puede tardar algunos minutos. ¿Desea continuar?" : "The query contains more than 800,000 values, so the display may take a few minutes. do you wish to continue?", document.getElementById("btnCancel").innerHTML = "es" === idiomaGlobal ? "Cancelar" : "Cancel", document.getElementById("btnAceptar").innerHTML = "es" === idiomaGlobal ? "Aceptar" : "Accept", appCode.hideLoading(), $("#consultabla").modal({ backdrop: "static", keyboard: !1 })) }, error: function (e, a, o) { console.log(a, o) } }) }, goPXV3: function (e, a, o) { appCode.showLoading(); var t = "3" === tematicaGlobal ? "NA" : this.trataDesglose(o); setTimeout(function () { if (paramAccept = {}, "" === a) { var e = "es" === idiomaGlobal ? "Debe especifica al menos una serie para continuar" : "You should at least specify a number to continue"; window.alert(e) } else { $("#zoomTemaExplorer").css("display", "none"), t = "" === t ? "1" : t; for (var o = a.split(","), i = {}, l = [], n = 0; n < o.length; n++)"" !== o[n] && ((i = new Object).indicador = o[n].split("_")[0], i.tema = o[n].split("_")[1], l.push(i)); arr_Ageo = areaGeoGlobal.split(",").sort().join(","), arr_Cobe = t.split(",").sort().join(","), l.sort(function (e, a) { return e.indicador - a.indicador }); for (var r = "", c = "", d = 0; d < l.length; d++)c += l[d].indicador + ",", r += l[d].tema + ","; c = c.substring(0, c.length - 1), r = r.substring(0, r.length - 1), console.log("# INDICADORES A PX= " + c.split(",").length), console.log("# TEMAS A PX= " + r.split(",").length), paramAccept = { rama: r, ind: c, tm: parseInt(tematicaGlobal), dom: "", ag: "3" === tematicaGlobal ? "" : arr_Ageo, time: "", cobGeo: "3" === tematicaGlobal ? "NA" : arr_Cobe }; var s = { rama: r, ind: c, tm: parseInt(tematicaGlobal), dom: "", ag: "3" === tematicaGlobal ? "" : arr_Ageo, time: "", cobGeo: "3" === tematicaGlobal ? "NA" : arr_Cobe }; console.group("OBJETO PX="), console.log(s), console.groupEnd(), checkSizePx(s) < 8e5 ? callbackcomponentetab(paramAccept) : (document.getElementById("txtConsultable").innerHTML = "es" === idiomaGlobal ? "La consulta contiene más de 800,000 valores, por lo que la visualización puede tardar algunos minutos. ¿Desea continuar?" : "The query contains more than 800,000 values, so the display may take a few minutes. do you wish to continue?", document.getElementById("btnCancel").innerHTML = "es" === idiomaGlobal ? "Cancelar" : "Cancel", document.getElementById("btnAceptar").innerHTML = "es" === idiomaGlobal ? "Aceptar" : "Accept", appCode.hideLoading(), $("#consultabla").modal({ backdrop: "static", keyboard: !1 })) } }, 1e3) }, goPX: function (e, a, o) { appCode.showLoading(); var t = "3" === tematicaGlobal ? "NA" : this.trataDesglose(o); setTimeout(function () { if (paramAccept = {}, "" === a) { var e = "es" === idiomaGlobal ? "Debe especifica al menos una serie para continuar" : "You should at least specify a number to continue"; window.alert(e) } else { $("#zoomTemaExplorer").css("display", "none"), t = "" === t ? "1" : t, arr_Ageo = areaGeoGlobal.split(",").sort().join(","), arr_Indi = a.split(",").sort().join(","), arr_Cobe = t.split(",").sort().join(","); for (var o = arr_Indi.split(","), i = [], l = 0; l < o.length; l++)if ("" !== o[l]) if (null !== document.getElementById("SChBox_" + o[l])) i.push($('input:checkbox[id^="SChBox_' + o[l] + '"]:checked').attr("data-parent-topic")); else if (vecTemInd.length > 0) for (var n = !1, r = 0; r < vecTemInd.length; r++) { if (n = !1, -1 !== vecTemInd[r].indexOf(o[l])) { i.push(vecTemInd[r].split("_")[0]), n = !0; break } if (r > 0) { if (!1 === n) for (var c = 0; c < vecTemInd.length; c++)if (-1 !== vecTemInd[c].indexOf("root")) { i.push(vecTemInd[c].split("_")[1]), n = !0; break } !1 === n && ("none" !== document.getElementById("contextTopics2").style.display ? null !== document.getElementById("SChBox_divresultados_" + o[l]) && void 0 !== document.getElementById("SChBox_divresultados_" + o[l]) && (null !== $('input:checkbox[id^="SChBox_divresultados_' + o[l] + '"]:checked').attr("data-parent-topic") ? i.push($('input:checkbox[id^="SChBox_divresultados_' + o[l] + '"]:checked').attr("data-parent-topic")) : i.push(" ")) : i.push(" ")) } } else "none" !== document.getElementById("contextTopics2").style.display ? null !== document.getElementById("SChBox_divresultados_" + o[l]) && void 0 !== document.getElementById("SChBox_divresultados_" + o[l]) && (null !== $('input:checkbox[id^="SChBox_divresultados_' + o[l] + '"]:checked').attr("data-parent-topic") ? i.push($('input:checkbox[id^="SChBox_divresultados_' + o[l] + '"]:checked').attr("data-parent-topic")) : i.push(" ")) : i.push(" "); appCode.llamaAPIparaPX(i, arr_Indi, arr_Ageo, arr_Cobe) } }, 1e3) }, returnPX: function (e) { respondePX = callbackcomponentetab(e); var a = setInterval(function (e) { 1 === e && (appCode.hideLoading(), clearInterval(a)) }, 1e3, respondePX) }, Accept: function () { appCode.showLoading(), $("#consultabla").modal("hide"), callbackcomponentetab(paramAccept) }, Cancel: function () { $("#consultabla").modal("hide"), appCode.hideLoading() }, validateAgeo: function (e, a) { var o = a.substring(6, a.length), t = "0700" == a ? "00" : o.substring(0, 2), i = ""; if (3 === e.split(",").length || 9 === a.length) { i = e + " (" + a + ")"; var l = a.substring(0, 2); document.getElementById("escudo").src = "img/escudo/" + l + ".png" } else { var n = ""; "es" === idiomaGlobal ? (n = 4 == a.length ? e.replace("Total estatal, ", "") : e.replace("Total estatal, ", "") + " (" + o.substring(0, 2) + o.substring(6, 3) + ")", i = -1 === e.indexOf("estatal") && 8 === a.length ? n.substring(0, n.indexOf(",")) + " " + n.substring(n.indexOf("("), n.length) : n) : (n = 4 == a.length ? e.replace("Total state, ", "") : e.replace("Total state, ", "") + " (" + o.substring(0, 2) + o.substring(6, 3) + ")", i = -1 === e.indexOf("state") && 8 === a.length ? n.substring(0, n.indexOf(",")) + " " + n.substring(n.indexOf("("), n.length) : n); var r = "(" === i.trim().charAt(0) ? "Ciudad: " + n.trim().split("(")[0].trim() : i, c = "(" === i.trim().charAt(0); i = r, a.startsWith("0700") > -1 && (!0 !== c ? ($("#escudo").show(), 4 === a.length && "0700" !== a ? document.getElementById("escudo").src = "" : document.getElementById("escudo").src = "img/escudo/" + t + ".png") : $("#escudo").hide()) } return i }, trataAreaGeo: function (e, a) { arrayAgeo = []; for (var o = e.arryCves, t = "", i = "", l = 0; l < o.length; l++)t = -1 !== o[l].split("_")[1].indexOf("|") ? o[l].split("_")[1].split("|")[0] + ", " + o[l].split("_")[1].split("|")[1] : o[l].split("_")[1], i = -1 !== o[l].split("_")[1].indexOf("|") ? o[l].split("|")[1] : "Estatal", arrayAgeo.push(o[l].split("_")[0] + "*" + t + "*" + i) }, chngPeriodo: function (e) { globalTXT = ""; var a = document.getElementById("comboperiodsini").value, o = document.getElementById("comboperiodsend").value; if (a > o) "en" === idiomaGlobal ? window.alert("The last year must be higher than the initial year.") : window.alert("El año final debe ser mayor al año inicial."); else { for (var t, i = appCode.processedseries().split(",").length, l = [], n = 0; n < arrayPeriodos.length; n++)arrayPeriodos[n] >= a && arrayPeriodos[n] <= o && l.push(arrayPeriodos[n]); t = l.length; var r = !1; i <= 200 ? r = !0 : i > 200 && i <= 250 ? t <= 30 ? (r = !0, globalTXT = "") : globalTXT = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 30 periodos como máximo." : i > 250 && i <= 500 ? t <= 20 ? r = !0 : globalTXT = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 20 periodos como máximo." : i > 500 && i <= 1e3 ? t <= 10 ? r = !0 : globalTXT = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 10 periodos como máximo." : t <= 5 ? r = !0 : globalTXT = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 5 periodos como máximo.", r || window.alert(globalTXT) } }, exporta_arbol: function (e) { "" !== globalTXT_arbol ? window.alert(globalTXT_arbol) : this.exporta(e) }, showConvertidorIQY: function () { window.File && window.FileReader && window.FileList && window.Blob ? (reader = new FileReader, output = "", document.getElementById("txt_convertIQY").value = "", $("#convIQYl").modal("show"), $("#loadfilemessage_").css("display", "none")) : alert("The File APIs are not fully supported by your browser. Fallback required.") }, showConvertidorConsulta: function () { window.File && window.FileReader && window.FileList && window.Blob ? (reader = new FileReader, $("#convConsulta").modal("show"), $("#loadfilemessagepx_").css("display", "none")) : alert("The File APIs are not fully supported by your browser. Fallback required.") }, selecAnios: function (e) { percExportar = !1, globalTXT_arbol = ""; var a = document.getElementById("exp_ini"), o = document.getElementById("exp_fin"); if (periExportar = a.options[a.options.selectedIndex].text, perfExportar = o.options[o.options.selectedIndex].text, periExportar > perfExportar) percExportar = !0, alert("es" === idiomaGlobal ? "El año inicial debe ser menor al año final" : "The initial year must be less than last year"); else if ("3" === tematicaGlobal || "0" === tematicaGlobal) { for (var t, i = appCode.processedseries().split(",").length, l = [], n = 0; n < arrayPeriodos_arbol.length; n++)arrayPeriodos_arbol[n] >= periExportar && arrayPeriodos_arbol[n] <= perfExportar && l.push(arrayPeriodos_arbol[n]); t = l.length; var r = !1; i <= 200 ? r = !0 : i > 200 && i <= 250 ? t <= 30 ? (r = !0, globalTXT_arbol = "") : globalTXT_arbol = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 30 periodos como máximo." : i > 250 && i <= 500 ? t <= 20 ? r = !0 : globalTXT_arbol = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 20 periodos como máximo." : i > 500 && i <= 1e3 ? t <= 10 ? r = !0 : globalTXT_arbol = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 10 periodos como máximo." : t <= 5 ? r = !0 : globalTXT_arbol = "Por cuestiones de rendimiento y tiempo de respuesta, sólo se permite seleccionar un rango de 5 periodos como máximo.", r || window.alert(globalTXT_arbol) } } }; var tempDetail2, inicial = 0, byCiudad = !1, byPais = !1; function onClicAreageo(e) { document.getElementById("ini_ageo").innerText = "1", inicial++, tempDetail = e.detail, ultimoClic = "1", 1 === inicial ? (first = !0, appCode.guardaAgeo()) : (first = !1, ageoFiltros = e.detail.id, e.detail.isCheck ? (nombreAreaGlobalFiltro = e.detail.entidad, "Total estatal" !== e.detail.municipio && "" !== e.detail.municipio && (nombreAreaGlobalFiltro += ", " + e.detail.municipio)) : 1 === e.detail.arryCves.length && (nombreAreaGlobalFiltro = e.detail.arryCves[0].split("_")[1].trim()), appCode.trataAreaGeo(e.detail, e.detail.isCheck)), permiteConsultaTema = !0, permiteConsultaPrograma = !0; fuenteGlobal = !0 === byFuente ? fuenteGlobal : "null", temaGlobal = !0 === byTema ? temaGlobal : "null", $("#bodyTema").hasClass("in") && appCode.filterTema(), $("#bodyPrograma").hasClass("in") && appCode.filterPrograma(), $("#bodyCobertura").hasClass("in") && $("#drop_cobertura").trigger("click") } function onDescAreageo(e) { tempDetail2 = e.detail, appCode.llamaModal() } function onFinishAreageo(e) { $("#cmp_ageo").addClass("noload").removeClass("load") } function onClicTema(e) { first = !1, document.getElementById("ini_tema").innerText = "1", temaGlobal = e.detail.tema, appCode.trataArray("t_", temaGlobal), permiteConsultaPrograma = !0, $("#bodyPrograma").hasClass("in") && appCode.filterPrograma() } function onFinishTema(e) { $("#cmp_tema").addClass("noload").removeClass("load") } function onClicPrograma(e) { first = !1, document.getElementById("ini_pro").innerText = "1", fuenteGlobal = e.detail.programa, appCode.trataArray("p_", fuenteGlobal), permiteConsultaTema = !0, $("#bodyTema").hasClass("in") && appCode.filterTema() } function onFinishPrograma(e) { document.getElementById("fin_pro").innerText = e.detail.total, $("#cmp_programa").addClass("noload").removeClass("load") } function onClicPeriodo(e) { first = !1, document.getElementById("ini_per").innerText = "1", alert("clic en: " + e.detail.periodo) } function onFinishPeriodo(e) { document.getElementById("fin_per").innerText = e.detail.total } function onClicTematica(e) { if (tematicaGlobal !== e.detail.tematica) { document.location = "default.aspx?tm=" + e.detail.tematica } } function onloadTabla(e) { null !== e.detail.nodo && void 0 !== e.detail.nodo || (appCode.hideLoading(), document.getElementById("tituloDinamico").style.display = "none") } function oncheckTabla(e) { var a = "grafica"; "" !== indicadorGlobal && indicadorGlobal === e.detail.id && (a = vistaIndicador), appCode.openfastview(e.detail.id, e.detail.nombre, e.detail.periodo, e.detail.periodocorto, areaGeoGlobal, e.detail.valor, e.detail.desglose, e.detail.metadato, e.detail.esBie, e.detail.temaPadre, a, e.detail.tematica, e.detail.ag) } function onFinishExplorador(e) { appCode.hideLoading() } function onloadIndicador(e) { appCode.hideLoading() } function onCounterIndicador(e) { $("#countInd").text(e.detail.counter), appCode.muestraOcultaConsulta(e.detail.counter) } function onclickinfocomplementaria(e) { $("#modalGenerico").modal("show"), document.getElementById("contentBody").innerHTML = "", document.getElementById("contentTitle").innerHTML = e.detail.nombre, "" !== e.detail.claveInfo && (document.getElementById("contentBody").innerHTML = "<p align='justify'>" + unescape(e.detail.claveInfo) + "</p>") } function oncheckseriesportema(e) { appCode.showLoading(); var a, o, t, i = "3" === e.detail.tematica || "0" === e.detail.tematica ? "99 " : "0" === desgloseGeoGlobal ? "null" : desgloseGeoGlobal, l = null; if (e.detail.checked) { if ($("#STemaChBox_" + e.detail.tema).removeAttr("unchck"), appCode.marcarTemasHijos(e.detail.tema, e.detail.buscarBie), void 0 !== (l = listaRamas.filter(function (a) { return a.Tema === e.detail.tema })[0])) { l.CheckDirecto(); for (var n = listaRamas.filter(function (a) { return a.TemaPadre === e.detail.tema }), r = 0; r < n.length; r++)n[r].CheckDirecto() } else (l = new RamaTema).CheckDirecto(); (appCode.getApi() + "/API.svc/IndicadoresPorTemaRecursivo/" + e.detail.ageo + "/" + e.detail.tema + "/" + idiomaGlobal + "/" + e.detail.fuente + "/" + totalSeleccionGlobal + "/" + maximoSeries + "/" + principalesGlobal + "/" + e.detail.tematica + "/" + e.detail.buscarBie + "/" + i + "/" + varHerr + "/json/" + C_token + "?callback=?").length > 200 ? (a = { areaGeografica: e.detail.ageo, idioma: idiomaGlobal, tema: e.detail.tema, programa_ciclo: e.detail.fuente, totalSeleccionados: totalSeleccionGlobal, maximoSeries: maximoSeries, principales: principalesGlobal, tematica: e.detail.tematica, consultarEnBie: e.detail.buscarBie, desglose: i, herramienta: varHerr, formato: "json", token: C_token }, t = JSON.stringify(a), o = "POST", $.ajax({ method: o, url: appCode.getApi() + "/IndicadoresPorTemaRecursivo", contentType: "application/json; charset=utf-8", dataType: "json", data: t, processData: !0, success: function (a) { "0" === tematicaGlobal ? appCode.callBackSeriesPorTemaAgregar(a, e.detail.nivel) : appCode.callBackSeriesPorTemaAgregarV3(a, e.detail.nivel) }, error: function (e, a, o) { console.log(a, o) } })) : appCode.managmentdata("SeriesPorTemaAgregar", "IndicadoresPorTemaRecursivo", e.detail.ageo + "/" + e.detail.tema + "/" + idiomaGlobal + "/" + e.detail.fuente + "/" + totalSeleccionGlobal + "/" + maximoSeries + "/" + principalesGlobal + "/" + e.detail.tematica + "/" + e.detail.buscarBie + "/" + i + "/" + varHerr + "-" + e.detail.nivel) } else { if (void 0 !== (l = listaRamas.filter(function (a) { return a.Tema === e.detail.tema })[0])) { l.UnCheckDirecto(); for (var c = listaRamas.filter(function (a) { return a.TemaPadre === e.detail.tema }), d = 0; d < c.length; d++)c[d].UnCheckDirecto() } else (l = new RamaTema).UnCheckDirecto(); var s = "STemaChBox_" + l.TemaPadre; null !== document.getElementById(s) && void 0 !== document.getElementById(s) && document.getElementById(s).checked && (document.getElementById(s).checked = !1), (appCode.getApi() + "/API.svc/IndicadoresPorTemaRecursivo/" + e.detail.ageo + "/" + e.detail.tema + "/" + idiomaGlobal + "/" + e.detail.fuente + "/" + totalSeleccionGlobal + "/" + maximoSeries + "/" + principalesGlobal + "/" + e.detail.tematica + "/" + e.detail.buscarBie + "/" + i + "/" + varHerr + "/json/" + C_token + "?callback=?").length > 200 ? (a = { areaGeografica: e.detail.ageo, idioma: idiomaGlobal, tema: e.detail.tema, programa_ciclo: e.detail.fuente, totalSeleccionados: totalSeleccionGlobal, maximoSeries: maximoSeries, principales: principalesGlobal, tematica: e.detail.tematica, consultarEnBie: e.detail.buscarBie, desglose: i, herramienta: varHerr, formato: "json", token: C_token }, t = JSON.stringify(a), o = "POST", $.ajax({ method: o, url: appCode.getApi() + "/IndicadoresPorTemaRecursivo", contentType: "application/json; charset=utf-8", dataType: "json", data: t, processData: !0, success: function (a) { "0" === tematicaGlobal ? appCode.callBackSeriesPorTemaQuitar(a, e.detail.nivel) : appCode.callBackSeriesPorTemaQuitarV3(a, e.detail.nivel) }, error: function (e, a, o) { console.log(a, o) } })) : appCode.managmentdata("SeriesPorTemaQuitar", "IndicadoresPorTemaRecursivo", e.detail.ageo + "/" + e.detail.tema + "/" + idiomaGlobal + "/" + e.detail.fuente + "/" + totalSeleccionGlobal + "/" + maximoSeries + "/" + principalesGlobal + "/" + e.detail.tematica + "/" + e.detail.buscarBie + "/" + i + "/" + varHerr + "-" + e.detail.nivel), appCode.desmarcarTemasHijos(e.detail.tema, e.detail.buscarBie) } } function onclicAgeo(e) { cvesExportar = e.detail.claves } function ontreeAgeo(e) { "divUnArea" === e.detail.contenedor && (flagComparativo = !0, ageoanterior = nombreAreaGlobal, cveageoanterior = areaGeograficaUnicaGlobal, $("#seleccionAreaExplorer").modal("hide"), nombreAreaGlobal = e.detail.seleccion, areaGeograficaUnicaGlobal = e.detail.clave, appCode.opendataexplorer(), document.getElementById("dataExplorerTitle").innerHTML = nombreAreaGlobal) } function onClicLimpiarResBuscador() { document.getElementById("tipoRadio1").checked = !0, document.getElementById("orden_buscador").selectedIndex = 0, appCode.actualizaSeleccionSeriesBusqueda(), appCode.consultaconfiltros() } function onSearchStatusLoad(e) { appCode.hideLoading() } function onNoDatos(e) { appCode.hideLoading(), $("#contenidos").hide(), $("#noresult").show(), "en" === idiomaGlobal && (document.getElementById("textonoresult").innerHTML = "Data not available, you do not have permission to view the application") } function onloadPx(e) { appCode.hideLoading() } function onSearchSerieSelected(e) { "," !== cveSeriesSelectedG.charAt(0) && (cveSeriesSelectedG = "," + cveSeriesSelectedG), "," !== cveSeriesSelectedG.charAt(cveSeriesSelectedG.length - 1) && (cveSeriesSelectedG += ","), -1 === cveSeriesSelectedG.indexOf(e.detail.seriesselected + ",") ? ("" === cveSeriesSelectedG && (cveSeriesSelectedG += ","), cveSeriesSelectedG += e.detail.seriesselected + ",") : "," !== cveSeriesSelectedG.trim() && (appCode.quitaSeries(e.detail.seriesselected), cveSeriesSelectedG = cveSeriesSelectedG.replace(e.detail.seriesselected + ",", "")); var a = cveSeriesSelectedG.substring(1, cveSeriesSelectedG.length - 1); "," === a.trim() && (a = ""); var o = a.split(","), t = 0; "" !== a && (t = o.length), $("#countInd").text(t), appCode.muestraOcultaConsulta(t) } $(window).on("popstate", function (e) { if (-1 === document.location.href.indexOf("#bodydataExplorer")) { switch (windowApp) { case "seleccionados": "modal" !== selectedChartView && (document.getElementById("PrincipalContainer").style.display = "", $("#chartSelectedExplorer").css("display", "none")); break; case "zoom": document.getElementById("PrincipalContainer").style.display = "", $("#zoomTemaExplorer").css("display", "none"); break; default: appCode.eventclosedataexlorer() }appCode.hideLoading() } }), $(window).scroll(function () { if ("block" === $("#containerdataexplorer").css("display") && "xs" !== (checaDispositivo = appCode.findBootstrapEnvironment()) && "sm" !== checaDispositivo) { var e = $("#statisticaltable").width(); $(window).scrollTop() > fixmeTop ? $("#divOpcionesExp").css({ marginLeft: "0px", height: "118px", position: "fixed", backgroundColor: "white", top: "33px", width: e + 4 + "px" }) : $("#divOpcionesExp").css({ position: "static", height: "initial", top: "initial", width: "initial" }) } }), $(window).resize(function () { });