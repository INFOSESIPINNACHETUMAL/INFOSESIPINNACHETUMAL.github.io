var aDependenciasGraficas=[{path:"estilos/bootstrap/bootstrap.min.css",type:"css",active:!1,name:"bootstrap.min.css"},{path:"componentes/biinegi/styles/estiloGrafica/graficas.min.css",type:"css",active:!0,name:"graficas.min.css",pathLocal:"./Content/graficas.min.css",local:!1},{path:"componentes/biinegi/highcharts.chartgauge.js",type:"js",active:!1,name:"highcharts.chartgauge.js"},{path:"componentes/biinegi/catalogoHerramientas.min.js",type:"js",active:!0,name:"catalogoHerramientas.min.js"},{path:"lib/bootstrap/bootstrap.min.js",type:"js",active:!0,name:"bootstrap.min.js"},{path:"componentes/biinegi/highcharts.js",type:"js",active:!0,name:"highcharts.js"}],aDependenciasD3=[{path:"estilos/bootstrap/bootstrap.min.css",type:"css",active:!1},{path:"lib/bootstrap/bootstrap.min.js",type:"js",active:!1},{path:"componentes/biinegi/highcharts.js?604800",type:"js",active:!0},{path:"lib/bootstrap/bootstrap.min.js",type:"js",active:!0},{path:"/componentes/biinegi/D3/c3.min.css",type:"js",active:!0},{path:"/componentes/biinegi/D3/d3.min.7.5.js?604800",type:"js",active:!0},{path:"/componentes/biinegi/D3/c3.min.js?604800",type:"js",active:!0}],aGraficasNuevoMetodoPost=["Barra.A","Barra.B","Barra.C","Barra.D","Barra.E","Barra.H","Barra.I","Barra.J","Barra.K","Linea.A","Barra.L","Linea.B","Linea.H","Pie.A","Pie.B","Barra.Linea.C","Barra.Linea.D","Pie.B","Area.Linea.A","Linea.F","Linea.L"],sufijo=1,arrPaginacionSeriesCategorias=[];Array.prototype.indexOf=function(a,e){for(var r=e||0,i=this.length;r<i;r++)if(this[r]===a)return r;return-1},String.prototype.startsWith||(String.prototype.startsWith=function(a,e){return e=e||0,this.indexOf(a,e)===e}),Array.prototype.filter=function(a){"use strict";if(null==this)throw new TypeError;var e=Object(this),r=e.length>>>0;if("function"!=typeof a)throw new TypeError;for(var i=[],t=arguments[1],o=0;o<r;o++)if(o in e){var n=e[o];a.call(t,n,o,e)&&i.push(n)}return i},Number.prototype.toRealFixed=function(a){return Math.floor(this.valueOf()*Math.pow(10,a))/Math.pow(10,a)};var isBiinegi=function(a){return""===a.indicadorDepurado||!((a.indicadorDepurado.indexOf(",")>-1?a.indicadorDepurado[0]:a.indicadorDepurado).length<10)},Round10=function(a,e){"use strict";return void 0===e||0==+e?Math.round(a):(a=+a,e=+e,isNaN(a)||"number"!=typeof e||e%1!=0?NaN:(a=a.toString().split("e"),+((a=(a=Math.round(+(a[0]+"e"+(a[1]?+a[1]-e:-e)))).toString().split("e"))[0]+"e"+(a[1]?+a[1]+e:e))))};function MostrarAreaMetadatos(a,e){var r="block";return"true"!=a&&"noFooter"!=e||(r="none"),r}var QueryString=function(){for(var a={},e=window.location.search.substring(1).split("&"),r=0;r<e.length;r++){var i=e[r].split("=");if(void 0===a[i[0]])a[i[0]]=i[1];else if("string"==typeof a[i[0]]){var t=[a[i[0]],i[1]];a[i[0]]=t}else a[i[0]].push(i[1])}return a}();GeneraGrafica.prototype.oMESES={listEs:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],listEn:["January","February","March","April","May","June","July","August","September","Octuber","November","December"],getMesNombre:function(a,e){"string"==typeof a&&parseInt(a);return void 0===e||"es"===e?this.listEs[a-1]:this.listEn[a-1]},getMesNombreCorto:function(a,e){"string"==typeof a&&parseInt(a);return void 0===e||"es"===e?void 0!==a?this.listEs[a-1].substr(0,3):"":void 0!==a?this.listEn[a-1].substr(0,3):""},getFormatoPeriodo:function(a,e,r,i){var t="";if(3==(i=void 0===i?1:i)&&"Mensual"==e){var o=a.split("/")[0];t=(n=this.getMesNombre(a.split("/")[1],r))+" de "+o}else if("Trimestral"===e||"Quarterly"===e){o=a.split("/")[0];switch(n=a.split("/")[1]){case"01":t=1===i?o+" 1T":"1T";break;case"02":t=1===i?o+" 2T":"2T";break;case"03":t=1===i?o+" 3T":"3T";break;case"04":t=1===i?o+" 4T":"4T"}}else if("Bienal"===e||"Biennial"===e||"No establecida"===e||"Indeterminada"===e)t=a;else if("Mensual"===e||"Monthly"===e){o=a.split("/")[0];var n=this.getMesNombreCorto(a.split("/")[1],r);t=1===i?o+" "+n:n}else if("Período único"===e)t=a;else if("Anual"===e||"Annual"===e||"Quinquenal"===e||"Quinquennial"===e||"Decenal"==e||"Decennial"==e)t=a;else if("Quincenal"==e||"Biweekly"===e){o=-1!==a.indexOf("/")?a.split("/")[0]:a,n=-1!==a.indexOf("/")?parseInt(a.split("/")[1]):"";var s=-1!==a.indexOf("/")?a.split("/")[2]:"",l="",c="";switch(void 0!==a.split("/")[1]&&(l=void 0===r||"es"===r?void 0!==n?this.listEs[n-1].substr(0,3):"":void 0!==n?this.listEn[n-1].substr(0,3):""),s){case"01":c="1"+(void 0===r||"es"===r?"Q":"H");break;case"02":c="2"+(void 0===r||"es"===r?"Q":"H");break;default:c=""}t=o+" "+l+" "+c}else t=a;return t}},GeneraGrafica.prototype.LeerUrl=function(){return parametrosGrafica={},parametrosGrafica.DesdeUrl=!0,parametrosGrafica},GeneraGrafica.prototype.CargaParametros=function(a,e){_this=this,configura(null).init();var r=C_dominioBuscador;if("true"===e.d3){for(var i=[],t=0;t<aDependenciasD3.length;t++)aDependenciasD3[t].active&&i.push(r+aDependenciasD3[t].path);m.loader().loadjs(i,function(){_this.CargaGrafica(a,e)})}else if("function"==typeof Mura&&void 0!==Mura){i=[];var o=[],n=document.getElementsByTagName("head")[0];function scriptLoaded(a){let e=n.children,r=!1;for(var i=0;i<e.length;i++)if(void 0!==e[i].src&&e[i].src.indexOf(a)>-1){r=!0;break}return r}for(t=0;t<aDependenciasGraficas.length;t++)aDependenciasGraficas[t].active&&("js"===aDependenciasGraficas[t].type?aDependenciasGraficas[t].path.indexOf("highcharts.js")>-1||aDependenciasGraficas[t].path.indexOf("bootstrap.min.js")>-1?-1===n.innerHTML.indexOf(aDependenciasGraficas[t].name)&&i.push(r+aDependenciasGraficas[t].path):!1===scriptLoaded(aDependenciasGraficas[t].name)&&i.push(r+aDependenciasGraficas[t].path):(pathFile="",aDependenciasGraficas[t].local?pathFile=aDependenciasGraficas[t].pathLocal:pathFile=r+aDependenciasGraficas[t].path,o.push(pathFile)));Mura.loader().loadcss(o),Mura.loader().loadjs(i,function(){"Gauge"===e.tg?m.loader().loadjs(r+aDependenciasGraficas[2].path,function(){_this.CargaGrafica(a,e)}):_this.CargaGrafica(a,e)})}else _this.CargaGrafica(a,e)},GeneraGrafica.prototype.MostrarDatosTabla=function(a){this.MostrarTabla(a)};var version="";function GeneraGrafica(){About=function(){version="2.0",modificacion="29.11.2023",penultimocambio="[Ajuste] ID 831 - teams - Ajuste en el objeto responsive: para el tipo Barra.I en la propiedad steps = 0 para que los dos ejes Y se mantengan con los mismos valores [25.10.2023]",ultimocambio="[Ajuste] Graficas - ID 838 - Verbal - Banco de indicadores - responsive en el contenedor de periodos [29.11.2023]"};var a=function(a,e){if(a.export){a.moLabelsShow=!1,a.moChartType=e.chart.type;var r=e.plotOptions;"column"===a.moChartType?r.column&&(a.moLabelsShow=r.column.dataLabels.enabled):"bar"===a.moChartType?r.bar&&(a.moLabelsShow=r.bar.dataLabels.enabled):"line"===a.moChartType?r.line&&(a.moLabelsShow=r.line.dataLabels.enabled):"area"===a.moLabelsShow&&r.area&&(a.moLabelsShow=r.area.dataLabels.enabled),changeMoShowValues("moShowValues_"+a.sufijo,a,!0),selectMoChartType(a)}};function FormatoAnteriorArea(a){var e=a,r=[],i=[],t="";if("entidades"==a&&(e="01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32"),a.indexOf("'")>1||a.indexOf("|")>-1){r=a.split("'");for(var o=0;o<r.length;o++)if(r[o].indexOf("|")>-1){var n=r[o].split("|")[0];if((i=r[o].split("|")[1].split(",")).length>1)for(var s=0;s<i.length;s++){t+=","+(AgregarCeros(n,2)+AgregarCeros(i[s],3))}else t="00"}e=t.replace(",","")}return e}function EvaluaTipoGrafica(a,e,r,i){var t="";return("Linea.B"==a&&"true"==e||"Barra.B"==a)&&(t="UnIndicadorTodosLosPeriodosUnArea"),"null"!=a&&"Linea.F"!=a&&"Barra.F"!=a&&"Linea.G"!=a&&"Barra.G"!=a||(t="VariosIndicadoresVariosPeriodosVariasAreas"),"1"==i&&(t="VariosIndicadoresVariosPeriodosBIE"),"Linea.B"==a&&"true"!=e&&(t="VariosIndicadoresPeriodosUltimoAnio"),"Barra.A"==a&&(t="UnIndicadorUnPeriodoVariasAreas"),"Barra.L"==a&&(t="UnIndicadorVariosPeriodosVariasAreas"),"Linea.L"==a&&(t="UnIndicadorVariosPeriodosVariasAreas2"),"Barra.E"==a&&r.indexOf(",")>-1&&(t="VariosIndicadoresVariasAreasGeograficasUnPeriodo"),"Barra.C"!=a&&"Linea.C"!=a||(t="VariosIndicadoresBar"),"Barra.D"==a&&(t="seriesCompuestas"),"Pie.A"==a&&(t="PieVariasAreasUnIndicadorUnPeriodo"),"Linea.A"==a&&(t="VariosIndicadoresVariasAreasGeograficasUnPeriodo"),"Linea.D"==a&&(t="VariosIndicadoresUnAreaGeograficaVariosPeriodosDosEjes"),"Linea.E"==a&&(t="VariosIndicadoresVariasAreasGeograficasUnPeriodo-9"),"Barra.Linea.A"==a&&(t="UnIndicadorUnPeriodoVariasAreas-NacionalVSEntidades"),"Barra.Linea.B"==a&&(t="UnIndicadorVariosPeriodosNacionalMixta"),"Pie.B"==a&&(t="Pie2VariosIndicadores"),"Barra.Linea.C"==a&&(t="VariosIndicadoresVariosPeridosUnAreaMixta"),"Area.Linea.A"==a&&(t="VariosIndicadoresVariosPeriodosUnAreaLineaArea"),"Barra.H"==a&&(t="compuestaPeriodos"),"Barra.I"==a&&(t="seriesCompuestas"),"Barra.Linea.D"==a&&(t="VariosIndicadoresVariosPeridosUnArea2Y"),"Barra.J"==a&&(t="UnIndicadorUnAreaVariosPeriodos"),"Barra.K"==a&&(t="GruposIndicadoresUnAreaVariosPeriodos"),"Linea.H"===a&&(t="VariosIndicadoresVariosPeriodosUnArea"),"Gauge"===a&&(t="VariosIndicadoresPeriodosUltimoAnio"),t}function DataGrafica2(a,e,r,i,t,o,n,s,l,c,d,p,u,m,f){var h={};return h.indicador=a,h.areaGeografica=e,h.tema=r,h.idioma=i,h.programa_ciclo=t,h.periodos=o,h.typeChart=n,h.orden=s,h.nombreCorto="true"==l?1:0,h.esOportuno=c,h.fechaInicio=d,h.fechaFin=p,h.formato=u,h.token=f,h.validaDecimal=m,JSON.stringify(h)}function IndicadorCompuesto(a){var e={},r=a.split("|"),i=[],t="",o=[],n=0,s=0;return $.each(r,function(a,e){var r={},i=e.split("-")[0];if(0!=s){!1,r.titulo=i.replace("ggg","-");var l=e.split("-")[1];t+=l+",",l.split(",").length>n&&(n=l.split(",").length);var c=[];$.each(l.split(","),function(a,e){c.push(e)}),r.indicadores=c,o.push(r)}s++}),e.maximaCantidadPorGrupo=n,e.grupos=o,e.todosLosIndicadores=t.substring(0,t.length-1),e.listaIndicadores=i,e}function IndicadoresGrupos(a){var e={},r=a.split("|"),i=[],t="",o=[],n=0;return $.each(r,function(a,e){var r={};r.titulo=e.split("-")[0];var i=e.split("-")[1];t+=i+",",i.split(",").length>n&&(n=i.split(",").length);var s=[];$.each(i.split(","),function(a,e){s.push(e)}),r.indicadores=s,o.push(r)}),e.maximaCantidadPorGrupo=n,e.grupos=o,e.todosLosIndicadores=t.substring(0,t.length-1),e.listaIndicadores=i,e}function CambiaFuenteEje(a,e){if("true"==a.reducirLetraEjeY){var r={};null!=e.yAxis&&(r=e.yAxis),(i={}).font="8px Helvetica",(t={}).style=i,r.labels=t,e.yAxis=r}if("true"==a.reducirLetraEjeX){var i,t,o={};null!=e.xAxis&&(o=e.xAxis),(i={}).font="8px Helvetica",(t={}).style=i,o.labels=t,e.xAxis=o}}function TerminarGraficaEnEscala(a,e){if(("Barra.J"==a.tipoGrafica||"Barra.Linea.D"==a.tipoGrafica||"Linea.D"==a.tipoGrafica||"Barra.Linea.A"==a.tipoGrafica||"Linea.E"==a.tipoGrafica||"Barra.Linea.C"==a.tipoGrafica||a.tipoGrafica.indexOf("Barra.")>-1&&null==a.ajusteEjeOriginal)&&(a.ajustaMinimoMaximo="true"),"Barra.I"==a.tipoGrafica&&(a.ajustaMinimoMaximo="false"),"true"==a.ajustaMinimoMaximo)if("Barra.Linea.D"==a.tipoGrafica||"Linea.D"==a.tipoGrafica||"Barra.Linea.A"==a.tipoGrafica)for(var r=0;r<e.yAxis.length;r++){var i=function(){var a=0,e=0,r=this.series;a=r[0].dataMin,a=CalculaEscalaMinima(e=r[0].dataMax,a,10);var i=[],t=Math.floor(a),o=Math.ceil((e-a)/6);if(a==this.dataMax)i.push(0),i.push(this.dataMax/2),i.push(this.dataMax);else if(null!==e&&null!==a)for(;t-o<=e;t+=o)i.push(t);return i};if("Barra.Linea.D"==a.tipoGrafica&&"true"==a.divisor_periodo)e.yAxis[r].startOnTick=!1;else if("Barra.Linea.C"!=a.tipoGrafica&&"Barra.Linea.D"!=a.tipoGrafica||"false"!==a.ajusteEjeOriginal)e.yAxis[r].tickPositioner=i,e.yAxis[r].startOnTick=!0;else if(e.yAxis[r].startOnTick=!1,"Barra.Linea.D"==a.tipoGrafica){var t=void 0!==e.series[0]?e.series[0].data[0].y:0,o=t.toString().indexOf(".")>-1?t.toString().split(".")[1].length:0;e.yAxis[1].labels.format="{value:0."+o+"f}"}e.alignTicks=!1}else if("Linea.E"==a.tipoGrafica){i=function(){for(var a=this.dataMax,e=this.chart.series,r=0;r<e.length;r++)e[r].dataMin<a&&(a=e[r].dataMin);a=CalculaEscalaMinima(this.dataMax,a,10);var i=[],t=Math.floor(a),o=Math.ceil((this.dataMax-a)/6);if(a==this.dataMax)i.push(0),i.push(this.dataMax/2),i.push(this.dataMax);else if(null!==this.dataMax&&null!==a)for(;t-o<=this.dataMax;t+=o)i.push(t);return i};e.yAxis[0].tickPositioner=i,e.yAxis[0].startOnTick=!0}else if("UnIndicadorUnAreaVariosPeriodos"===condicionGrafica);else if("UnIndicadorUnAreaVariosPeriodos"===condicionGrafica||"GruposIndicadoresUnAreaVariosPeriodos"===condicionGrafica)e.yAxis.startOnTick=!0;else if("Barra.Linea.C"==a.tipoGrafica&&"false"===a.ajusteEjeOriginal)for(r=0;r<e.yAxis.length;r++){i=function(){var a=0,e=0,r=this.series;a=r[0].dataMin,a=CalculaEscalaMinima(e=r[0].dataMax,a,10);var i=[],t=Math.floor(a),o=Math.ceil((e-a)/6);if(a==this.dataMax)i.push(0),i.push(this.dataMax/2),i.push(this.dataMax);else if(null!==e&&null!==a)for(;t-o<=e;t+=o)i.push(t);return i};e.yAxis[r].startOnTick=!1,e.alignTicks=!1}else{i=function(){for(var a=this.dataMax,e=this.chart.series,r=0;r<e.length;r++)e[r].dataMin<a&&(a=e[r].dataMin);a=CalculaEscalaMinima(this.dataMax,a,10);var i=[],t=Math.floor(a),o=Math.ceil((this.dataMax-a)/6);if(a==this.dataMax)i.push(0),i.push(this.dataMax/2),i.push(this.dataMax);else if(null!==this.dataMax&&null!==a)for(;t-o<=this.dataMax;t+=o)i.push(t);return i};e.yAxis.tickPositioner=i,e.yAxis.startOnTick=!0}}function CalculaEscalaMinima(a,e,r){return e-(a-e)*r/100}function formatoNumeroMiles(a){var e;""!==a?(a.indexOf(",")>-1&&(a=a.replace(/,/g,"")),a.indexOf(".")>-1&&(a=(e=a.split("."))[0]+"."+e[1].substr(0,2))):a="0.00";var r=(a=a.replace(/,/g,"")).split(".")[1];for(r=r?"."+r:a.indexOf(".")>=0?".":"",a=a.split(".")[0];a.length>3;)r=","+a.substr(a.length-3,3)+r,a=a.substr(0,a.length-3);return a+r}function ConsultaFrecuenciaPeriodos(a,e){"true"===a.mostrarFiltroPeriodo?(a.ocurrencias=10,ConsultaPeriodos(a,e)):"rango"===a.mostrarFiltroPeriodo&&ConsultaPeriodos(a,e)}function ConsultaPeriodos(a,e){var r="",i="",t=a.direccionServicio;if("v1_2"==API_V?(i=""!=a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/"):"v1_1"==API_V||(i=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/"),a.indicadorDepurado.length>200){for(var o=a.indicadorDepurado.split(","),n=[],s=0;s<o.length;s++)s<22&&n.push(o[s]);var l=n.join(",");r="PeriodoA/"+a.areaGeo+"/null/null/"+a.idioma+"/0/0/"+l+"/null/null/null/"+i+"json/"+a.token}else r="PeriodoA/"+a.areaGeo+"/null/null/"+a.idioma+"/0/0/"+a.indicadorDepurado+"/null/null/null/"+i+"json/"+a.token;var c=this;$.getJSON(t+r+"?callback=?",null,function(r){"true"===a.mostrarFiltroPeriodo?CalculaLimiteFiltroPeriodo(r,a,e,c):"true"!==a.mostrarFiltroPeriodo&&"rango"!==a.mostrarFiltroPeriodo||CalculaLimiteFiltrosPeriodoRango(r,a,e,c)})}function CalculaLimiteFiltroPeriodo(a,e,r,i){if(null==a.ErrorCode){var t=parseInt(a[a.length-1]),o=a.length-e.ocurrencias;if(o>=0){periodoPrimero=parseInt(a[o]);var n=document.getElementById("cmbPeriodoFiltroGrafica"+r);$("#cmbPeriodoFiltroGrafica"+r).children().remove(),fillcomboperiods(a,n,t.toString()),"null"!==e.periodoFin?n.value=e.periodoFin:n.value=t;var s=JSON.parse(document.getElementById("hideConfGrafica"+r).innerHTML);n.onchange=function(){eventChangeFiltroCuadro(s,r,i)}}else document.getElementById("divCmbPeriodosGrafica"+r).style.display="none"}else console.log(a)}function fillcomboperiods(a,e,r){for(var i=0;i<a.length;i++)generateitemscombo(e,a[i],a[i]),a[i]===r&&(e.selectedIndex=i)}function generateitemscombo(a,e,r){var i=document.createElement("option");i.text=e,i.value=r,a.appendChild(i,0)}function eventChangeFiltroCuadro(a,e,r){a.periodoFin=document.getElementById("cmbPeriodoFiltroGrafica"+e).value,a.periodoInicio=document.getElementById("cmbPeriodoFiltroGrafica"+e).value,a.filtro=!0,(new GeneraGrafica).ConsultaDatos(a)}function CalculaLimiteFiltrosPeriodoRango(a,e,r,i){if(null==a.ErrorCode){var t=parseInt(a[a.length-1]),o="null"!==e.periodoInicio?parseInt(e.periodoInicio):parseInt(a[0]);if(a.length>=0){var n=document.getElementById("cmbPeriodoFiltroGraficaInicio"+r),s=document.getElementById("cmbPeriodoFiltroGraficaFin"+r);$("#cmbPeriodoFiltroGraficaInicio"+r).children().remove(),$("#cmbPeriodoFiltroGraficaFin"+r).children().remove(),fillcomboperiods(a,n,o.toString()),fillcomboperiods(a,s,t.toString());var l=JSON.parse(document.getElementById("hideConfGrafica"+r).innerHTML);n.onchange=function(){eventChangeFiltroRango(l,r,i)},s.onchange=function(){eventChangeFiltroRango(l,r,i)}}else document.getElementById("divCmbPeriodosGraficaInicio"+r).style.display="none",document.getElementById("divCmbPeriodosGraficaFin"+r).style.display="none"}else console.log(a)}function eventChangeFiltroRango(a,e,r){var i=document.getElementById("cmbPeriodoFiltroGraficaFin"+e).value,t=document.getElementById("cmbPeriodoFiltroGraficaInicio"+e).value;(a.filtro=!0,i>=t)?(a.periodoFin=i,a.periodoInicio=t,(new GeneraGrafica).ConsultaDatos(a)):(alert("El periodo final no puede ser menor al incicial"),document.getElementById("cmbPeriodoFiltroGraficaFin"+e).value=t)}function OmiteValoresconCero(a){for(var e=a,r=e.value.length-1;r>=0;)"0"===e.value[r]&&(e.value.splice(r,1),e.valueDecimalFormat.splice(r,1),e.dimension.state.category.label.splice(r,1),e.dimension.state.category.index.splice(r,1)),r-=1;return e}function FormatoComparacionNegativa(a,e,r,i){var t={type:"bar"};e.chart=t,xAxis=[];var o={};o.categories=r,o.reversed=!1;var n={step:1};o.labels=n,xAxis.push(o);var s={opposite:!0};s.categories=r,s.reversed=!1,s.linkedTo=0,s.labels=n,xAxis.push(s),e.xAxis=xAxis;var l={},c={};c.text=i.textoEjeY,l.title=c,"Barra.I"===i.tipoGrafica&&null!==i.maximoValorEjeY&&"null"!==i.maximoValorEjeY&&(l.max=i.maximoValorEjeY,l.min=-1*i.maximoValorEjeY);var d={};formatter=function(){return Math.abs(this.value)},d.formatter=formatter,l.labels=d,e.yAxis=l;var p={},u={stacking:"normal",groupPadding:0};p.series=u,e.plotOptions=p;var m={},f=function(){return"<b>"+this.series.name+", "+this.point.category+"</b><br/>"+Highcharts.numberFormat(Math.abs(this.point.y),i.decimalUnit)};m.formatter=f,e.tooltip=m}function MostrarMensajeErrorGrafica(a,e,r){document.getElementById("tableTitulo"+a).style.visibility="hidden",document.getElementById("tableTitulo"+a).style.height="0px",document.getElementById("tableTitulo"+a).style.display="none",document.getElementById("lblMensaje"+a).innerHTML="110"==e||"503"==e?"Ocurrió un error inesperado, favor de intentar más tarde.":r}function CreaTablaDatosIndicadoresPeriodos(a,e,r){var i=[];indexValor=0;for(var t=0;t<a.length;t++){var o={};o.indicador=a[t].Key,o.descripcion=a[t].Value;var n=[];$.each(e,function(a,e){var i={};i.valor=r[indexValor],i.periodo=e.Value,n.push(i),indexValor++}),o.valoresIndicador=n,i.push(o)}return i}function PintaMetadatoYUnidad(a,e){e.metadatos=a,"noFooter"!=e.tipoFooter&&"true"!=e.esWidget?PintaConsultaMetaDatosGrafica(a,e):"true"==e.mostrarUnidad&&(CambiaUnidadMedida(a,e),RefreshChart(e))}function replaceAll(a,e,r){for(;-1!=a.indexOf(e);)a=a.replace(e,r);return a}function CambiaUnidadMedida(a,e){if(null==a.ErrorCode&&null!=a.NOMBRE_UNIDAD){var r=e.datos.yAxis;if(null!=r){var i={};i.text=null!==a.FACTOR&&void 0!==a.FACTOR?a.FACTOR+" "+getTraductor(e,"de")+" "+a.NOMBRE_UNIDAD:a.NOMBRE_UNIDAD,r.title=i}}}function borraTabla(a){if(null!=a)for(;a.rows.length>0;)a.deleteRow(0)}function decode_utf8(a){return decodeURIComponent(escape(a))}function PintaConsultaMetaDatosGrafica(a,e){if(null==a.ErrorCode){var r=a.FUENTES,i=document.getElementById("tableFuentes"+e.sufijo);borraTabla(i);var t=a.NOTAS,o=document.getElementById("tableNotas"+e.sufijo);borraTabla(o);var n=0,s=document.getElementById("tableTitleNotas"+e.sufijo);borraTabla(s);var l=document.getElementById("tableTitleFuentes"+e.sufijo),c=a.CIFRAS_ESTATUS,d=document.getElementById("tableCifras"+e.sufijo),p=0,u=0,m=[],f="Notas y Llamadas: ";if("en"==e.idioma&&(f="Notes and Footnotes: "),"true"==e.muestraNotaGrafica&&t.length>0||""!=e.notaParametro||"true"==e.mostrarCifraEstatus&&c.length>0)s.insertRow(-1).insertCell(0).innerHTML="<span class='pie'>"+f+"</span>";if("noFooter"!=e.tipoFooter)if(""!=e.notaParametro)if("ambas"==e.condicionNota||"adicional"==e.condicionNota)p++,o.insertRow(-1).insertCell(0).innerHTML="<span class='pie'>"+e.notaParametro+"</spanCoeficiente:>";if("true"==e.muestraNotaGrafica){var h=[];if(("ambas"==e.condicionNota||"bd"==e.condicionNota)&&t.length>0)for(var g=n;g<t.length;g++)if(h.indexOf(t[g].NOTA)<0){h.push(t[g].NOTA);var v=o.insertRow(-1).insertCell(0),b="";try{b=decode_utf8(t[g].NOTA)}catch(a){b=t[g].NOTA}v.className="CellNote",v.innerHTML="<span class='pie'>"+b+"</span>",0}}if("true"==e.mostrarCifraEstatus&&(borraTabla(d),c.length>0))if(-1===aGraficasNuevoMetodoPost.indexOf(e.tipoGrafica)){var y=e.dataValorIndicador.dimension.periods.category.label;for(g=n;g<c.length;g++)if(""!=c[g].descripcion&&null!=c[g].descripcion){if((j=d.insertRow(-1).insertCell(0)).className="CellNote","Barra.B"!==e.tipoGrafica&&"Linea.B"!==e.tipoGrafica||"true"!==e.mostrarEstatusPeriodo)if("Barra.D"===e.tipoGrafica||"Barra.H"===e.tipoGrafica||"Barra.A"===e.tipoGrafica||"Barra.E"===e.tipoGrafica||"Barra.C"===e.tipoGrafica||"Linea.A"===e.tipoGrafica||"Pie.B"===e.tipoGrafica||"Pie.A"===e.tipoGrafica)if("1"===e.esOportuno){e.periodoGrafica;if(c.length-1===g){G=c[g].descripcion.split("a partir")[0];"es"===e.idioma?(G.indexOf("preliminar")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("preliminar","preliminares")),G.indexOf("revisada")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("revisada","revisadas")),G.indexOf("revisadass")>-1&&(G=G.replace("revisadass","revisadas")),G=G.replace("preliminareses","preliminares"),j.innerHTML="<span class='pie'>"+G+"</span>"):(G=c[g].descripcion,j.innerHTML="<span class='pie'>"+G+"</span>")}}else{G=c[g].descripcion.split("a partir")[0];"es"===e.idioma?(G.indexOf("preliminar")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("preliminar","preliminares")),G.indexOf("revisada")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("revisada","revisadas")),G.indexOf("revisadass")>-1&&(G=G.replace("revisadass","revisadas")),G=G.replace("preliminareses","preliminares")):(G=c[g].descripcion,j.innerHTML="<span class='pie'>"+G+"</span>")}else{var x=_this.oMESES.getFormatoPeriodo(c[g].periodos,a.NOMBRE_FRECUENCIA,e.idioma,1),I="";if(c.lenght>1)I=""===x?c[g].descripcion:c[g].descripcion.split(c[g].periodos)[0]+" "+x,j.innerHTML="<span class='pie'>"+I+"</span>";else{G=c[g].descripcion.split("a partir")[0];"es"===e.idioma&&(G.indexOf("preliminar")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("preliminar","preliminares")),G.indexOf("revisada")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("revisada","revisadas")),G.indexOf("revisadass")>-1&&(G=G.replace("revisadass","revisadas")),G=G.replace("preliminareses","preliminares"),j.innerHTML="<span class='pie'><sup>"+c[g].letra.split("/")[0]+"</sup> "+G+"</span>")}}else{var P=c[g].letra.split("/")[0]+" ",G=c[g].descripcion.split("a partir")[0];"es"===e.idioma?(G.indexOf("preliminar")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("preliminar","preliminares")),G.indexOf("revisada")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("revisada","revisadas")),G.indexOf("revisadass")>-1&&(G=G.replace("revisadass","revisadas")),G=G.replace("preliminareses","preliminares"),j.innerHTML="<span class='pie'><sup>"+P+"</sup> "+G+"</span>"):(G=c[g].descripcion,j.innerHTML="<span class='pie'><sup>"+P+"</sup> "+G+"</span>")}0}}else{y=e.dataValorIndicador.dimension.periods.category.label,e.dataValorIndicador.dimension.freq.category.label[0].Value;var E=[],V=[];if("null"===e.fechaInicio&&"null"==e.fechaFin&&"1"==e.esOportuno){if("D"!==(P=c[c.length-1].letra)){var C=c[c.length-1];(j=d.insertRow(-1).insertCell(0)).className="CellNote";G="";C.descripcion.indexOf("Preliminar")>-1&&(G=C.descripcion.split(" a partir")[0].replace("Preliminar","preliminares")),C.descripcion.indexOf("Revisada")>-1&&(G=C.descripcion.split(" a partir")[0].replace("Revisada","revisadas")),C.descripcion.indexOf("Revisadass")>-1&&(G=G.replace("revisadass","Revisadas")),C.descripcion.indexOf("Oportuna")>-1&&(G="oportunas"),j.innerHTML="<span class='pie'>Cifras "+G+"</span>",V.push(C)}}else for(g=n;g<c.length;g++)if(""!=c[g].descripcion&&null!=c[g].descripcion){G=c[g].descripcion.split(" a partir")[0];if("es"==e.idioma?(G.indexOf("preliminar")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("preliminar","preliminares")),G.indexOf("revisada")>-1&&(G=c[g].descripcion.split(" a partir")[0].replace("revisada","revisadas")),G.indexOf("revisadass")>-1&&(G=G.replace("revisadass","revisadas")),G=G.replace("preliminareses","preliminares"),c[g].descripcion.search(/Preliminar/)>-1&&(G="Cifras preliminares"),c[g].descripcion.search(/Revisada/)>-1&&(G="Cifras revisadas"),c[g].descripcion.search(/Oportuna/)>-1&&(G="Cifras oportunas")):((c[g].descripcion.search(/Preliminary/)>-1||c[g].descripcion.search(/Preliminary figures/)>-1)&&(G=c[g].descripcion),(c[g].descripcion.search(/Reviewed/)>-1||c[g].descripcion.search(/Reviewwed figures/)>-1)&&(G=c[g].descripcion)),"true"===e.mostrarEstatusPeriodo||c.length>1||y.length>1){P=c[g].letra.split("/")[0];if(-1===E.indexOf(P))if(E.push(P),"D"!==P)(j=d.insertRow(-1).insertCell(0)).className="CellNote",j.innerHTML="<span class='pie'><sup>"+P+"</sup> "+G+"</span>",V.push(c[g])}else if("1"===e.esOportuno){if(c.length-1===g)if("D"!==(P=c[g].letra.split("/")[0]))(j=d.insertRow(-1).insertCell(0)).className="CellNote",j.innerHTML="<span class='pie'>"+G+"</span>",V.push(c[g])}else{if("D"!==(P=c[g].letra.split("/")[0]))(j=d.insertRow(-1).insertCell(0)).className="CellNote",j.innerHTML="<span class='pie'>"+G+"</span>",V.push(c[g])}}0==V.length&&0==$(o).find("tbody").children().length&&$(s).empty()}if("true"==e.muestraFuente){var O=" Fuente:";if("en"==e.idioma&&(O=" Source:"),""!=e.mostrarFuentePersonalizada){var j=i.insertRow(-1).insertCell(0),A=e.mostrarFuentePersonalizada.split("|")[0];null!=(S=e.mostrarFuentePersonalizada.split("|")[1])&&(A="<a href='"+S+"'>"+e.mostrarFuentePersonalizada.split("|")[0]+"</a>"),j.className="CellNote",j.innerHTML="<span class='pie'>"+A+"</span>",u++}else if(null!=r&&r.length>0)for(g=n;g<r.length;g++)if(""!=r[g].NOMBRE_FUENTE&&null!=r[g].NOMBRE_FUENTE&&m.indexOf(r[g].NOMBRE_FUENTE)<0){m.push(r[g].NOMBRE_FUENTE);j=i.insertRow(-1).insertCell(0);var S=EvaluaParametro(r[g].URL_PROYECTO,""),L="";try{L=decode_utf8(r[g].NOMBRE_FUENTE)}catch(a){L=r[g].NOMBRE_FUENTE}A=L;A=""!=S?"<a href='"+S+"'>"+L+"</a>":L,j.className="CellNote",j.innerHTML="<span class='pie'>"+A+"</span>",u++}if(u>0)borraTabla(l),(v=l.insertRow(-1).insertCell(0)).className="CellNote",v.innerHTML="<span class='pie'> "+O+"</span>",p++}p>0?"true"==e.mostrarUnidad&&(CambiaUnidadMedida(a,e),RefreshChart(e)):(document.getElementById("container"+e.sufijo).style.height="95%",RefreshChart(e))}else console.log("error"),console.log(a);e.datos=null}function RefreshChart(a){var e="Print chart",r="Download PNG",i="Download JPEG",t="Download PDF",o="Download SVG",n="Print and export ";"es"==a.idioma&&(e="Imprimir gráfica",r="Descargar PNG",i="Descargar JPEG",t="Descargar PDF",o="Descargar SVG",n="Imprimir y exportar "),Highcharts.setOptions({exporting:{enabled:!1},lang:{resetZoom:"Quitar acercamiento",numericSymbols:null,decimalPoint:".",thousandsSep:",",printChart:e,downloadPNG:r,downloadJPEG:i,downloadPDF:t,downloadSVG:o,contextButtonTitle:""},navigation:{buttonOptions:{theme:{"data-original-title":n,"data-toggle":"tooltip"}}}}),$(".elementoOculto")&&$(".elementoOculto").hide(),$("#container"+a.sufijo).highcharts(a.datos),$("g").tooltip({container:"body",placement:"left"}),$(".cls-tooltip").tooltip(),a.export&&addEventsExportChart(a.datos,a),"function"==typeof a.callback&&a.callback(a.container)}function renderWidgetCiclico(a){var e="Print chart",r="Download PNG",i="Download JPEG",t="Download PDF",o="Download SVG",n="Print and export ";"es"==a.idioma&&(e="Imprimir gráfica",r="Descargar PNG",i="Descargar JPEG",t="Descargar PDF",o="Descargar SVG",n="Imprimir y exportar "),Highcharts.setOptions({exporting:{enabled:!1},lang:{resetZoom:"Regresar",numericSymbols:null,decimalPoint:".",thousandsSep:",",printChart:e,downloadPNG:r,downloadJPEG:i,downloadPDF:t,downloadSVG:o,contextButtonTitle:""},navigation:{buttonOptions:{theme:{"data-original-title":n,"data-toggle":"tooltip"}}}});var s=a.datos,l=s.xAxis,c=s.yAxis,d=(s.plotOptions,s.chart),p=s.tooltip,u=s.legend;d.zoomType="xy",d.borderWidth=1,d.borderColor="#dcdcdc",d.spacingTop=15;var m=s.series;s.series[0].type="line",s.series[1].type="line";var f=l.categories,h=[],g=[],v=[],b="",y=-1==window.location.href.indexOf("desarrollowww")?"https":"http",I="";I=window.location.href.indexOf("localhost")>-1?"scripts/indicadores.ciclicos.json":"https"===y?"https://www.inegi.org.mx/widgets/recursos/cicloseco/indicadores.ciclicos.json":"https://desarrollowww.inegi.org.mx/widgets/recursos/cicloseco/indicadores.ciclicos.json",$.getJSON(I,function(a){g=a.bandas,v=a.adelantado,b=a.notas}).error(function(a){console.log(a),console.log("ERROR AL LEER EL JSON")}).done(function(){for(var e=[],r=0;r<g.length;r++){var i=g[r][0],t=g[r][1],o=f.indexOf(i),n=f.indexOf(t);o>-1&&n>-1&&e.push({color:"#dcdcdc",from:o<10?"0"+o:o,to:n<10?"0"+n:n})}h.push({color:"#000",value:100,dashStyle:"solid",width:1,zIndex:1}),c.plotLines=h,c.lineWidth=1,c.minorGridLineWidth=0,c.minorTickInterval="auto",c.minorTickWidth=1,c.max=106,c.min=88,c.endOnTick=!0,l.plotBands=e,l.type="category",l.tickInterval=""==a.intervaloX?1:a.intervaloX;var d=l.labels;d.formatter=function(){switch(a.dataValorIndicador.dimension.freq.category.label[0].Value){case"Mensual":return this.value.split("/")[0];default:return this.value}},p.backgroundColor="#fff",p.formatter=function(){return"<b>"+this.point.category.split("/").join(".")+"</b><br />"+this.series.name+": "+Highcharts.numberFormat(this.point.y,a.decimalUnit)},s.tooltip=p,u.symbolWidth=40,u.symbolHeight=40,u.symbol="square",s.legend=u;var y=[];if($.each(m[1].data,function(a,e){var r=0;r=e>100?-10:35,y.push({y:e,dataLabels:{y:r,useHTML:!0,enabled:!0,align:"center",style:{fontSize:"9px",fontWeight:"normal"},formatter:function(){for(var a=!1,e=0;e<v.length;e++){var r=v[e];if(this.point.category.split("/").join(".")===r[0]){a=r;break}}if(!1!==a)return'<div style="text-align:center;">'+r[0]+(0!==a[1]?'<br /><span style="font-weight:normal;"">('+a[1]+")</span>":"")+"</div>"}}})}),m[1].data=y,m[0].lineWidth=1.9,m[0].marker={states:{hover:{lineWidth:0,lineWidthPlus:0,radius:2,radiusPlus:0,animation:{duration:0}}}},m[1].lineWidth=1.6,m[1].marker={states:{hover:{lineWidth:0,lineWidthPlus:0,radius:2,radiusPlus:0,animation:{duration:0}}}},s.series=m,l.labels=d,s.xAxis=l,s.yAxis=c,""!==b){aRows=b.split("|");var I,P=$("#dummyBody");for(x=0;x<aRows.length;x++){if(aRows[x].indexOf("b-")>-1){var G=aRows[x].split("b-")[1];I=$('<tr><td><span class="pie" tabIndex="'+x+'"><b>'+G+"</b></span></td></tr>")}else I=$('<tr><td><span class="pie" tabIndex="'+x+'">'+aRows[x]+"</span></td></tr>");P.append(I)}var E=$('<tr><td><span class="pie">Notas y Llamadas</span></td></tr>');$("#tableTitleNotas"+a.container).append(E)}var V=a.dataValorIndicador.dimension.periods.category.label[1].Value,C=a.dataValorIndicador.dimension.freq.category.label[0].Value,O=_this.oMESES.getFormatoPeriodo(V,C,a.idioma,3).toLowerCase();a.tituloGrafica='<b style="font-size:16px;">Ciclos Económicos</b><br />Cifras al mes de '+O+"<br/><small>Puntos</small>",document.getElementById("tableTitulo"+a.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+a.sufijo).style.display="",document.getElementById("spTitulo"+a.sufijo).innerHTML=a.tituloGrafica,s.chart.type="line",$("#container"+a.sufijo).highcharts(s)}),$(".encabezado").css({"text-align":"left","background-color":"#ffffff"})}function renderWidgetCiclicoV2(a){var e="Print chart",r="Download PNG",i="Download JPEG",t="Download PDF",o="Download SVG",n="Print and export ";"es"==a.idioma&&(e="Imprimir gráfica",r="Descargar PNG",i="Descargar JPEG",t="Descargar PDF",o="Descargar SVG",n="Imprimir y exportar "),Highcharts.setOptions({exporting:{enabled:!1},lang:{resetZoom:"Regresar",numericSymbols:null,decimalPoint:".",thousandsSep:",",printChart:e,downloadPNG:r,downloadJPEG:i,downloadPDF:t,downloadSVG:o,contextButtonTitle:""},navigation:{buttonOptions:{theme:{"data-original-title":n,"data-toggle":"tooltip"}}}});var s=a.datos,l=s.xAxis,c=s.yAxis,d=(s.plotOptions,s.chart),p=s.tooltip,u=s.legend;d.zoomType="xy",d.borderWidth=1,d.borderColor="#dcdcdc",d.spacingTop=15,d.type="",s.series[0].type="line",s.series[1].type="line";var m=s.series,f=l.categories,h=[],g=[],v=[],b="",y=[],I=-1==window.location.href.indexOf("desarrollowww")?"https":"http",P="",G="";window.location.href.indexOf("localhost")>-1?(P="indicadores.ciclicos.json",G="indicadores.ciclicos.valores.demo.json"):(P="https"===I?"https://www.inegi.org.mx/widgets/recursos/cicloseco/indicadores.ciclicos.json":"http://desarrollowww.inegi.org.mx/widgets/recursos/cicloseco/indicadores.ciclicos.json",G="http://desarrollowww.inegi.org.mx/componentes/biinegi/indicadores.ciclicos.valores.demo.json"),$.getJSON(P,function(a){g=a.bandas,v=a.adelantado,b=a.notas}).error(function(a){console.log(a),console.log("ERROR AL LEER EL JSON")}).done(function(){$.getJSON(G,function(a){y=a,m[0].data=y.coincidente,m[1].data=y.adelantado,f=y.periodos,l.categories=f,s.xAxis=l}).error(function(a){console.log(a)}).done(function(){for(var e=[],r=0;r<g.length;r++){var i=g[r][0],t=g[r][1],o=f.indexOf(i),n=f.indexOf(t);o>-1&&n>-1&&e.push({color:"#dcdcdc",from:o<10?"0"+o:o,to:n<10?"0"+n:n})}h.push({color:"#000",value:100,dashStyle:"solid",width:1,zIndex:1}),c.plotLines=h,c.lineWidth=1,c.minorGridLineWidth=0,c.minorTickInterval="auto",c.minorTickWidth=1,c.max=106,c.min=88,l.plotBands=e,l.type="category",l.tickInterval=""==a.intervaloX?1:a.intervaloX;var y=l.labels;y.formatter=function(){switch(a.dataValorIndicador.dimension.freq.category.label[0].Value){case"Mensual":return this.value.split("/")[0];default:return this.value}},p.backgroundColor="#fff",p.formatter=function(){return"<b>"+this.point.category.split("/").join(".")+"</b><br />"+this.series.name+": "+Highcharts.numberFormat(this.point.y,a.decimalUnit)},s.tooltip=p,u.symbolWidth=40,u.symbolHeight=40,u.symbol="square",s.legend=u;var I=[];if($.each(m[1].data,function(a,e){var r=0;r=e>100?-10:35,I.push({y:e,dataLabels:{y:r,useHTML:!0,enabled:!0,align:"center",style:{fontSize:"9px",fontWeight:"normal"},formatter:function(){for(var a=!1,e=0;e<v.length;e++){var r=v[e];if(this.point.category.split("/").join(".")===r[0]){a=r;break}}if(!1!==a)return'<div style="text-align:center;">'+r[0]+(0!==a[1]?'<br /><span style="font-weight:normal;"">('+a[1]+")</span>":"")+"</div>"}}})}),m[1].data=I,m[0].lineWidth=1.9,m[0].marker={states:{hover:{lineWidth:0,lineWidthPlus:0,radius:2,radiusPlus:0,animation:{duration:0}}}},m[1].lineWidth=1.6,m[1].marker={states:{hover:{lineWidth:0,lineWidthPlus:0,radius:2,radiusPlus:0,animation:{duration:0}}}},s.series=m,l.labels=y,s.xAxis=l,s.yAxis=c,""!==b){aRows=b.split("|");var P,G=$("#dummyBody");for(x=0;x<aRows.length;x++){if(aRows[x].indexOf("b-")>-1){var E=aRows[x].split("b-")[1];P=$('<tr><td><span class="pie" tabIndex="'+x+'"><b>'+E+"</b></span></td></tr>")}else P=$('<tr><td><span class="pie" tabIndex="'+x+'">'+aRows[x]+"</span></td></tr>");G.append(P)}var V=$('<tr><td><span class="pie">Notas y Llamadas</span></td></tr>');$("#tableTitleNotas"+a.container).append(V)}var C=a.dataValorIndicador.dimension.periods.category.label[1].Value,O=a.dataValorIndicador.dimension.freq.category.label[0].Value,j=_this.oMESES.getFormatoPeriodo(C,O,a.idioma,3).toLowerCase();a.tituloGrafica='<b style="font-size:16px;">Ciclos Económicos</b><br />Cifras al mes de '+j+"<br/><small>Puntos</small>",document.getElementById("tableTitulo"+a.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+a.sufijo).style.display="",document.getElementById("spTitulo"+a.sufijo).innerHTML=a.tituloGrafica,s.chart=d,$("#container"+a.sufijo).highcharts(s)})}),$(".encabezado").css({"text-align":"left","background-color":"#ffffff"})}function ConstruyeYAxis(a,e,r,i){var t={};if("VariosIndicadoresUnAreaGeograficaVariosPeriodosDosEjes"==a||"VariosIndicadoresVariasAreasGeograficasUnPeriodo-9"==a){t=[];var o=r.dimension.indicator.category.label,n=0;$.each(o,function(e,r){var i={},o={};style={},o.style=style,o.style.color=Highcharts.getOptions().colors[n];var s={};s.text="VariosIndicadoresVariosPeridosUnArea2Y"!=a?r.Value:"",s.style={},s.style.color=Highcharts.getOptions().colors[n],i.labels=o,i.title=s,n>0&&(i.opposite=!0),t.push(i),n++})}if("UnIndicadorUnPeriodoVariasAreas-NacionalVSEntidades"==a||"VariosIndicadoresVariosPeridosUnArea2Y"==a||"UnIndicadorVariosPeriodosVariasAreas"==a){t=[];o=-1!==i.textoEjeY.indexOf(",")?i.textoEjeY.split(","):[i.textoEjeY,""],n=0;$.each(o,function(a,e){var r={},i={};style={},i.style=style,i.style.color=Highcharts.getOptions().colors[n];var o={};o.text=e,o.style={},o.style.color=Highcharts.getOptions().colors[n],r.labels=i,r.title=o,n>0&&(r.opposite=!0),t.push(r),n++})}else yTitle={},yTitle.text=i.textoEjeY,"Barra.A"==i.tipoGrafica&&(yOverFlow="justify",yLabels={},yLabels.overflow=yOverFlow,t.label=yLabels),t.title=yTitle;return t}function GetSeriesLegend(a,e,i,t,o){var n={};return"true"==t?n.enabled=!1:"VariosIndicadoresVariasAreasGeograficasUnPeriodo"==e?r=!0:(n.enabled="true"==i,n.layout="horizontal",n.borderWidth=0),1==o.length&&"PieVariasAreasUnIndicadorUnPeriodo"!=e&&"Pie2VariosIndicadores"!==e&&"VariosIndicadoresBar"!==e?n.enabled=!1:"VariosIndicadoresVariosPeridosUnAreaMixta"!=e&&"UnIndicadorTodosLosPeriodosUnArea"!==e||(n.enabled=!0),"PieVariasAreasUnIndicadorUnPeriodo"!==e&&"seriesCompuestas"!==e&&"UnIndicadorUnPeriodoVariasAreas"!==e||(n.enabled="true"==i),n}function AgregarCeros(a,e){var r=a;switch(e){case 2:parseInt(a)<10&&(r="0"+a);break;case 3:parseInt(a)<10&&(r="00"+a),parseInt(a)>10&&parseInt(a)>100&&(r="00"+a)}return r}function ObtieneSeriesGrupos(a,e,r,i,t,o){for(var n=[],s=0;s<a.length;s++){var l=a[s].indicadores[t],c=e.filter(function(a){return a.indicador==="I_"+l})[0];null!=c?(valorUltimo=c.valoresIndicador[c.valoresIndicador.length-1],"Barra.I"==o&&t>0?AgregaValorSerieNegativo(valorUltimo,n):AgregaValorSerie(valorUltimo,n)):AgregaValorSerie(null,n),i[t].data=n}}function AgregaValorSerie(a,e){null==a?e.push(null):""==a?e.push(null):"ND"===a||"NS"===a?e.push(a):(a.indexOf(",")>-1&&(a=a.replace(/,/g,"")),0==isNaN(a)&&null!=a?e.push(parseFloat(a)):e.push(null))}function AgregaValorSerieNegativo(a,e){null==a?e.push(0):(a.indexOf(",")>-1&&(a=a.replace(/,/g,"")),0==isNaN(a)&&null!=a?e.push(parseFloat(-1*a)):e.push(null))}function AgregaValorSerieCompuesto(a,e,r,i,t){var o={},n=0;null==a?n=null:""==a?n=null:(a.indexOf(",")>-1&&(a=a.replace(/,/g,"")),n=0==isNaN(a)?parseFloat(a):null),o.y=n,o.name=null!=r?r:"",e.push(o)}function AgregaValorSerieCompuestoColores(a,e,r,i,t){var o={},n=0;if(null==a?n=null:(a.indexOf(",")>-1&&(a=a.replace(/,/g,"")),n=0==isNaN(a)?parseFloat(a):null),"true"==i.muestraGamaColor&&(o.color="#"+ColorRandom(r)),o.y=n,o.name=null,""!=i.nombresCategoriasEje){if(i.nombresCategoriasEje.indexOf("°")>-1)var s=i.nombresCategoriasEje.split("°")[r].split("|");else s=i.nombresCategoriasEje.split("|")[r];s.length>1&&(o.mycustomtooltip=s[1])}0!=t?e[t]=o:e.push(o)}function ColorRandom(a){colorList=["2b94b6","647f1e","c6991b","fe8900","e44457","9955af","4e69bf"],color="#";for(var e=0;e<1;e++){var r=0;r=a%10<5?a%10:a%10-5,color=colorList[r]}return color}function addEventsExportChart(a,e){var r=e.dataValorIndicador?e.dataValorIndicador.label:"";document.getElementById("btnExportPdf_"+e.container).addEventListener("click",function(i){var t=getDateF2(),o=document.createElement("div");o.id="chartHiddenExport";var n=Highcharts.chart(o,Object.assign({},a)),s=n.options.series[0].data.length<100&&e.moLabelsShow;n.update({title:{text:r,align:"center",x:0,y:10,widthAdjust:-100,margin:100,floating:!1},exporting:{chartOptions:{allowHTML:!0,plotOptions:{series:{dataLabels:{enabled:s}}}},sourceWidth:800,sourceHeight:600,fallbackToExportServer:!0}}),n.exportChart({type:"application/pdf",filename:"BancoIndicadores_"+t,scale:1}),$("#chartHiddenExport").remove()},!1),document.getElementById("btnExportPng_"+e.container).addEventListener("click",function(i){i.stopPropagation();var t=getDateF2(),o=document.createElement("div");o.id="chartHiddenExport";var n=Highcharts.chart(o,a),s=n.options.series[0].data.length<100&&e.moLabelsShow;n.update({title:{text:r,align:"center",x:0,y:10,widthAdjust:-100,margin:100,floating:!1},exporting:{chartOptions:{plotOptions:{series:{dataLabels:{enabled:s}}}},sourceWidth:800,sourceHeight:600,fallbackToExportServer:!0}}),n.exportChart({type:"image/png",filename:"BancoIndicadores_"+t,scale:1}),$("#chartHiddenExport").remove()},!1)}function getDateF2(){var a,e=(a=new Date).getDate(),r=a.getMonth()+1,i=a.getFullYear();return Number.prototype.padLeft=function(a,e){var r=String(a||10).length-String(this).length+1;return r>0?new Array(r).join(e||"0")+this:this},e<10&&(e="0"+e),r<10&&(r="0"+r),a=e+r+i+a.getHours().padLeft()+a.getMinutes().padLeft()+a.getSeconds().padLeft()}function PintaaMetaDatosGraficaDirecta(a){var e=document.getElementById("tableFuentes"+a.sufijo);borraTabla(e);var r=document.getElementById("tableNotas"+a.sufijo);borraTabla(r);var i=document.getElementById("tableTitleNotas"+a.sufijo),t=document.getElementById("tableTitleFuentes"+a.sufijo),o="Notas y Llamadas: ";"en"==a.idioma&&(o="Notes and Calls: ");var n=" Fuente:";"en"==a.idioma&&(n=" Source:");var s=0,l=0;if("true"==a.muestraFuente){if(""!=a.mostrarFuentePersonalizada){var c=e.insertRow(-1).insertCell(0),d=a.mostrarFuentePersonalizada.split("|")[0],p=a.mostrarFuentePersonalizada.split("|")[1];null!=p&&(d="<a href='"+p+"'>"+a.mostrarFuentePersonalizada.split("|")[0]+"</a>"),c.innerHTML="<span class='pie'>"+d+"</span>",l++}if(l>0)borraTabla(t),t.insertRow(-1).insertCell(0).innerHTML="<span class='pie'>"+n+"</span>",s++}var u=0;"noFooter"!=a.tipoFooter&&(""!=a.notaParametro&&(s++,r.insertRow(-1).insertCell(0).innerHTML="<span class='pie'>"+a.notaParametro+"</span>",0==u&&(borraTabla(i=document.getElementById("tableTitleNotas"+a.sufijo)),i.insertRow(-1).insertCell(0).innerHTML="<span class='pie'>"+o+"</span>",s++)));0==s&&(document.getElementById("container"+a.sufijo).style.height="95%",RefreshChart(a))}function paddingAxis(a,e,r){var i="BGeneral";a.indexOf("Linea")>-1&&a.indexOf("Barra")<0&&(i="LGeneral"),a.indexOf("Linea")>-1&&a.indexOf("Barra")<0&&(i="BGeneral"),"Barra.B"==a&&(i="B.B");var t=0;switch(t="true"!=r.muestraLegendSerie?0:"v"==r.orientacion?.01:.05,i){case"LGeneral":null==(o=e.yAxis)&&(o={}),o.startOnTick=!1,o.endOnTick=!1,o.maxPadding=.07,o.minPadding=.05,e.yAxis=o;break;case"BGeneral":null==(o=e.yAxis)&&(o={}),o.endOnTick=!0,o.maxPadding=t,e.yAxis=o;break;case"B.B":var o;null==(o=e.yAxis)&&(o={}),o.endOnTick=!1,o.maxPadding=t,e.yAxis=o}}function ExcuentraIndiceIndicador(a,e){for(var r=a.split(","),i=-1,t=0;t<r.length;t++)if(r[t]==e){i=t;break}return i}function ExcuentraIndiceIndicadorInverso(a,e){for(var r=a.split(","),i=-1,t=r.length-1,o=0;t>-1;t--,o++)if(r[t]==e){i=o;break}return i}addEventsMenuOpciones=function(a,e){if(a.export){if(document.getElementById("moShowValues_"+a.sufijo).addEventListener("click",function(e){e.stopPropagation();var r=$("#container"+a.sufijo).highcharts(),i=r.series.length;for(a.moLabelsShow=!a.moLabelsShow,s=0;s<i;s++)r.series[s].update({dataLabels:{enabled:a.moLabelsShow}});changeMoShowValues("moShowValues_"+a.sufijo,a)}),a.switch)document.querySelectorAll(".mo-buttons-chart-type-"+a.sufijo).forEach(e=>{e.addEventListener("click",function(r){var i=a.parametrosUsuario,t=a.sufijo,o=e.children,n=i;"bar"===o[1].name?(a.moChartType="bar",n.tg="Linea.F"):"column"===o[1].name?(a.moChartType="column",n.tg="Barra.B","h"===a.orientacion&&(n.o="v")):"line"===o[1].name?(a.moChartType="line",n.tg="Linea.H"):"area"===o[1].name&&(a.moChartType="area",n.tg="Area.Linea.A"),(new GeneraGrafica).CargaParametros(t,n)})})}},changeMoShowValues=function(a,e,r){var i=document.getElementById(a);null!=r?i.parentNode.children[0].checked=e.moLabelsShow:i.parentNode.children[0].checked?$($(i.parentNode).children()[0]).val(!1):$($(i.parentNode).children()[0]).val(!0)},selectMoChartType=function(a){a.switch&&document.getElementsByClassName("mo-buttons-chart-type-"+a.sufijo+" label"+a.moChartType)[0].classList.add("active")},this.IgualaPropiedad=function(a,e,r,i){""==i&&(i=r),a[r]=e[i]},this.CargaGrafica=function(a,e){parametros={},parametros.parametrosUsuario=e;var r=e;switch(1!=e.DesdeUrl&&(e=this.FormatoDatos(r)),r={},parametros.container=a,parametros.idioma=e.idioma,parametros.direccionServicio=C_direccionServicio,parametros.nombreCorto="false",parametros.fuente="null",parametros.orden="null",parametros.entidad="null",parametros.municipio="null",parametros.areaGeografica="null",parametros.filtroLetra="null",parametros.token="563cbaa8-58bb-fef8-6763-1f1dae318f99",parametros.typeChart=3,parametros.areaCorta="true",parametros.tituloGrafica="",parametros.orientacion="",parametros.indicadorValorCompuesto={},parametros.notaParametro="",parametros.periodoGrafica="null",parametros.condicionGraficaValor="",parametros.listaValoresPeriodos=[],parametros.columnaSeparada="true",parametros.muestraLegendSerie="true",parametros.colorGrafica="",parametros.esOportuno="null",parametros.fechaInicio="null",parametros.fechaFin="null",parametros.areaGeo="null",parametros.tipoGrafica="null",parametros.muestraPeriodos="true",parametros.tipoBie="null",parametros.muestraNotaGrafica="true",parametros.muestraFuente="true",parametros.indicadorDepurado="",parametros.esWidget="",parametros.textoEjeX="",parametros.textoEjeY="",parametros.muestraPorcentaje="false",parametros.labelsXOrientacion="v",parametros.tipoFooter="ambosFooter",parametros.nombresCategoriasEje="",parametros.maximoValorEjeY=null,parametros.mostrarLeyendaPosicion="b",parametros.indicadorID=decodeURIComponent(null!=e.indicador?e.indicador:parametros.indicadorID),parametros.alto=e.alto,parametros.areaGeo=null!=e.areaGeografica?e.areaGeografica:"00",parametros.areaGeo=FormatoAnteriorArea(parametros.areaGeo),parametros.tipoGrafica=null!=e.tipoGrafica?e.tipoGrafica:parametros.tipoGrafica,parametros.colorHeader=null!=e.colorHeader?e.colorHeader:parametros.colorHeader,parametros.muestraPuntoLinea=null!=e.muestraPuntoLinea?e.muestraPuntoLinea:parametros.muestraPuntoLinea,parametros.muestraGamaColor=null!=e.muestraGamaColor?e.muestraGamaColor:parametros.muestraGamaColor,parametros.areaCorta=null!=e.areaCorta?e.areaCorta:parametros.areaCorta,parametros.nombresSerie=null!=e.nombresSerie?e.nombresSerie:parametros.nombresSerie,parametros.nombresCategoriasEje=null!=e.nombresCategoriasEje?e.nombresCategoriasEje:parametros.nombresCategoriasEje,parametros.intervaloX=null!=e.intervaloX?e.intervaloX:"",parametros.coloresPunto=e.coloresPunto,parametros.coloresSerie=e.coloresSerie,parametros.ultimoDato=e.ultimoDato,parametros.orientacionSerie=e.orientacionSerie,parametros.cantidadEscalaY=e.cantidadEscalaY,parametros.valorTendencia=e.valorTendencia,parametros.comparteTooltip=e.comparteTooltip,parametros.cargarBS=e.cargarBS,parametros.tabInd=e.tabInd,parametros.mostrarFuenteGenerica=e.mostrarFuenteGenerica,parametros.mostrarFuentePersonalizada=e.mostrarFuentePersonalizada,parametros.reducirLetraEjeY=e.reducirLetraEjeY,parametros.reducirLetraEjeX=e.reducirLetraEjeX,parametros.formatoPeriodoCorto=e.formatoPeriodoCorto,parametros.reducirSerie=e.reducirSerie,parametros.urlDatosDirectos=e.urlDatosDirectos,parametros.topAreas=e.topAreas,parametros.condicionNota=e.condicionNota,parametros.tipoSerieGrafica=e.tipoSerieGrafica,parametros.datoOportunoParametro=e.datoOportunoParametro,parametros.colorBarraNacional=e.colorBarraNacional,parametros.mostrarNombresSeriesX=e.mostrarNombresSeriesX,parametros.mostrarLegendLinea=e.mostrarLegendLinea,parametros.mostrarLegendDentro=parametros.mostrarLegendDentro,parametros.mostrarEfecto3D=e.mostrarEfecto3D,parametros.ejey=null!=e.ejey?e.ejey:"true",parametros.decimales="false"!=e.decimales?e.decimales:"false",parametros.omitevalorseriecero=null!=e.omitevalorseriecero?e.omitevalorseriecero:"false",parametros.mostrarEstatusPeriodo=null!=e.mostrarEstatusPeriodo?e.mostrarEstatusPeriodo:"false",parametros.intervalEjesY=null!=e.intervalEjesY?e.intervalEjesY:"",parametros.muestraTotalSerie=null!=e.muestraTotalSerie?e.muestraTotalSerie:"",parametros.colorSerieLinea=null!=e.colorSerieLinea?e.colorSerieLinea:"404040",parametros.mostrarDecrementos=null!=e.mostrarDecrementos?e.mostrarDecrementos:"false",parametros.validaDecimal=null!=e.validaDecimal?e.validaDecimal:"true",parametros.D3Enabled=null!=e.D3Enabled?e.D3Enabled:"false",parametros.tema=null!=e.tema?e.tema:"null",parametros.fue=null!=e.fue?e.fue:"",parametros.ni=null!=e.ni?e.ni:"",parametros.obj=null!=e.obj?e.obj:"",parametros.met=null!=e.met?e.met:"",parametros.frec=null!=e.frec?e.frec:"",parametros.desc=null!=e.desc?e.desc:"",parametros.callback=e.callback?e.callback:null,parametros.tematica=""!=e.tematica?e.tematica:"",parametros.paginadorCategorias=null!=e.paginadorCategorias?e.paginadorCategorias:"false",parametros.cicloseconomicos=null!=e.cicloseconomicos?e.cicloseconomicos:"false",parametros.export=null!=e.export&&e.export,parametros.switch=null!=e.switch&&e.switch,e.tipoGrafica){case"Pie.A":case"Pie.B":case"Barra.L":"null"!==e.periodoInicio&&"null"!==e.periodoFin?parametros.esOportuno="null":(parametros.esOportuno="1","2"==parametros.datoOportunoParametro&&(parametros.esOportuno="2"));break;case"Barra.A":case"Linea.A":case"Linea.E":case"Barra.Linea.A":case"Barra.E":case"Barra.C":case"Barra.D":"null"!==e.periodoInicio&&"null"!==e.periodoFin?parametros.esOportuno="null":(parametros.esOportuno="1","2"==parametros.datoOportunoParametro&&(parametros.esOportuno="2"));break;case"Barra.J":break;case"Gauge":parametros.esOportuno=1;break;default:parametros.esOportuno="null"}parametros.muestraPeriodos=null!=e.muestraPeriodos?e.muestraPeriodos:parametros.muestraPeriodos,parametros.tipoBie=null!=e.tipoBie?e.tipoBie:parametros.tipoBie,parametros.tituloGrafica=decodeURIComponent(null!=e.tituloGrafica?e.tituloGrafica:parametros.tituloGrafica),parametros.nombreCorto=null!=e.nombreCorto?e.nombreCorto:parametros.nombreCorto,parametros.orientacion=null!=e.orientacion?e.orientacion:parametros.orientacion,parametros.columnaSeparada=null!=e.columnaSeparada?e.columnaSeparada:parametros.columnaSeparada,parametros.muestraLegendSerie=null!=e.muestraLegendSerie?e.muestraLegendSerie:parametros.muestraLegendSerie,parametros.orden=null!=e.orden?e.orden:parametros.orden,parametros.notaParametro=null!=e.notaParametro?e.notaParametro:parametros.notaParametro,parametros.colorGrafica=decodeURIComponent(null!=e.colorGrafica?e.colorGrafica:parametros.colorGrafica),parametros.muestraNotaGrafica=null!=e.muestraNotaGrafica?e.muestraNotaGrafica:parametros.muestraNotaGrafica,parametros.esWidget=null!=e.esWidget?e.esWidget:parametros.esWidget,parametros.textoEjeX=decodeURIComponent(null!=e.textoEjeX)?e.textoEjeX:parametros.textoEjeX,parametros.textoEjeY=decodeURIComponent(null!=e.textoEjeY)?e.textoEjeY:parametros.textoEjeY,parametros.muestraPorcentaje=decodeURIComponent(null!=e.muestraPorcentaje?e.muestraPorcentaje:parametros.muestraPorcentaje),parametros.labelsXOrientacion=decodeURIComponent(null!=e.labelsXOrientacion?e.labelsXOrientacion:parametros.labelsXOrientacion),parametros.muestraFuente=decodeURIComponent(null!=e.muestraFuente?e.muestraFuente:parametros.muestraFuente),parametros.mostrarCifraEstatus=e.mostrarCifraEstatus,parametros.idioma=e.idioma,parametros.terminaEnEscala=e.terminaEnEscala,parametros.ajustaMinimoMaximo=e.ajustaMinimoMaximo,this.IgualaPropiedad(parametros,e,"ajusteEjeOriginal",""),parametros.precedente=e.precedente,parametros.seriesDirectas=e.seriesDirectas,parametros.tipoFooter=this.EvaluaFooter(parametros.muestraNotaGrafica,parametros.muestraFuente,parametros.mostrarCifraEstatus),parametros.mostrarBorde=decodeURIComponent(null!=e.mostrarBorde?e.mostrarBorde:""),parametros.mostrarUnidad=decodeURIComponent(null!=e.mostrarUnidad?e.mostrarUnidad:"false"),parametros.divisor_periodo=null!=e.divisor_periodo&&e.divisor_periodo,parametros.mostrarFiltroPeriodo=null!=e.mostrarFiltroPeriodo&&e.mostrarFiltroPeriodo,parametros.mostrarLegendDentro=null!=e.mostrarLegendDentro?e.mostrarLegendDentro:"false",parametros.maximoValorEjeY=null!=e.maximoValorEjeY?e.maximoValorEjeY:parametros.maximoValorEjeY,parametros.mostrarLeyendaPosicion=null!=e.mostrarLeyendaPosicion?e.mostrarLeyendaPosicion:parametros.mostrarLeyendaPosicion,parametros.errorBar=decodeURIComponent(null!=e.errorBar?e.errorBar:"false"),parametros.precision=decodeURIComponent(null!=e.precision?e.precision:"false"),parametros.indest=decodeURIComponent(null!=e.indest?e.indest:""),parametros.herr=decodeURIComponent(null!=e.herr?e.herr:null),parametros.periodoInicio=e.periodoInicio,parametros.periodoFin=e.periodoFin,"true"==parametros.esWidget&&(parametros.tipoFooter="noFooter");var i=document.getElementById(a);parametros.sufijo=a;if("noFooter"==parametros.tipoFooter?"95%":""==parametros.tituloGrafica&&"noFooter"!=parametros.tipoFooter&&"85%",i.setAttribute("chart",parametros.tipoGrafica),i.innerHTML="",i.innerHTML=' <div id="divLoad'+parametros.sufijo+'"> <img src="/img/cargando.gif"   style="display: block; margin: 0 auto; " /> </div><div style="height:0px; with:100%">  <label id="lblMensaje'+parametros.sufijo+'"></label></div> <table id="tableInfoWidget'+parametros.sufijo+'"  style="with:100%;"  >  <tr>     <td align="right" style="width:100%;" style:"height:1px" class="UltimoPeriodo">       <label id="lblUltimoDato'+parametros.sufijo+'"></label>     </td>     <td align="right" class="TituloBISE"  >     </td> </tr> </table> <table id="tableTitulo'+parametros.sufijo+'" class="TablaEnc" border="0"> <tr class="encabezado">    <th class="encabezado" style="background-color:#'+parametros.colorHeader+'" >       <span class="encabezado"  id="spTitulo'+parametros.sufijo+'" ></span>    </th></tr></table>',"true"===parametros.mostrarFiltroPeriodo&&void 0===parametros.filtro?i.innerHTML+='<div id="divCmbPeriodosGrafica'+parametros.sufijo+'" style="width:100%; padding-right:15px; padding-left:15px;"><div class="row"><div class="col-md-12 col-sm-12 col-xs-12"> <table style="float:left"><tr><td><label>Periodo:</label>&nbsp;</td><td><select  id="cmbPeriodoFiltroGrafica'+parametros.sufijo+'" class="form-control text-right"></select></td><td></tr></table></div></div></div><div id="hideConfGrafica'+parametros.sufijo+'" style="display:none;">'+JSON.stringify(parametros)+"</div>":"rango"===parametros.mostrarFiltroPeriodo&&void 0===parametros.filtro&&(i.innerHTML+='<div id="divCmbPeriodosGrafica'+parametros.sufijo+'" class="container-fluid" style="padding-right:15px; padding-left:15px;"><div class="row"><div class="col-sm-3 col-md-3 col-xs-12"><div class="form-group"><label>'+("es"===parametros.idioma?"Desde:":"From:")+'</label><select  id="cmbPeriodoFiltroGraficaInicio'+parametros.sufijo+'" class="form-control" style="text-align:center;"></select></div></div><div class="col-sm-3 col-md-3 col-xs-12"><div class="form-group"><label>'+("es"===parametros.idioma?"Hasta:":"to:")+'</label><select  id="cmbPeriodoFiltroGraficaFin'+parametros.sufijo+'" class="form-control" style="text-align:center"></select></div></div></div></div><div id="hideConfGrafica'+parametros.sufijo+'" style="display:none;">'+JSON.stringify(parametros)+"</div>"),parametros.export){var t="";parametros.switch&&(t+='<li class="divider"></li><li><div class="title-section">'+getTraductor(parametros,"Visualización")+':</div></li><li class="center-block"><div class="btn-group" data-toggle="buttons"><label class="btn btn-default btn-xs btn-type cls-tooltip mo-buttons-chart-type-'+parametros.sufijo+' labelcolumn" aria-haspopup="true" data-toggle="tooltip" data-placement="top" data-original-title="'+getTraductor(parametros,"Barras verticales")+'"><i class="inegi-grafcolumnas"></i><input type="radio" name="column"></label><label class="btn btn-default btn-xs btn-type cls-tooltip mo-buttons-chart-type-'+parametros.sufijo+' labelbar" aria-haspopup="true" data-toggle="tooltip" data-placement="top" data-original-title="'+getTraductor(parametros,"Barras horizontales")+'"><i class="inegi-top"></i><input type="radio" name="bar"></label><label class="btn btn-default btn-xs btn-type cls-tooltip mo-buttons-chart-type-'+parametros.sufijo+' labelline" aria-haspopup="true" data-toggle="tooltip" data-placement="top" data-original-title="'+getTraductor(parametros,"Líneas")+'"><i class="inegi-grafica-linea"></i><input type="radio" name="line"></label><label class="btn btn-default btn-xs btn-type cls-tooltip mo-buttons-chart-type-'+parametros.sufijo+' labelarea" aria-haspopup="true" data-toggle="tooltip" data-placement="top" data-original-title="'+getTraductor(parametros,"Áreas")+'"><i class="inegi-grafarea"></i><input type="radio" name="area"></label></div></li>'),i.innerHTML+='<div class="col-sm-4 col-md-4 pull-right"><div class="row pull-right min-height:74px"><div class="col-sm-12 col-md-12 col-xs-12 pull-right btn-group" style="margin-top:25px;"><button type="button" class="btn dropdown-toggle btnMenuOpcionesChart cls-tooltip" aria-haspopup="true" data-placement="top" data-original-title="'+getTraductor(parametros,"Opciones")+'" data-toggle="dropdown"><span class="inegi-menu" aria-hidden="true" style="font-size:18px;"></span></button><ul class="dropdown-menu ulMenuOpcionesChart" role="menu"><li><label class="checkbox labelMostrarValores center-block" ><input type="checkbox" id="moShowValues_'+parametros.sufijo+'" class="checkboxMostrarValores" /><span style="padding-left: 6px;">'+getTraductor(parametros,"Mostrar valores")+"</span></label></li>"+t+'<li class="divider"></li><li><div class="title-section">'+getTraductor(parametros,"Exportar como")+':</div></li><li><a id="btnExportPdf_'+parametros.sufijo+'" class="btn btn-xs icon-section cls-tooltip" aria-haspopup="true" data-toggle="tooltip" data-placement="top" data-original-title="'+getTraductor(parametros,"Exportar como PDF")+'"><img alt="Archivo PDF" src="'+C_dominio_seguro+'img/ico/ico_PDF.png" /></a></li><li><a id="btnExportPng_'+parametros.sufijo+'" class="btn btn-xs icon-section cls-tooltip" aria-haspopup="true" data-toggle="tooltip" data-placement="top" data-original-title="'+getTraductor(parametros,"Exportar como PNG")+'"><img at="Archivo imagen PNG" src="'+C_dominio_seguro+'img/ico/ico_PNG.png" /></a></li></ul></div></div></div>'}i.innerHTML+='<div id="cmbPaginadorDatos'+parametros.sufijo+'"></div>';var o=parametros.tabInd,n="Grafica de información";i.innerHTML+='<div id="container'+parametros.sufijo+'" name="grafHCC" style="height:auto" tabindex="'+o+'" aria-label="'+n+'"></div><div id="divVerDatos'+parametros.sufijo+'" style"height:0px;"></div>',"noFooter"!=parametros.tipoFooter&&(i.innerHTML+=this.FooterGrafica(parametros.tipoFooter,parametros.esWidget,parametros.sufijo,parametros)),this.revisaHerramienta(parametros,()=>{this.ConsultaDatos(parametros)})},this.herramienta=null,this.revisaHerramienta=function(a,e){if("v1_3"===API_V&&"0"!==a.tematica)if("undefined"!=typeof catalogoHerramientas){var r=a.herr,i="",t="";if(aListaHerramientas=catalogoHerramientas,-1===window.location.hostname.indexOf("localhost")){if(i=window.location.pathname.split("/"),""===r||"null"===r||null===r){switch(i[1]){case"temas":t=i[1];break;case"app":t=i[2]}this.herramienta=aListaHerramientas.find(function(a){return a.nombre===t})}else this.herramienta=aListaHerramientas.find(function(a){return a.id===parseInt(r)});if(void 0===this.herramienta)return void console.error("<<"+a.tg+" La herramienta no se encontro en la lista o no existe, utilice una diferente >>");if(this.herramienta.validar)this.requestHerramienta(a,this.herramienta,"POST").then(a=>a.json()).then(r=>{if(void 0!==r.find(a=>!1===a.aplica)){var i=document.getElementById(a.sufijo);i.innerHTML='<div class="alert alert-warning" role="alert">No se puede mostrar la gráfica por que 1 o mas indicadores no aplican para la herramienta: '+this.herramienta.id+"</div>",i.style.display=""}else e()});else e()}else if(console.info("> verifica Herramienta en Localhost"),"null"!==r&&null!==r&&""!==r||(r=0),r>0){if(this.herramienta=aListaHerramientas.find(function(a){return a.id===parseInt(r)}),void 0===this.herramienta)return void console.error("<< ["+a.tipoGrafica+" - "+a.sufijo+"] La herramienta no se encontro en la lista o no existe, utilice una diferente >>");if(this.herramienta.validar)this.requestHerramienta(a,this.herramienta,"GET").then(a=>a.json()).then(r=>{if(void 0!==r.find(a=>!1===a.aplica)){var i=document.getElementById(a.sufijo);i.innerHTML='<div class="alert alert-warning" role="alert">No se puede mostrar la gráfica por que 1 o mas indicadores no aplican para la herramienta: '+this.herramienta.id+"</div>",i.style.display=""}else e()});else e()}else e()}else e();else e()},this.requestHerramienta=function(a,e,r){var i=C_direccionServicio_V+"_"+API_V.toLowerCase(),t="";if("GET"===r)return t=i+"/ValidaIndicadorxHerramientaGET/"+a.indicadorID+"/"+e.id+"/"+a.tematica+"/json/"+a.token,fetch(t,{method:"GET"},function(a){return a});t=i+"/ValidaIndicadorxHerramienta";var o={indicadores:a.indicadorID,herramienta:e.id,tematica:a.tematica,formato:"json",token:a.token};return fetch(t,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}},function(a){return a})},getTraductor=function(a,e){var r=["Visualización","Barras verticales","Barras horizontales","Líneas","Áreas","Mostrar valores","Exportar como","Exportar como PDF","Exportar como PNG","Opciones","Exportar","de","Coeficiente de variación","Error estándar","Límite inferior","Límite superior","Intervalo de confianza"],i=["Visualization","Vertical bars","Horizontal bars","Lines","Areas","Show values","Export as","Export as PDF","Export as PNG","Options","Download","of","Coefficient of variation","Standard error","Lower limit","Upper limit","Dependence interval"];return"es"==a.idioma?r[r.indexOf(e)]:i[r.indexOf(e)]},this.OcultarCarga=function(a){document.getElementById("divLoad"+a).className="elementoOculto",$(".elementoOculto")&&$(".elementoOculto").hide()},this.FormatoDatos=function(a){return parametrosGrafica={},parametrosGrafica.indicador=decodeURIComponent(EvaluaParametro(a.ind,"")),parametrosGrafica.areaGeografica=decodeURIComponent(EvaluaParametro(a.ag,"00000")),parametrosGrafica.tipoGrafica=EvaluaParametro(a.tg,"null"),parametrosGrafica.muestraPeriodos=EvaluaParametro(a.mp,"true"),parametrosGrafica.tipoBie=EvaluaParametro(a.tb,"null"),parametrosGrafica.tituloGrafica=decodeURIComponent(EvaluaParametro(a.t,"")),parametrosGrafica.alto=EvaluaParametro(a.alto,null),parametrosGrafica.nombreCorto=EvaluaParametro(a.mnc,"false"),parametrosGrafica.orientacion=EvaluaParametro(a.o,"v"),parametrosGrafica.columnaSeparada=EvaluaParametro(a.cs,"true"),parametrosGrafica.muestraLegendSerie=EvaluaParametro(a.ml,"Barra.A"==parametrosGrafica.tipoGrafica?"false":"true"),parametrosGrafica.orden=EvaluaParametro(a.ord,"null"),parametrosGrafica.textoEjeX=decodeURIComponent(EvaluaParametro(a.lx,"")),parametrosGrafica.textoEjeY=decodeURIComponent(EvaluaParametro(a.ly,"")),parametrosGrafica.colorGrafica=decodeURIComponent(EvaluaParametro(a.cg,"")),parametrosGrafica.esWidget=decodeURIComponent(EvaluaParametro(a.wd,"null")),parametrosGrafica.notaParametro=decodeURIComponent(EvaluaParametro(a.na,"")),parametrosGrafica.muestraNotaGrafica=decodeURIComponent(EvaluaParametro(a.mn,"true")),parametrosGrafica.muestraPorcentaje=decodeURIComponent(EvaluaParametro(a.mpr,"false")),parametrosGrafica.labelsXOrientacion=decodeURIComponent(EvaluaParametro(a.ox,"v")),parametrosGrafica.muestraFuente=decodeURIComponent(EvaluaParametro(a.mf,"true")),parametrosGrafica.colorHeader=decodeURIComponent(EvaluaParametro(a.ch,"DEE4E9")),parametrosGrafica.muestraPuntoLinea=decodeURIComponent(EvaluaParametro(a.mpl,"false")),parametrosGrafica.muestraGamaColor=decodeURIComponent(EvaluaParametro(a.gc,"false")),parametrosGrafica.areaCorta=decodeURIComponent(EvaluaParametro(a.agc,"true")),parametrosGrafica.nombresSerie=decodeURIComponent(EvaluaParametro(a.ns,"")),parametrosGrafica.nombresCategoriasEje=decodeURIComponent(EvaluaParametro(a.nca,"")),parametrosGrafica.intervaloX=decodeURIComponent(EvaluaParametro(a.ix,"")),parametrosGrafica.mostrarBorde=decodeURIComponent(EvaluaParametro(a.mb,"")),parametrosGrafica.coloresPunto=decodeURIComponent(EvaluaParametro(a.cb,"")),parametrosGrafica.coloresSerie=decodeURIComponent(EvaluaParametro(a.cls,"")),parametrosGrafica.periodoInicio=decodeURIComponent(EvaluaParametro(a.pi,"null")),parametrosGrafica.periodoFin=decodeURIComponent(EvaluaParametro(a.pf,"null")),parametrosGrafica.ultimoDato=decodeURIComponent(EvaluaParametro(a.ud,"null")),parametrosGrafica.orientacionSerie=decodeURIComponent(EvaluaParametro(a.os,"null")),parametrosGrafica.cantidadEscalaY=decodeURIComponent(EvaluaParametro(a.cy,"null")),parametrosGrafica.valorTendencia=decodeURIComponent(EvaluaParametro(a.vt,"null")),parametrosGrafica.comparteTooltip=decodeURIComponent(EvaluaParametro(a.ct,"null")),parametrosGrafica.cargarBS=decodeURIComponent(EvaluaParametro(a.cbs,"true")),parametrosGrafica.mostrarUnidad=decodeURIComponent(EvaluaParametro(a.mu,"false")),parametrosGrafica.mostrarFuenteGenerica=decodeURIComponent(EvaluaParametro(a.mfg,"null")),parametrosGrafica.mostrarFuentePersonalizada=decodeURIComponent(EvaluaParametro(a.mfp,"")),parametrosGrafica.reducirLetraEjeY=decodeURIComponent(EvaluaParametro(a.rly,"false")),parametrosGrafica.reducirLetraEjeX=decodeURIComponent(EvaluaParametro(a.rlx,"false")),parametrosGrafica.reducirSerie=decodeURIComponent(EvaluaParametro(a.rts,"false")),parametrosGrafica.formatoPeriodoCorto=decodeURIComponent(EvaluaParametro(a.fpc,"false")),parametrosGrafica.urlDatosDirectos=decodeURIComponent(EvaluaParametro(a.jsnd,"")),parametrosGrafica.topAreas=decodeURIComponent(EvaluaParametro(a.tpa,"")),parametrosGrafica.condicionNota=decodeURIComponent(EvaluaParametro(a.cnt,"ambas")),parametrosGrafica.tipoSerieGrafica=decodeURIComponent(EvaluaParametro(a.tsg,"")),parametrosGrafica.datoOportunoParametro=decodeURIComponent(EvaluaParametro(a.dop,"null")),parametrosGrafica.tabInd=decodeURIComponent(EvaluaParametro(a.ti,5e3)),parametrosGrafica.colorBarraNacional=decodeURIComponent(EvaluaParametro(a.cbn,"")),parametrosGrafica.mostrarCifraEstatus=decodeURIComponent(EvaluaParametro(a.mce,"false")),parametrosGrafica.idioma=decodeURIComponent(EvaluaParametro(a.lang,"es")),parametrosGrafica.terminaEnEscala=decodeURIComponent(EvaluaParametro(a.tee,"true")),parametrosGrafica.ajustaMinimoMaximo=decodeURIComponent(EvaluaParametro(a.amm,"false")),parametrosGrafica.ajusteEjeOriginal=a.amm,parametrosGrafica.precedente=decodeURIComponent(EvaluaParametro(a.prc,"null")),parametrosGrafica.seriesDirectas=decodeURIComponent(EvaluaParametro(a.svd,"")),parametrosGrafica.mostrarNombresSeriesX=decodeURIComponent(EvaluaParametro(a.mnsx,"true")),parametrosGrafica.mostrarLegendLinea=decodeURIComponent(EvaluaParametro(a.mll,"false")),parametrosGrafica.mostrarLegendDentro=decodeURIComponent(EvaluaParametro(a.mld,"false")),parametrosGrafica.mostrarEfecto3D=decodeURIComponent(EvaluaParametro(a.m3d,"false")),parametrosGrafica.omitevalorseriecero=decodeURIComponent(EvaluaParametro(a.oc,"false")),parametrosGrafica.ejey=decodeURIComponent(EvaluaParametro(a.ejey,"true")),parametrosGrafica.decimales=decodeURIComponent(EvaluaParametro(a.decimales,"false")),parametrosGrafica.divisor_periodo=decodeURIComponent(EvaluaParametro(a.dp,!1)),parametrosGrafica.mostrarEstatusPeriodo=decodeURIComponent(EvaluaParametro(a.mep,!1)),parametrosGrafica.intervalEjesY=decodeURIComponent(EvaluaParametro(a.iey,"")),parametrosGrafica.muestraTotalSerie=decodeURIComponent(EvaluaParametro(a.mts,"false")),parametrosGrafica.mostrarFiltroPeriodo=decodeURIComponent(EvaluaParametro(a.mfpu,!1)),parametrosGrafica.colorSerieLinea=decodeURIComponent(EvaluaParametro(a.csl,"404040")),parametrosGrafica.maximoValorEjeY=decodeURIComponent(EvaluaParametro(a.mvey,null)),parametrosGrafica.mostrarLeyendaPosicion=decodeURIComponent(EvaluaParametro(a.mlp,"b")),parametrosGrafica.mostrarDecrementos=decodeURIComponent(EvaluaParametro(a.mdec,"false")),parametrosGrafica.validaDecimal=decodeURIComponent(EvaluaParametro(a.vd,"true")),parametrosGrafica.D3Enabled=decodeURIComponent(EvaluaParametro(a.d3,"false")),parametrosGrafica.fue=decodeURIComponent(EvaluaParametro(a.fue,"")),parametrosGrafica.tema=decodeURIComponent(EvaluaParametro(a.tema,"")),parametrosGrafica.ni=decodeURIComponent(EvaluaParametro(a.ni,"")),parametrosGrafica.obj=decodeURIComponent(EvaluaParametro(a.obj,"")),parametrosGrafica.met=decodeURIComponent(EvaluaParametro(a.met,"")),parametrosGrafica.frec=decodeURIComponent(EvaluaParametro(a.frec,"")),parametrosGrafica.desc=decodeURIComponent(EvaluaParametro(a.desc,"")),parametrosGrafica.callback=a.callback?a.callback:null,parametrosGrafica.errorBar=decodeURIComponent(EvaluaParametro(a.eb,"false")),parametrosGrafica.precision=decodeURIComponent(EvaluaParametro(a.precision,"false")),parametrosGrafica.indest=decodeURIComponent(EvaluaParametro(a.indest,"")),parametrosGrafica.tematica=decodeURIComponent(EvaluaParametro(a.tematica,"")),parametrosGrafica.paginadorCategorias=decodeURIComponent(EvaluaParametro(a.pagcat,"false")),parametrosGrafica.cicloseconomicos=decodeURIComponent(EvaluaParametro(a.cicloseconomicos,"false")),parametrosGrafica.export=EvaluaParametro(a.export,!1),parametrosGrafica.switch=EvaluaParametro(a.switch,!1),parametrosGrafica.herr=EvaluaParametro(a.herr,null),parametrosGrafica},this.ConsultaDatos=function(a){var e=this;if("true"==a.D3Enabled){"null"===a.periodoInicio||(a.periodoInicio,a.periodoFin),a.ni;var r="";if(a.indicadorID.indexOf("ODS")>-1)r="http://10.200.3.98/intraDisseminationNSIService/rest/data/TN1,DF_ODS_ZERO_HUNGER_GOAL_2_1,1.0/"+a.obj+"."+a.met+"."+a.indicadorID+"."+a.areaGeo+"."+a.frec+"."+a.desc+"."+a.fue+"..";else r="http://desarrollowww.inegi.org.mx/app/api/indicadores/desarrolladores/sdmx/rest/data/INEGI,DF_EDU,1.0/0060...1005000038..0700..?Token=96fbd1bf-21e6-28e3-6e64-2b15999d2c89";$.ajax({method:"GET",url:r,contentType:!1,jsonpCallback:"",headers:{Accept:"application/json","Accept-Language":"es-ES"}}).done(function(r){e.PintaChartD3(r,a)})}else if(""!=a.urlDatosDirectos)$.ajax({url:a.urlDatosDirectos,dataType:"json",jsonpCallback:"callback"}).done(function(r){e.PintaChartDirecto(r,a)});else if(""!=a.seriesDirectas)e.PintaSeriesDirectas(a);else if(null==a.indicadorID||""==a.indicadorID||"null"==a.indicadorID)document.getElementById("lblMensaje"+a.sufijo).innerHTML="No se proporcionaron parametros para generar la gráfica",document.getElementById("lblMensaje"+a.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+a.sufijo).style.visibility="hidden",document.getElementById("lblMensaje"+a.sufijo).className="mensajeShow",this.OcultarCarga(a.sufijo);else if(document.getElementById("tableTitulo"+a.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+a.sufijo).style.display="",""==a.tituloGrafica&&(document.getElementById("tableTitulo"+a.sufijo).style.visibility="hidden",document.getElementById("tableTitulo"+a.sufijo).style.height="0px",document.getElementById("tableTitulo"+a.sufijo).style.display="none"),condicionGrafica=EvaluaTipoGrafica(a.tipoGrafica,a.muestraPeriodos,a.indicadorID),"UnIndicadorTodosLosPeriodosUnArea"==condicionGrafica&&(areaGeo="00000"),indicadorServicio="",null!=a.indicadorID){"1"==a.tipoBie||1==a.tipoBie?(a.typeChart=2,indicadorServicio=a.indicadorID,areaGeo="null"):"Barra.H"===a.tipoGrafica&&"i"===a.orden?a.typeChart=5:a.typeChart=3,"b"==a.indicadorID.charAt(0)?(a.indicadorValorCompuesto=IndicadorCompuesto(a.indicadorID),condicionGrafica="seriesCompuestas",indicadorServicio=a.indicadorValorCompuesto.todosLosIndicadores):"Barra.K"===a.tipoGrafica?(a.indicadorValorCompuesto=IndicadoresGrupos(a.indicadorID),a.typeChart=5,indicadorServicio=a.indicadorValorCompuesto.todosLosIndicadores,a.esOportuno="null"):"Barra.L"===a.tipoGrafica?("null"!==a.periodoInicio?a.esOportuno="null":a.esOportuno="1",a.typeChart=3,indicadorServicio=a.indicadorID):indicadorServicio=a.indicadorID,a.indicadorDepurado=indicadorServicio;var i=0;"true"==a.areaCorta&&(i=1),void 0!==a.filtro&&!0===a.filtro&&"1"===a.esOportuno&&(a.esOportuno=null);var t=a.direccionServicio,o="";"v1_2"==API_V?(o=""!=a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/"):"v1_1"==API_V||(o=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/"),dirGrafica=t+("true"===a.validaDecimal?"API.svc/ValorIndicador":"API.svc/ValorIndicador2");var n=t+("true"===a.validaDecimal?"API.svc/ValorIndicador":"API.svc/ValorIndicador2");indicadorServicio.toString().length<250&&a.areaGeo.toString().length<250&&"true"===a.validaDecimal?(nombreCorto="true"==a.nombreCorto?1:0,dirGrafica+="/"+indicadorServicio+"/"+a.areaGeo+"/null/"+a.idioma+"/"+a.fuente+"/null/"+a.typeChart+"/"+a.orden+"/"+nombreCorto+"/"+a.esOportuno+"/"+a.periodoInicio+"/"+a.periodoFin+"/"+i+"/"+o+"json/"+a.token,$.getJSON(dirGrafica+"?callback=?",null,function(r){a.dataValorIndicador=r,"Linea.B"===a.tipoGrafica&&"true"===a.precision?(n+="/"+a.indest+"/"+a.areaGeo+"/null/"+a.idioma+"/"+a.fuente+"/null/"+a.typeChart+"/"+a.orden+"/"+nombreCorto+"/"+a.esOportuno+"/"+a.periodoInicio+"/"+a.periodoFin+"/"+i+"/"+o+"json/"+a.token,$.getJSON(n,null,function(i){a.dataValorIndicadorEstimacion=i;var t=i.dimension.periods.category.index.length;r.dimension.periods.category.index.length<t&&(r.dimension.periods.category=i.dimension.periods.category),e.createJSON(r,a)})):e.createJSON(r,a)})):this.DatosAtravesDePOST(dirGrafica,indicadorServicio,a)}},this.DatosAtravesDePOST=function(a,e,r){var i=DataGrafica2(e,r.areaGeo,"null",r.idioma,r.fuente,"null",r.typeChart,r.orden,r.nombreCorto,r.esOportuno,r.fechaInicio,r.fechaFin,"json",r.validaDecimal,r.token);"v1_2"==API_V&&""!=r.tematica?i.tematica=r.tematica.replace("/",""):"v1_1"==API_V||(i.tematica=r.tematica.replace("/",""));var t=this,o="POST";$.ajax({method:o,url:a,contentType:"application/json; charset=utf-8",dataType:"json",data:i,success:function(a){r.dataValorIndicador=a,t.createJSON(a,r)},error:function(a,e,r){console.log(e,r)}})},this.PintaDatosWidget=function(a,e){document.getElementById("tableInfoWidget"+e.sufijo).style.display="block",document.getElementById("tableInfoWidget"+e.sufijo).style.height="auto";var r=a.dimension.periods.category.label[a.dimension.periods.category.label.length-1].Value,i=a.value[a.value.length-1],t=e.areaGeo;t.split("|")[0],null!=t.split("|")[1]&&t.split("|")[1];document.getElementById("lblUltimoDato"+e.sufijo).innerHTML="("+r+") <b>"+i+"</b> <font style='color: gray'></font>"},this.createJSON=function(a,e){var r=void 0!==a.dimension&&null!==a.dimension.freq?a.dimension.freq.category.label[0].Value:"Mensual",i=this,t=[];if(null!=a.dimension)if(0==a.value.length)this.OcultarCarga(e.sufijo),MostrarMensajeErrorGrafica(e.sufijo,"0","No se encontraron resultados"),window.alert("No se econtraron resultados");else{"true"==e.omitevalorseriecero&&(a=OmiteValoresconCero(a));var o=Math.max.apply(Math,a.valueDecimalFormat);e.decimalUnit=o,null!=document.getElementById("tableInfoWidget"+e.sufijo)&&(document.getElementById("tableInfoWidget"+e.sufijo).style.display="none",document.getElementById("tableInfoWidget"+e.sufijo).style.height="1px"),"true"==e.esWidget&&this.PintaDatosWidget(a,e),document.getElementById("spTitulo"+e.sufijo).innerHTML=e.tituloGrafica;var n=EvaluaTipoGrafica(e.tipoGrafica,e.muestraPeriodos,e.indicadorID,e.tipoBie);"b"==e.indicadorID.charAt(0)&&(n="seriesCompuestas"),val=a.dimension,chartObj={},title={},title.text="",title.x=20;var s={verticalAlign:"left",y:-12,x:5},l={};l.buttonOptions=s,chartObj.navigation=l,credits={},credits.enabled=!1,chartObj.credits=credits;var c={fontFamily:"Arial, Helvetica, sans-serif",fontSize:"15px",fontWeight:"bold",color:"white"};title.style=c,chartObj.title=title,subtitle={},subtitle.text="",subtitle.x=-20,chartObj.subtitle=subtitle;var d={};switch(n){case"VariosIndicadoresVariasAreasGeograficasUnPeriodo":var p=function(){return"label"===e.omitevalorseriecero?0!==this.point.y&&"<i><strong>"+this.point.category+"</i><br />"+Highcharts.numberFormat(this.point.y,e.decimalUnit)+"</strong>":"<i><strong>"+this.point.category+"</i><br />"+Highcharts.numberFormat(this.point.y,e.decimalUnit)+"</strong>"};break;case"seriesCompuestas":case"UnIndicadorUnAreaVariosPeriodos":case"compuestaPeriodos":case"GruposIndicadoresUnAreaVariosPeriodos":case"UnIndicadorVariosPeriodosVariasAreas":p=function(){return"Pie.B"!==e.tipoGrafica?this.point.category+""+(null==this.point.mycustomtooltip?"":this.point.mycustomtooltip)+"<br/>"+this.series.name+", "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"label"===e.omitevalorseriecero?0!==this.point.y&&this.point.name+"<br/> "+Highcharts.numberFormat(this.point.y,e.decimalUnit):this.point.name+"<br/> "+Round10(this.point.percentage,-1)};break;case"VariosIndicadoresBar":p=function(){return void 0===this.point.mycustomtooltip||" "===this.point.mycustomtooltip?"<b>"+this.series.name+"</b><br /> "+this.point.category+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+this.series.name+"</b><br/> "+this.point.category+" "+(null==this.point.mycustomtooltip?"":this.point.mycustomtooltip)+"<br />"+Highcharts.numberFormat(this.point.y,e.decimalUnit)};break;case"UnIndicadorTodosLosPeriodosUnArea":p=function(){return e.indicadorID.split(",").length>1?this.point.category+"<br/> "+this.series.name+"<br/> "+Highcharts.numberFormat(this.point.y,e.decimalUnit):this.point.category+"<br/> "+Highcharts.numberFormat(this.point.y,e.decimalUnit)};break;case"Pie2VariosIndicadores":p=function(){return"label"===e.omitevalorseriecero?0!==this.point.y&&this.point.name+"<br/> "+Highcharts.numberFormat(this.point.y,e.decimalUnit):this.point.name+"<br/> "+Highcharts.numberFormat(this.point.y,e.decimalUnit)};break;case"UnIndicadorUnPeriodoVariasAreas":p=function(){return"label"===e.omitevalorseriecero?0!==this.point.y&&this.point.category+"<br/> "+e.periodoGrafica+", "+Highcharts.numberFormat(this.point.y,e.decimalUnit):!isNaN(this.point.y)&&this.point.category+"<br/> "+e.periodoGrafica+", "+Highcharts.numberFormat(this.point.y,e.decimalUnit)};break;default:p=function(){return null!=this.x}}p=function(){switch(e.tipoGrafica){case"Barra.A":case"Barra.D":case"Barra.J":case"Barra.H":case"Barra.I":case"Barra.K":case"Barra.I":case"Barra.L":if(1===parseInt(e.esOportuno)){var t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,1);return isFinite(String(this.point.category))?"<b>"+o+"</b><br />"+this.point.category+" "+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+o+"</b><br />"+this.point.category+" : "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}if(void 0!==this.series.userOptions.mycustomtooltip&&" "!==this.series.userOptions.mycustomtooltip)return"<b>"+this.series.name+"</b><br />"+this.point.category+": "+this.series.userOptions.mycustomtooltip;if(isFinite(String(this.point.category)))return"<b>"+this.series.name+"</b><br />"+this.point.category+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);var n=this.series.name,s=this.point.category;if("Barra.J"===e.tipoGrafica||"Barra.H"===e.tipoGrafica){var l=this.point.category.indexOf("R")>-1||this.point.category.indexOf("P")>-1?this.point.category.split(" ")[0]+" "+this.series.name:this.point.category+" "+this.series.name;s=this.point.category.indexOf("R")>-1||this.point.category.indexOf("P")>-1?this.point.category.split(" ")[0]:this.point.category;var c=(e.metadatos&&e.metadatos.CIFRAS_ESTATUS.length>0?e.metadatos.CIFRAS_ESTATUS:[]).filter(function(a){return a.periodos==l});return c.length>0&&(s=s+" "+c[0].letra),"<b>"+n+"</b><br />"+s+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}t=a.dimension.periods.category.label[0].Value;return"<b>"+(o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,1))+"</b><br /><b>"+n+"</b><br />"+s+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);case"Barra.E":if(1===parseInt(e.esOportuno)){t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,1);return isFinite(String(this.point.category))||this.point.category.indexOf("-")>-1?"<b>"+o+"</b><br />"+this.point.category+" "+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+o+"</b><br />"+this.point.category+" : "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}return isFinite(String(this.point.category))?"<b>"+this.point.category+"</b><br />"+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+this.series.name+"</b><br />"+this.point.category+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);case"Linea.L":case"Linea.B":case"Linea.H":case"Linea.F":if(1===parseInt(e.esOportuno)){t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,1);return isFinite(String(this.point.category))?"<b>"+o+"</b><br />"+this.point.category+" "+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+o+"</b><br />"+this.point.category+" : "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}return isFinite(String(this.series.name))?"<b>"+this.series.name+"</b><br />"+this.point.category+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+this.point.category+"</b><br />"+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);case"Barra.C":if(void 0===this.point.mycustomtooltip||" "===this.point.mycustomtooltip){if(1===parseInt(e.esOportuno)){t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,1);if(isFinite(String(this.point.category)))return"<b>"+o+"</b><br />"+this.point.category+" "+(this.series.name===o?"":this.series.name)+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);var d=""!==this.series.name&&"Series 1"!==this.series.name?this.series.name===o?"":"<br />"+this.series.name:"";return"<b>"+o+"</b><br />"+this.point.category+d+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}return isFinite(String(this.series.name))?"<b>"+this.series.name+"</b><br />"+this.point.category+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+this.point.category+"</b><br />"+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}return"<b>"+this.series.name+"</b><br/> "+this.point.category+" "+(null==this.point.mycustomtooltip?"":this.point.mycustomtooltip)+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);case"Barra.B":if(1===parseInt(e.esOportuno)){t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,1);if(isFinite(String(this.point.category)))return"<b>"+o+"</b><br />"+this.point.category+" "+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);d=""!==this.series.name?"<br />"+this.series.name:"";return"<b>"+o+"</b><br />"+this.point.category+d+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit)}return isFinite(String(this.series.name))?"<b>"+this.series.name+"</b><br />"+this.point.category+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+this.point.category+"</b><br />"+this.series.name+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit);case"Pie.A":case"Pie.B":if(1===parseInt(e.esOportuno)){t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,2),d="Series 1"==this.series.name?"":this.series.name;return"false"===e.muestraPorcentaje?"<b>"+o+"</b><br />"+this.point.name+" "+Highcharts.numberFormat(this.point.y,e.decimalUnit):"<b>"+o+"</b><br />"+this.point.name+" "+Highcharts.numberFormat(this.point.y,e.decimalUnit)+" %"}t=a.dimension.periods.category.label[0].Value,o=i.oMESES.getFormatoPeriodo(t,r,e.idioma,2),d="Series 1"==this.series.name?"":this.series.name;return"<b>"+o+"</b><br />"+this.point.name+" "+(-1===this.series.name.indexOf("Porcentaje")?d+": "+Highcharts.numberFormat(this.point.y,e.decimalUnit):Highcharts.numberFormat(this.point.y,e.decimalUnit)+"%");default:p=function(){if(null==this.x)this.x,null==this.point.mycustomtooltip?this.series.name.indexOf("Series")>-1||this.series.name:this.point.mycustomtooltip,Highcharts.numberFormat(this.point.y,e.decimalUnit)}}},d.formatter=p,chartObj.tooltip=d;var u=val.periods.category.label,m=a.value,f=a.dimension.indicator.category.label,h=null;if(null!=a.dimension.state&&(h=a.dimension.state.category.label),"PieVariasAreasUnIndicadorUnPeriodosX"!=n||-1==n.indexOf("Pie")){var g={};if(xTitle={},xTitle.text=e.textoEjeX,"v"==e.orientacion){var v={rotation:0};"v"==e.labelsXOrientacion&&(v.rotation=-90),g.labels=v}if("h"==e.orientacion){v={step:1,rotation:0};"v"==e.labelsXOrientacion&&(v.rotation=-90),g.labels=v}if(g.title=xTitle,t=this.CategoriesGrafica(n,u,h,f,e),g.categories=t,"true"==e.divisor_periodo){for(var b=[],y=[],x=12;x<t.length;x+=12){var I=parseInt(t[x]);b.push({color:"#FF0000",width:3,value:x-.5,zIndex:5,label:{style:{color:"#FF0000",fontWeight:"bold"},text:I,rotation:0,x:-15,y:0}})}g.plotLines=b}chartObj.xAxis=g;var P=ConstruyeYAxis(n,e.tipoGrafica,a,e);"false"===e.ejey&&(P.labels={enabled:!1})}if("Linea.B"==e.tipoGrafica){var G=[],E={value:0,width:1,color:"#808080"};G.push(E),P.plotLines=G}if(chartObj.yAxis=P,"UnIndicadorVariosPeriodosVariasAreas"==n||"UnIndicadorUnPeriodoVariasAreas"==n||"VariosIndicadoresVariasAreasGeograficasUnPeriodo"==n||"VariosIndicadoresBar"==n||"seriesCompuestas"==n||"compuestaPeriodos"==n||"UnIndicadorVariosPeriodosVariasAreas"===n||"Linea.A"==e.tipoGrafica){var V="bar";if("v"==e.orientacion&&(V="column"),"Linea.A"!=e.tipoGrafica&&"Linea.C"!=e.tipoGrafica||(V="line"),(aa={}).type=V,aa.marginTop=70,chartObj.chart=aa,"true"==e.muestraLegendSerie){var C={},O={};(A={enabled:!0,color:"black"}).style=i.EstilosLabel(),O.dataLabels=A,C.series=O,chartObj.plotOptions=C}}if("Barra.A"!=e.tipoGrafica&&"Barra.B"!=e.tipoGrafica&&"Barra.C"!=e.tipoGrafica&&"Barra.D"!=e.tipoGrafica&&"Barra.Linea.D"!=e.tipoGrafica&&"Barra.Linea.C"!=e.tipoGrafica&&"Barra.E"!=e.tipoGrafica&&"Barra.H"!=e.tipoGrafica&&"Barra.I"!=e.tipoGrafica&&"Barra.J"!=e.tipoGrafica&&"Barra.K"!=e.tipoGrafica||"v"!==e.orientacion)if("Area.Linea.A"==e.tipoGrafica){(aa={}).type=V="area",chartObj.chart=aa}else{(aa={}).type=V="bar",chartObj.chart=aa}else(aa={}).type=V="column",chartObj.chart=aa;if("Barra.A"==e.tipoGrafica||"Barra.E"==e.tipoGrafica||"VariosIndicadoresBar"==n||"seriesCompuestas"==n||"Barra.B"==e.tipoGrafica){C={};var j={},A={enabled:!0,inside:!1,color:"black"};p=function(){return"label"===e.omitevalorseriecero?0===this.y?null:Highcharts.numberFormat(this.y,o):!isNaN(this.y)&&Highcharts.numberFormat(this.y,o)};"true"==e.muestraPorcentaje&&(A.inside=!0,p=function(){return null!=this.percentage?this.percentage.toFixed(2)+"%":this.y+"%"}),A.formatter=p,"true"!=e.muestraLegendSerie&&(A.enabled=!1),"v"==e.orientacion?C.column=j:C.bar=j,A.style=i.EstilosLabel(),j.dataLabels=A;var S="normal";"true"==e.columnaSeparada&&(S=""),"Barra.E"!=e.tipoGrafica&&"true"!=e.muestraPorcentaje||"true"==e.columnaSeparada&&(S=""),"Barra.B"===e.tipoGrafica&&(A.inside=!0,A.crop=!1,A.overflow="none",A.y=3,"true"===e.muestraTotalSerie&&(P.stackLabels={enabled:!0,overflow:"none",y:-3,formatter:function(){return 0===parseInt(this.total.toFixed(1).split(".")[1])?this.total.toFixed(1):0===parseInt(this.total.toFixed(1).split(".")[1])?this.total.toFixed(1):Round10(this.total.toFixed(1),-1)},style:{color:"#4a4a4a",fontSize:"12px",fontWeight:"bold"}})),"Barra.H"===e.tipoGrafica&&"true"!=e.muestraLegendSerie?A.enabled=!1:A.enabled=!0,"Barra.H"===e.tipoGrafica&&"i"===e.orden&&(A.inside=!0,A.crop=!1),(L={}).stacking=S,C.series=L,chartObj.plotOptions=C}if("PieVariasAreasUnIndicadorUnPeriodo"==n||n.indexOf("Pie")>-1||"Pie.B"===e.tipoGrafica&&"seriesCompuestas"===n){(aa={}).type=V="pie",chartObj.chart=aa,C={},pie={},pie.allowPointSelect=!0,pie.cursor="pointer",dataLabels={},dataLabels.enabled=!0,"true"!=e.muestraLegendSerie&&(dataLabels.enabled=!1),"true"==e.muestraPorcentaje?dataLabels.format="<b>{point.name}</b>: {point.percentage:.1f} %":(d.pointFormat=" <b>{point.y:,f} </b>",chartObj.tooltip=d,dataLabels.format="<b>{point.name}</b>: {point.y:,f} "),dataLabels.style=i.EstilosLabel(),pie.dataLabels=dataLabels,pie.legend={enabled:!0},C.pie=pie,C.showInValoresGraficaLegend=!0,("seriesCompuestas"===n&&"Pie.B"===e.tipoGrafica||"Pie.A"===e.tipoGrafica)&&(dataLabels.enabled="true"==e.muestraLegendSerie,pie.showInLegend="true"==e.muestraLegendSerie,C.pie=pie,C.dataLabels=dataLabels),"Pie.B"!==e.tipoGrafica&&"Pie.A"!==e.tipoGrafica||("true"===e.mostrarLegendLinea&&"true"==e.muestraPorcentaje?dataLabels.format="<b>{point.name}</b>: {point.y:.1f} %":"false"===e.mostrarLegendLinea&&"true"==e.muestraPorcentaje&&(dataLabels.format="{point.y:.1f} %")),"true"!==e.muestraLegendSerie||"Pie.B"!==e.tipoGrafica&&"Pie.A"!==e.tipoGrafica||(pie.showInLegend=!0,C.pie=pie);d={};chartObj.plotOptions=C}var L=[],B=a.valueDecimalFormat;if(L=this.ValoresGrafica(n,f,h,u,m,t,e,B,a),"Barra.H"===e.tipoGrafica&&"i"===e.orden&&L.reverse(),"Barra.H"===e.tipoGrafica)for(var F=0;F<L.length;F++)if(-1!==L[F].name.indexOf("/")){var D="";switch(L[F].name.split("/")[1]){case"01":D="1T";break;case"02":D="2T";break;case"03":D="3T";break;case"04":D="4T"}var U=(L[F].name.split("/")[0]+"/"+D).toString();L[F].name=U}if(L=i.SeriesTendencia(n,f,h,u,L,e),""!=e.tipoSerieGrafica)for(var T=e.tipoSerieGrafica.split(","),M=0;M<T.length;M++)if(null!=L[M])if("linea"==T[M]){(w=L[M]).type="spline"}else{var w=L[M],N=aa.type;w.type=null==N?"column":N}if("seriesCompuestas"!==n&&"Pie.B"!==e.tipoGrafica&&i.ReordenaGraficaPie(L,f,e),this.ColorPuntoBarra(L,e),this.ColorPorSerie(L,e,n),this.ColorNacional(L,e,t,n),chartObj.series=L,"Barra.E"==e.tipoGrafica&&("n"==e.orden||"na"==e.orden)){var _=this.CreateSortStacks(t,L,e.orden);t=this.SortCategories(_),L=this.SortSeries(_,L),chartObj.series=L,(R=chartObj.xAxis).categories=t,chartObj.xAxis=R}if("Barra.H"==e.tipoGrafica||"Barra.J"==e.tipoGrafica||"Barra.D"==e.tipoGrafica){var R=chartObj.xAxis,H={};"h"===e.labelsXOrientacion?(H=$.extend(R,{labels:{autoRotation:[0],step:0,staggerLines:1,style:{whiteSpace:"pre",overflow:"visible",textOverflow:"none"}}}),chartObj.xAxis=H):(H=$.extend(R,{labels:{rotation:-90,step:0,staggerLines:1}}),chartObj.xAxis=H)}if("Barra.C"===e.tipoGrafica){var R=chartObj.xAxis,k=(H={},chartObj.yAxis),W={};"h"===e.orientacion?(H=$.extend(R,{labels:{autoRotation:[0],step:0,staggerLines:1,style:{whiteSpace:"pre",overflow:"visible",textOverflow:"none"}}}),chartObj.xAxis=H,"v"===e.labelsXOrientacion?(W=$.extend(k,{labels:{rotation:-90,step:0,staggerLines:1}}),chartObj.yAxis=W):(W=$.extend(k,{labels:{autoRotation:[0],step:0,staggerLines:1,style:{whiteSpace:"pre",overflow:"visible",textOverflow:"none"}}}),chartObj.yAxis=W)):(W=$.extend(k,{labels:{autoRotation:[0],step:0,staggerLines:1,style:{whiteSpace:"pre",overflow:"visible",textOverflow:"none"}}}),chartObj.yAxis=W,"h"===e.labelsXOrientacion&&(H=$.extend(R,{labels:{autoRotation:[0],step:0,staggerLines:1,style:{whiteSpace:"pre",overflow:"visible",textOverflow:"none"}}}),chartObj.xAxis=H))}if("Barra.J"===e.tipoGrafica){(aa={}).type=V="column",chartObj.chart=aa;var R=chartObj.xAxis;chartObj.xAxis=R,(v=chartObj.xAxis.labels).rotation=-90,chartObj.xAxis.labels=v}if(!("Barra.Linea.D"!=e.tipoGrafica&&"Barra.B"!=e.tipoGrafica||"pa"!=e.orden&&"pd"!=e.orden&&"na"!=e.orden)){y=[];"pa"==e.orden&&t.sort(function compare(a,e){var r=parseInt(a.split("/")[1]),i=parseInt(e.split("/")[1]),t=parseInt(a.split("/")[0]),o=parseInt(e.split("/")[0]);return t>o?-1:t<o?1:r<i?-1:r>i?1:-1})}if("Barra.B"===e.tipoGrafica){for(y=[],F=0;F<t.length;F++)if(-1!==t[F].indexOf("/")||isFinite(String(t[F]))){var Y="Quinquenal"==r||"Quinquennial"==r?"Anual":r,z=this.oMESES.getFormatoPeriodo(t[F],Y,e.idioma,1);y.push(z)}else y.push(t[F]);(R=chartObj.xAxis).categories=y,chartObj.xAxis=R}if("Linea.B"===e.tipoGrafica){for(y=[],F=0;F<t.length;F++)if(-1!==t[F].indexOf("/")||isFinite(String(t[F]))){Y="Quinquenal"==r?"Anual":r;y.push(this.oMESES.getFormatoPeriodo(t[F],Y,e.idioma,1))}else y.push(t[F]);(R=chartObj.xAxis).categories=y,chartObj.xAxis=R}if("Linea.H"===e.tipoGrafica&&"false"===e.mostrarDecrementos){for(y=[],F=0;F<t.length;F++)if(-1!==t[F].indexOf("/")||isFinite(String(t[F]))){Y="Quinquenal"==r?"Anual":r;y.push(this.oMESES.getFormatoPeriodo(t[F],Y,e.idioma,1))}else y.push(t[F]);(R=chartObj.xAxis).categories=y,chartObj.xAxis=R}if("Barra.Linea.D"===e.tipoGrafica||"Barra.A"===e.tipoGrafica){for(y=[],F=0;F<t.length;F++)-1!==t[F].indexOf("/")||isFinite(String(t[F]))?y.push(this.oMESES.getFormatoPeriodo(t[F],r,e.idioma,1)):y.push(t[F]);(R=chartObj.xAxis).categories=y,chartObj.xAxis=R}if("Barra.Linea.C"===e.tipoGrafica){for(y=[],F=0;F<t.length;F++)if(-1!==t[F].indexOf("/")||isFinite(String(t[F]))){var J=this.oMESES.getFormatoPeriodo(t[F],r,e.idioma,1);y.push(J)}else y.push(t[F]);(R=chartObj.xAxis).categories=y,chartObj.xAxis=R,chartObj.xAxis.labels={rotation:-90}}if("Pie.B"===e.tipoGrafica&&"seriesCompuestas"===n){var X={},K=[];X.name="Porcentaje:",X.colorByPoint=!0,X.data=L,K.push(X),chartObj.series=K,chartObj.chart={type:"pie"}}if(chartObj.legend=GetSeriesLegend(chartObj,n,e.muestraLegendSerie,e.esWidget,L),"Barra.C"===e.tipoGrafica&&("false"===e.mostrarLegendLinea?chartObj.legend.enabled=!1:chartObj.legend.enabled=!0),""!=e.intervaloX)if("v"==e.orientacion)null==(g=chartObj.xAxis)&&(g=[]),g.tickInterval=parseInt(e.intervaloX),chartObj.xAxis=g;else null==(P=chartObj.yAxis)&&(P=[]),P.tickInterval=parseInt(e.intervaloX),chartObj.yAxis=P;if("Barra.K"===e.tipoGrafica)chartObj.chart={type:"column"},(R=chartObj.xAxis).categories=t,chartObj.series=L,chartObj.xAxis=R,chartObj.xAxis.labels={rotation:-90};if("Barra.L"===e.tipoGrafica)(R=chartObj.xAxis).categories=t,chartObj.series=L,chartObj.xAxis=R;if("Linea.L"===e.tipoGrafica){V="line";1===L[0].data.length&&(V="column"),chartObj.chart={type:V,zoomType:"xy",panining:!0,panKey:"shift"};var q=chartObj.xAxis,Q=chartObj.yAxis;q.categories=t,chartObj.series=L,chartObj.xAxis=q,Q.lineWidth=1,chartObj.yAxis=Q}e.listaValoresPeriodos=u,e.condicionGraficaValor=n,i.EvaluaPuntoLinea(e,chartObj),i.PintarBorde(chartObj,e);var Z=0;if(null!=a.valueDecimalFormat&&a.valueDecimalFormat.length>0&&(Z=a.valueDecimalFormat[0]),i.TooltipCompartido(e,chartObj,Z,a.valueDecimalFormat),i.PintaUltimoDato(a,L,e),i.CambiaOrientacionSerie(chartObj,e),i.FijarEscalaY(chartObj,e),i.CambiaLineaABarra(t,L,e),CambiaFuenteEje(e,chartObj),"Barra.D"!==e.tipoGrafica&&"Barra.C"!==e.tipoGrafica&&"Barra.E"!==e.tipoGrafica&&"Barra.I"!==e.tipoGrafica||null!=e.maximoValorEjeY&&"null"!=e.maximoValorEjeY&&(chartObj.yAxis.max=e.maximoValorEjeY),TerminarGraficaEnEscala(e,chartObj),this.AgregaPrecedente(e,L,n,t,chartObj),this.MostrarOcultarCategories(e,L,chartObj),this.MostrarLegendEnLineas(e,chartObj),this.MostrarBarrasEn3D(e,chartObj),"true"==e.esWidget&&a.value.length<3)if(null!=chartObj.chart)chartObj.chart.type="column";else{var aa={type:"column"};chartObj.chart=aa}if("Barra.Linea.D"===e.tipoGrafica&&"true"==e.muestraLegendSerie){C={};if(L.length>0){L.length;var ea=a.valueDecimalFormat.length,ra=0,ia=0;for(a.valueDecimalFormat.reverse(),La=0;La<L.length;La++)ia=La,ra=a.valueDecimalFormat[ea/(ia+1)-1],L[La].dataLabels={enabled:!0,crop:!0,decimales:ra,format:"{point.y:,."+ra+"f}",style:{color:"#bfbfbf",fontSize:"9px",fontWeight:"normal",textOutline:".0px contrast"}}}chartObj.plotOptions=C}if("Barra.Linea.D"===e.tipoGrafica&&(chartObj.yAxis[0].gridLineWidth=0),("Barra.Linea.D"===e.tipoGrafica||"Barra.L"===e.tipoGrafica||"Linea.H"===e.tipoGrafica)&&""!==e.intervalEjesY)if(chartObj.yAxis.length>1)if(-1!==e.intervalEjesY.indexOf("|")){var ta=parseInt(e.intervalEjesY.split("|")[0]),oa=parseInt(e.intervalEjesY.split("|")[1]);ta>0&&(chartObj.yAxis[0].startOnTick=!0,chartObj.yAxis[0].tickInterval=ta),oa>0&&(chartObj.yAxis[1].startOnTick=!0,chartObj.yAxis[1].tickInterval=oa)}else{ta=parseInt(e.intervalEjesY);chartObj.yAxis[0].startOnTick=!0,chartObj.yAxis[0].tickInterval=ta}else{ta=parseInt(e.intervalEjesY);chartObj.yAxis.startOnTick=!0,chartObj.yAxis.tickInterval=ta}if(paddingAxis(e.tipoGrafica,chartObj,e),"Barra.I"==e.tipoGrafica&&FormatoComparacionNegativa(e.tipoGrafica,chartObj,t,e),-1!==e.tipoGrafica.indexOf("Pie.")){L={point:{events:{legendItemClick:function(){return!1}}}};(C=chartObj.plotOptions).series=L,chartObj.plotOptions=C}if("Barra.E"===e.tipoGrafica&&"0"===e.areaGeo){var na=650;(aa=chartObj.chart).height=na,chartObj.chart=aa}if("true"!==e.mostrarFiltroPeriodo&&"rango"!==e.mostrarFiltroPeriodo||void 0!==e.filtro||ConsultaFrecuenciaPeriodos(e,e.container),e.tipoGrafica.startsWith("Linea.")&&(chartObj.tooltip=$.extend(chartObj.tooltip,{crosshairs:!0})),e.tipoGrafica.indexOf("Barra.C")>-1&&void 0!==chartObj.plotOptions.series.stacking&&(chartObj.plotOptions.series=$.extend(chartObj.plotOptions.series,{minPointLength:1})),"Barra.D"!=e.tipoGrafica&&"Barra.B"!=e.tipoGrafica&&"Barra.E"!=e.tipoGrafica&&"Barra.H"!=e.tipoGrafica||("true"===e.mostrarLegendLinea?"true"===e.mostrarLegendDentro?(chartObj.plotOptions.series=$.extend(chartObj.plotOptions.series,{minPointLength:1}),A.inside=!0,A.enabled=!0,A.crop=!1,A.overflow="none",A.y=3):(chartObj.plotOptions.series=$.extend(chartObj.plotOptions.series,{minPointLength:1}),A&&e.mostrarLegendDentro,A.inside=!1,A.enabled=!0,A.crop=!1,A.overflow="none",A.y=3):A&&(A.enabled=!1)),"Barra.A"==e.tipoGrafica&&("true"===e.mostrarLegendLinea?(A.inside=!1,A.enabled=!0,A.crop=!1,A.overflow="none",A.y=3):A.enabled=!1),"Barra.C"==e.tipoGrafica&&("true"===e.muestraLegendSerie?(A.inside=!1,A.enabled=!0,A.crop=!1,A.overflow="none",A.y=3):A.enabled=!1),"Barra.C"===e.tipoGrafica||"Barra.D"===e.tipoGrafica||"Linea.B"===e.tipoGrafica||"Pie.A"===e.tipoGrafica||"Pie.B"===e.tipoGrafica||"Linea.H"===e.tipoGrafica){var sa="center",la="bottom",ca="";switch(e.mostrarLeyendaPosicion){case"t":case"t-h":sa="center",la="top",ca="horizontal";break;case"t-v":sa="center",la="top",ca="vertical";break;case"b":case"b-h":sa="center",la="bottom",ca="horizontal";break;case"b-v":sa="center",la="bottom",ca="vertical";break;case"l":sa="left",la="middle";break;case"r":sa="right",la="middle"}var da=chartObj.legend;da.align=sa,da.verticalAlign=la,da.layout=""===ca?"vertical":ca,chartObj.legend=da}if("Barra.Linea.C"===e.tipoGrafica&&(chartObj.legend.reversed=!0),("Barra.B"===e.tipoGrafica||"Barra.A"===e.tipoGrafica||"Linea.B"===e.tipoGrafica)&&"true"===e.errorBar&&null!=a.precition){a.errorrange=a.precition,e.precition=!0;var pa=[],ua={pointFormatter:function(r){var i='<span style="color:'+this.series.color+'">●</span> '+this.series.name+": <b>"+this.y+"</b><br/>",t=a.errorrange[this.index];if(null!==t[1]){var o=null!==t[1]?formatoNumeroMiles(t[1]):"-",n=null!==t[0]?formatoNumeroMiles(t[0]):"-",s=null!==t[2]?formatoNumeroMiles(t[2]):"-",l=null!==t[3]?formatoNumeroMiles(t[3]):"-",c=null!==t[4]?formatoNumeroMiles(t[4]):"-",d="-"!==s?"<div><label>"+getTraductor(e,"Coeficiente de variación")+" (%)</label>: "+s+"</div><br /><div><label>"+getTraductor(e,"Error estándar")+" </label>: "+l+"</div>":"",p="-"!==o?"<div><label>"+getTraductor(e,"Límite inferior")+":</label> "+n+"</div><br /><label>"+getTraductor(e,"Límite superior")+":</label> "+o+"</div><br />":"",u="-"!==c?"<div><label>"+getTraductor(e,"Intervalo de confianza")+" (%):</label> "+c+"</div>":"";return va.innerHTML=i+d+"<br />"+p+"<br />"+u,va.innerHTML}return i}};chartObj.tooltip=ua;for(var ma=0;ma<a.errorrange.length;ma++){var fa="",ha="";null!=a.errorrange[ma][0]?(fa=a.errorrange[ma][0].split(",").join(""),fa=parseFloat(fa,3),ha=a.errorrange[ma][1].split(",").join(""),ha=parseFloat(ha,3)):(fa=null,ha=null);var ga=[];ga.push(fa),ga.push(ha),pa.push(ga)}var va=document.createElement("div");L.push({type:"errorbar",enableMouseTracking:!1,color:"#FF0000",stemWidth:2,data:pa,name:"Rango de error"}),chartObj.series=L,(F=chartObj.chart).zoomType="x",F.panining=!0,chartObj.chart=F}if("Linea.B"===e.tipoGrafica&&"true"===e.precision&&null!=a.precition){var ba=a.precition,ya=ba.length;e.precition=!0;var xa=chartObj.series,Ia=""!=e.coloresSerie?e.coloresSerie.split(","):["268277","cc0000","cc0000","cc0000"],Pa=e.dataValorIndicadorEstimacion.value,Ga=""!=e.nombresSerie?e.nombresSerie.split(","):"",Ea=[],Va=[{color:"#"+Ia[1],dashStyle:"dot",nombre:""!=Ga?Ga[1]:"Limite inferior"},{color:"#"+Ia[2],dashStyle:"dot",nombre:""!=Ga?Ga[2]:"Limite superior"},{color:"#"+Ia[0],dashStyle:"line",nombre:""!=Ga?Ga[0]:"Variación"}],Ca=[0,1,3];for(F=0;F<Ca.length;F++){a=[];if(3==Ca[F])for(var Oa=Pa.length,ja=0;ja<Oa;ja++){var Aa=Pa[ja],Sa=parseFloat(Aa,3);Ea.push(Sa),a.push(Sa)}else for(var La=0;La<ya;La++){var Ba=ba[La];Sa=parseFloat(Ba[Ca[F]],3);Ea.push(Sa),a.push(Sa)}var Fa=2===F?2:1,Da={name:Va[F].nombre,color:Va[F].color,data:a,dashStyle:Va[F].dashStyle,type:"line",lineWidth:Fa,marker:{enabled:!0,symbol:"circle",radius:3}};xa.push(Da)}xa[0].type="line",xa[0].lineWidth=2,xa[0].name=""!=Ga?Ga[3]:"Estimación puntual",xa[0].color="#"+Ia[3],xa[0].dashStyle="dash",xa[0].marker={enabled:!0,symbol:"circle",radius:3};var Ua=chartObj.legend;Ua.enabled=!0,Ua.layout="vertical",Ua.verticalAlign="bottom",(F=chartObj.chart).zoomType="xy",F.panining=!0;var Ta=chartObj.yAxis;Ta.endOnTick=!1,Ta.tickInterval=1,Ta.max=Math.max.apply(null,Ea),Ta.min=Math.min.apply(null,Ea),chartObj.series=xa,chartObj.chart=F,chartObj.yAxis=Ta,chartObj.legend=Ua}if(e.tipoGrafica.indexOf("Linea.")>-1){var Ma=0,wa=L[0].data?L[0].data:[];if(wa.length>0){for(x=0;x<wa.length;x++)null!=L[0].data[x]&&Ma++;if(Ma<=2){var Na=chartObj.series.marker?chartObj.series:{marker:{enabled:!1}};Na.marker.enabled=!0,chartObj.plotOptions.series=Na}}}if("Gauge"===e.tipoGrafica){chartObj;var _a={chart:{type:"solidgauge"}};_a.title={text:e.titulo,style:{fontSize:"24px"}},_a.yAxis={min:0,max:100,lineWidth:0,tickPositions:[]},_a.plotOptions={solidgauge:{dataLabels:{enabled:!1},linecap:"round",stickyTracking:!1,rounded:!0}};var Ra=2===e.indicadorValorCompuesto.grupos.length?[{backgroundColor:"#DDD",borderWidth:0,outerRadius:"100%",innerRadius:"80%"},{backgroundColor:"#DDD",borderWidth:0,outerRadius:"75%",innerRadius:"55%"}]:[];_a.pane={startAngle:0,endAngle:360,background:Ra},_a.series=[{name:t[0],data:[{color:"#"+e.coloresSerie.split(",")[0],innerRadius:"80%",radius:"100%",y:L[0].data[0]}]},{name:t[1],data:[{color:"#"+e.coloresSerie.split(",")[1],radius:"75%",innerRadius:"55%",y:L[0].data[1]}]}],_a.tooltip={borderWidth:0,backgroundColor:"none",shadow:!1,valueSuffix:"%",useHTML:!0,style:{fontSize:"24px",fontWeight:"bold"},pointFormatter:function(a){return"<div>"+this.series.name+'</div><div style="text-align:center;font-size:2em; color: '+this.color+'; font-weight: bold;">'+this.y+"</div>"},positioner:function(a){return{x:(this.chart.chartWidth-a)/2,y:this.chart.plotHeight/2-25}}},_a.credits={enabled:!1},chartObj=_a}var Ha=this,ka=chartObj;if(void 0===ka.chart.title&&0!=e.export&&(ka.title={text:"",margin:100,floating:!1}),"true"==e.paginadorCategorias&&"Barra.A"==e.tipoGrafica&&ka.xAxis.categories.length>15){document.getElementById("cmbPaginadorDatos"+e.sufijo).innerHTML="";var $a=ka.series[0].data,Wa=ka.xAxis.categories,Ya=Wa.length,za=document.createElement("ul");za.className="pagination pagination-chart";var Ja=document.createElement("li"),Xa=document.createElement("a");Xa.style.padding="2px 10px";var Ka=document.createElement("div");Ka.style.padding="2px 8px",Ka.style.display="inline-block",Ka.style.verticalAlign="middle";var qa=[],Qa=[],Za=0,ae=[],ee=[],re=10;for(M=0;M<Ya;M++)ee[Za]=Wa[M],ae[Za]=$a[M],(++Za>re-1||M==Ya-1)&&(qa.push(ee),Qa.push(ae),Za=0,ee=[],ae=[]);arrPaginacionSeriesCategorias.push(qa),arrPaginacionSeriesCategorias.push(Qa);for(var ie=0;ie<qa.length;ie++){var te=Xa.cloneNode(!0);te.href="javascript:void(0);",te.text=ie+1,te.setAttribute("data-categories",JSON.stringify(qa[ie])),te.setAttribute("data-series",JSON.stringify(Qa[ie])),te.addEventListener("click",function(a){var r=JSON.parse(this.getAttribute("data-categories")),i=JSON.parse(this.getAttribute("data-series")),t=$("#container"+e.sufijo).highcharts();t.update({xAxis:[{categories:r}]}),t.series[0].update({data:i}),$(this).parent().addClass("active").siblings().removeClass("active")});var oe=Ja.cloneNode(!0);0==ie&&(oe.className="active"),oe.appendChild(te),za.appendChild(oe)}document.getElementById("cmbPaginadorDatos"+e.sufijo).appendChild(Ka),document.getElementById("cmbPaginadorDatos"+e.sufijo).appendChild(za),ka.xAxis.categories=qa[0],ka.series[0].data=Qa[0]}if("Linea.B"===e.tipoGrafica||"Linea.H"===e.tipoGrafica||"Linea.D"===e.tipoGrafica){aa=ka.chart?ka.chart:{};if("Linea.B"===e.tipoGrafica&&"true"===e.errorBar){var ne=ka;ne.chart.type="spline",ne.chart.panining="false",ne.plotOptions.spline={linecap:"butt"},ka=ne}else{(v=ka.xAxis.labels).rotation=-90,ka.xAxis.labels=v,aa.type="line",ka.chart=aa}}if("bar"===ka.chart.type){var se=ka.yAxis;se.labels&&(se.labels.rotation=-60,se.labels.padding=8,se.labels.style={fontSize:"11px"},ka.yAxis=se)}var le={};if(le={rules:[{condition:{maxWidth:320},chartOptions:{legend:{align:"left",useHTML:!0,verticalAlign:"bottom",layout:"horizontal",itemWidth:140,itemStyle:{fontSize:"10px",whiteSpace:"normal"},labelFormatter:function(){return'<div style="float:left; width: 100px;height;auto;white-space:normal">'+this.name+"</div>"}},xAxis:{labels:{style:{fontSize:"10px"},reserveSpace:!0,padding:6,formatter:function(){if("bar"!==ka.chart.type)return this.value.length>15&&this.value.length<20?this.value.substr(0,this.value.length/4)+"...":this.value.length>20?this.value.substr(0,this.value.length/3)+"...":this.value;var a=this.value;return a>999&&a<1e6||a<-999&&a>-1e6?(a/1e3).toFixed(1)+"K":a>1e6||a<-1e6?(a/1e6).toFixed(1)+"M":a<900||a<0&&a>-900?a:void 0}}},tooltip:{style:{width:"200px",whiteSpace:"normal"}}}},{condition:{maxWidth:460},chartOptions:{legend:{align:"left",useHTML:!0,verticalAlign:"bottom",layout:"horizontal",itemWidth:140,itemStyle:{fontSize:"10px",whiteSpace:"normal"},labelFormatter:function(){return'<div style="float:left; width: 100px;height;auto;white-space:normal">'+this.name+"</div>"}},xAxis:{labels:{step:"Barra.I"===e.tipoGrafica?0:3,reserveSpace:!0,padding:8,style:{fontSize:"11px"},formatter:function(){return this.value.length>15&&this.value.length<20?this.value.substr(0,this.value.length/4)+"...":this.value.length>20?this.value.substr(0,this.value.length/3)+"...":this.value}}},yAxis:{labels:{reserveSpace:!0,rotation:"bar"===ka.chart.type?-60:0,padding:8,style:{fontSize:"11px"},formatter:function(){if("bar"!==ka.chart.type&&"line"!==ka.chart.type)return this.value.length>15&&this.value.length<20?this.value.substr(0,this.value.length/4)+"...":this.value.length>20?this.value.substr(0,this.value.length/3)+"...":this.value;var a=this.value;return a>999&&a<1e6||a<-999&&a>-1e6?(a/1e3).toFixed(1)+"K":a>1e6||a<-1e6?(a/1e6).toFixed(1)+"M":a<900||a<0&&a>-900?a:void 0}}},tooltip:{style:{width:"200px",whiteSpace:"normal"}}}}]},ka.responsive=le,"rango"===e.mostrarFiltroPeriodo&&"null"!=e.periodoFin&&"null"!=e.periodoInicio){var ce=null;chartObj.yAxis.categories?(ce=chartObj).yAxis.tickInterval=e.periodoFin-e.periodoInicio<5?1:chartObj.yAxis.tickInterval:chartObj.xAxis.categories&&((ce=chartObj).xAxis.tickInterval=e.periodoFin-e.periodoInicio<5?1:chartObj.xAxis.tickInterval),chartObj=ce}var de=ka.chart;de.marginTop=25,null!==e.alto?de.height=e.alto:de.height=400,ka.chart=de,"Gauge"===e.tipoGrafica?Ha.DibujaChart(ka,e):this.BuscaMetaDatosGraficaPre(e,function(a){var i=a.CIFRAS_ESTATUS,o=ka.xAxis.categories;if(null!=i&&i.length>0&&"1"!==e.esOportuno&&1!==e.esOportuno){var n="",s="",l="";!0!==e.mostrarCifraEstatus&&"true"!==e.mostrarCifraEstatus||$.each(t,function(a,c){if(aGraficasNuevoMetodoPost.indexOf(e.tipoGrafica)>-1)t.length>1&&"Barra.I"!==e.tipoGrafica&&"null"==e.fechaInicio&&"null"===e.fechaFin&&("Barra.J"!==e.tipoGrafica?$.each(i,function(a,e){e.periodo_corto.indexOf(c)>-1&&"D"==(n=e.letra.replace("/",""))&&(n="")}):$.each(i,function(a,e){e.periodo_corto.indexOf(c)>-1&&("anual"===r.toLowerCase()?c!==s&&(n+=-1===n.indexOf(e.letra.replace("/",""))?" "+e.letra.replace("/",""):"",s=e.periodo_corto.split("/")[0],l=e.periodo_corto.split("/")[1]):(s=e.periodo_corto.split("/")[0],c===s&&l!=e.periodo_corto.split("/")[1]&&(n=e.letra.replace("/",""),l=e.periodo_corto.split("/")[1])),n.indexOf("D")>-1&&(n=""))}),o[a]=o[a]+" "+n);else if("Barra.B"===e.tipoGrafica||"Linea.B"===e.tipoGrafica)$.each(i,function(e,r){c===r.periodos&&(n=r.letra.replace("/","")),o[a]=o[a]+" "+n});else{var d=i.filter(function(e){return e.periodos.indexOf(c)>-1||e.periodos===t[a]});d.length>0&&(o[a]=o[a]+" "+d[0].letra.replace("/",""))}})}var c=ka.xAxis;c.categories=o,ka.xAxis=c,Ha.DibujaChart(ka,e),PintaMetadatoYUnidad(a,e)})}null!=a.ErrorCode&&(this.OcultarCarga(e.sufijo),MostrarMensajeErrorGrafica(e.container,a.ErrorCode,a.ErrorInfo),"true"==e.mostrarFiltroPeriodo&&(document.getElementById("divCmbPeriodosGrafica"+e.container).style.display="none"))},this.CategoriesGrafica=function(a,e,r,i,t){var o=[];if(""!=t.nombresCategoriasEje){var n="";if(t.nombresCategoriasEje.indexOf("°")>0)for(var s=0;s<t.nombresCategoriasEje.split("°").length;s++)n=t.nombresCategoriasEje.split("°")[s].split("|"),o.push(n[0]);else{n=t.nombresCategoriasEje.indexOf(",")>-1?t.nombresCategoriasEje.split(","):t.nombresCategoriasEje.split("|");for(s=0;s<n.length;s++)o.push(n[s])}}else{if(null==r)(r=[]).push({Key:"0",Value:"Nacional-Nacional"});if("VariosIndicadoresVariosPeriodosVariasAreas"!=a&&"UnIndicadorTodosLosPeriodosUnArea"!=a&&"VariosIndicadoresUnAreaGeograficaVariosPeriodosDosEjes"!=a&&"VariosIndicadoresVariosPeridosUnAreaMixta"!=a&&"VariosIndicadoresVariosPeriodosUnAreaLineaArea"!=a&&"VariosIndicadoresVariosPeridosUnArea2Y"!=a&&"VariosIndicadoresVariosPeriodosUnArea"!=a||$.each(e,function(a,e){"true"==t.formatoPeriodoCorto&&-1!==periodo.Value.indexOf("/")?o.push(e.Value.split("/")[0]):o.push(e.Value)}),"VariosIndicadoresPeriodosUltimoAnio"==a){var l=e[e.length-1].Value.substr(0,4);$.each(e,function(a,e){e.Value.indexOf(l)>-1&&o.push(e.Value)})}if("VariosIndicadoresBar"==a){var c=[];if($.each(i,function(a,e){var r={Key:e.Key,Descript:e.Value};c.push(r),"n"==t.orden&&o.push(e.Value)}),"null"==t.orden||""==t.orden){var d=t.indicadorDepurado.split(",");for(s=0;s<d.length;++s){var p=c.filter(function(a){return a.Key=="I_"+d[s]})[0];null!=p&&o.push(p.Descript)}}}var u="";if("VariosIndicadoresVariasAreasGeograficasUnPeriodo"!=a&&"VariosIndicadoresVariasAreasGeograficasUnPeriodo-9"!=a&&"UnIndicadorVariosPeriodosNacionalMixta"!=a||$.each(r,function(a,e){u="true"===t.areaCorta?e.Value.split("-")[0]:-1!==e.Value.indexOf("Estatal")?e.Value.split("-")[0]:e.Value.split("-")[1],o.push(u)}),"UnIndicadorUnPeriodoVariasAreas-NacionalVSEntidades"==a&&$.each(r,function(a,e){var r=e.Value.split("-")[0];"Nacional"!=r&&o.push(r)}),"compuestaPeriodos"==a&&$.each(i,function(a,e){o.push(e.Value)}),"UnIndicadorUnPeriodoVariasAreas"==a)if(""==t.topAreas)$.each(r,function(a,e){var r=-1!==e.Value.indexOf("Estatal")||-1!==e.Value.indexOf("EUM")?e.Value.split("-")[0]:e.Value.split("-")[1]+" ("+e.Value.split("-")[0]+")";e.Value.indexOf("-Estados Unidos Mexicanos")>-1&&(r=e.Value.split("-")[0]),o.push(r)});else for(s=0;s<parseInt(t.topAreas);s++)if(s<r.length){u=r[s].Value.split("-")[0];o.push(u)}if("VariosIndicadoresVariosPeriodosBIE"==a&&$.each(e,function(a,e){o.push(e.Value)}),"seriesCompuestas"==a&&"Pie.B"!==t.tipoGrafica&&$.each(t.indicadorValorCompuesto.grupos,function(a,e){o.push(e.titulo)}),"UnIndicadorUnAreaVariosPeriodos"==a){o=[];$.each(e,function(a,e){var r=null;-1!==e.Value.indexOf("/")&&(r=e.Value.split("/")[0],-1===o.indexOf(r)&&o.push(r))})}if("GruposIndicadoresUnAreaVariosPeriodos"===a){o=[];$.each(e,function(a,e){o.push(e.Value)})}if("UnIndicadorVariosPeriodosVariasAreas"==a&&$.each(r,function(a,e){var r=-1!==e.Value.indexOf("Estatal")?e.Value.split("-")[0]:e.Value.split("-")[1]+" ("+e.Value.split("-")[0]+")";o.push(r)}),"UnIndicadorVariosPeriodosVariasAreas2"==a){o=[];$.each(e,function(a,e){o.push(e.Value)})}}return o},this.ValoresGrafica=function(a,e,r,i,t,o,n,s,l){void 0!==r&&null!=r||(r=[]).push({Key:"0",Value:"Nacional-Nacional"});var c=[],d=0;colorGrafica=n.colorGrafica;if("VariosIndicadoresVariosPeriodosVariasAreas"!=a&&"UnIndicadorTodosLosPeriodosUnArea"!=a&&"VariosIndicadoresVariosPeriodosUnArea"!=a||$.each(e,function(e,o){for(var s=0;s<r.length;s++){var l={};l.name=o.Value+"-"+r[s].Value,"UnIndicadorTodosLosPeriodosUnArea"==a&&(l.name=o.Value),"Linea.F"!=n.tipoGrafica&&"Barra.F"!=n.tipoGrafica||(l.name=o.Value),"Linea.G"!=n.tipoGrafica&&"Barra.G"!=n.tipoGrafica||(l.name=r[s].Value);var p=ExcuentraIndiceIndicador(n.indicadorDepurado,o.Key.replace("I_",""));""!=n.nombresSerie&&n.nombresSerie.split(",").length>=p&&-1!=p&&(l.name=n.nombresSerie.split(",")[p],n.nombresSerie.split(",").length>1&&(l.mycustomtooltip=n.nombresSerie.split(",")[p]));for(var u=[],m=0;m<i.length;m++)AgregaValorSerie(t[d],u),d++;l.data=u,"Linea.B"==n.tipoGrafica&&(l.type="spline"),-1!=p&&(l.index=p),c.push(l)}0}),colorGrafica=n.colorGrafica,"VariosIndicadoresUnAreaGeograficaVariosPeriodosDosEjes"==a){var p=0;$.each(e,function(a,e){for(var o=0;o<r.length;o++){for(var n={},s=[],l=0;l<i.length;l++)AgregaValorSerieCompuesto(t[d],s,null,"spline",p),d++;n.data=s,n.name=e.Value,n.yAxis=p++,n.type="spline",c.push(n)}})}if("VariosIndicadoresPeriodosUltimoAnio"==a&&o.length>0){var u=i[i.length-1].Value.substr(0,4),m=d=i.length-o.length;$.each(e,function(a,e){for(var o=0;o<r.length;o++){var n={};n.name=e.Value+"-"+r[o].Value;for(var s=[],l=m;l<i.length;l++)d<t.length&&(AgregaValorSerie(t[d],s),d++);n.data=s,c.push(n)}})}if("VariosIndicadoresBar"==a&&o.length>0){u=i[i.length-1].Value.substr(0,4);var f=1,h=(m=d=0,i.length);(A={}).name=u,(C=[]).length=0;var g=0,v=[];if($.each(e,function(a,e){for(var o=0;o<r.length;o++){$.each(i,function(a,r){if(d==h*f-1){"null"!=n.orden&&AgregaValorSerieCompuestoColores(t[d],C,g++,n,0);var i={Key:e.Key,Descript:e.Value,Indvalue:t[d]};v.push(i),f++}d++})}}),"null"==n.orden)for(var b=n.indicadorDepurado.split(","),y=0;y<b.length;y++){null!=(Q=v.filter(function(a){return a.Key==="I_"+b[y]})[0])&&AgregaValorSerieCompuestoColores(Q.Indvalue,C,g++,n,0)}A.data=C,""!=colorGrafica&&(A.color="#"+colorGrafica),c.push(A)}if("UnIndicadorUnPeriodoVariasAreas"==a&&(d=i.length-1,$.each(e,function(a,e){var r={},o=[],s=0;if(""==n.topAreas)for(var l=d;l<t.length;l+=i.length)l<t.length&&(AgregaValorSerieCompuestoColores(t[l],o,s,n,0),s++);else for(l=0;l<parseInt(n.topAreas);l++)l<t.length&&(AgregaValorSerieCompuestoColores(t[l],o,s,n,0),s++);r.data=o,""!=colorGrafica&&(r.color="#"+colorGrafica),c.push(r)})),"PieVariasAreasUnIndicadorUnPeriodo"==a)if(d=i.length-1,e.length>1)$.each(e,function(a,e){var o={},n=[];o.name=" ";for(var s=0,l=d;l<t.length;l+=i.length)if(l<t.length){var p=r[s++].Value;AgregaValorSerieCompuesto(t[l],n,p.split("-")[0])}o.data=n,c.push(o)});else{c=[];for(var x={name:i[0].Value,data:[]},I=t.length,P=0;P<I;P++){var G={},E=r[P].Value.indexOf("Estatal")>-1?r[P].Value.split("-")[0]:r[P].Value.split("-")[1]+" ("+r[P].Value.split("-")[0]+")";G.name=E,G.y=parseFloat(t[P]),x.data.push(G)}c.push(x)}if("UnIndicadorVariosPeriodosNacionalMixta"==a){d=0,indexLegend=i.length-1;for(var V=0;V<i.length;V++){var C=[];(A={}).name=i[V].Value;for(var O=0;O<r.length;O++)AgregaValorSerieCompuesto(t[O+V],C);A.data=C,V==i.length-1?(A.type="column",A.index=indexLegend):(A.type="spline",A.index=indexLegend),indexLegend--,c.push(A)}}if("VariosIndicadoresVariasAreasGeograficasUnPeriodo"==a||"VariosIndicadoresVariasAreasGeograficasUnPeriodo-9"==a){d=0;r.length,V=0;var j=n.nombresSerie.split(",");for(y=0;y<e.length;y++){var A={},S=ExcuentraIndiceIndicadorInverso(n.indicadorDepurado,e[y].Key.replace("I_",""));if(-1!=S){A.index=S;try{var L=ExcuentraIndiceIndicador(n.indicadorDepurado,e[y].Key.replace("I_",""));A.name=j[L],A.legendIndex=L}catch(a){A.name=e[y].Value}}for(C=[],P=0;P<r.length;P++)V<t.length?AgregaValorSerie(t[V],C):AgregaValorSerie(null,C),V++;A.data=C,c.push(A)}}if("Pie2VariosIndicadores"==a){d=0;r.length,V=0,A={};var B=CreaTablaDatosIndicadoresPeriodos(e,i,t);A.name="";C=[];var F=n.nombresCategoriasEje.split(","),D=(b=n.indicadorDepurado.split(","),""!==n.coloresSerie?n.coloresSerie.split(","):[]);for(y=0;y<b.length;y++){var U=b[y];if(null!=(Q=B.filter(function(a){return a.indicador==="I_"+U})[0])){var T=Q.descripcion;null!=F[y]&&""!=F[y]&&(T=F[y]),AgregaValorSerieCompuesto(Q.valoresIndicador[0].valor,C,T)}}if(D.length>0)for(y=0;y<C.length;y++)C[y].color="#"+D[y];A.data=C,c.push(A)}if("UnIndicadorUnPeriodoVariasAreas-NacionalVSEntidades"==a){d=0;r.length,V=0;var M=null,w=n.indicadorDepurado.split(","),N=!1,_=2;for(y=0;y<e.length;y++){N=!1,e[y].Key.replace("I_","")==w[0]&&(N=!0),(A={}).name=N?"Porcentaje Estatal":e[y].Value;for(C=[],P=0;P<r.length;P++)V<t.length?"MEX-0-0"==r[P].Key&&N?M=t[V]:"MEX-0-0"!=r[P].Key&&AgregaValorSerieCompuesto(t[V],C,null):AgregaValorSerie(null,C),V++;A.data=C,A.index=y,N?(A.type="column",A.index=0,A.yAxis=0):(A.type="spline",A.index=_++,A.yAxis=1),c.push(A)}C=[];var R=r.length-1<=0?1:r.length-1;for(P=0;P<R;P++)AgregaValorSerieCompuesto(M,C,null);(M={}).data=C,M.name="Porcentaje Nacional",M.index=1,M.lineWidth=5,M.type="spline",M.yAxis=0;var H={enabled:!1};M.marker=H,c.push(M)}if("VariosIndicadoresVariosPeriodosBIE"==a)for(y=0;y<e.length;y++){(A={}).name=e[y].Value;for(C=[],V=0;V<i.length;V++)0==isNaN(t[d])?C.push(parseFloat(t[d])):C.push(0),d++;A.data=C,c.push(A)}if("VariosIndicadoresVariosPeridosUnAreaMixta"==a&&this.SeriesVIVPM(a,e,r,i,t,c,n),"VariosIndicadoresVariosPeridosUnArea2Y"==a&&this.SeriesMixtaDobleY(a,e,r,i,t,c,n),"seriesCompuestas"==a)if("Pie.B"===n.tipoGrafica){var k=l.dimension.indicator.category.index,W=n.indicadorValorCompuesto.grupos;c=[];$.each(W,function(a,e){var r={};r.name=e.titulo;e="I_"+e.indicadores[0];var i=k.indexOf(e);t[i];r.y=parseFloat(t[i].replace(/,/g,"")),c.push(r)})}else{u=i[i.length-1].Value.substr(0,4);d=0;f=1,h=i.length;d=h-1;for(var Y=n.indicadorValorCompuesto.grupos,z=[],J=0;J<Y.length;J++){var X=Y[J].indicadores;for(y=0;y<X.length;y++){for(var K=X[y],q=0;"0"==K;)K=[q].indicadores[y],q++;var Q;null!=(Q=e.filter(function(a){return a.Key==="I_"+K})[0])&&-1==z.indexOf(Q.Value)&&z.push(Q.Value)}}B=[];d=0;for(y=0;y<e.length;y++){var Z={};Z.indicador=e[y].Key,Z.descripcion=e[y].Value;var aa=[];$.each(i,function(a,e){var r=t[d];aa.push(r),d++}),Z.valoresIndicador=aa,B.push(Z)}for(y=0;y<X.length;y++){A={};""!=n.nombresSerie?A.name=n.nombresSerie.split(",")[y]:A.name=z[y],A.color="#"+ColorRandom(y),c.push(A)}C=[];d=0;z.length;for(var ea=0;ea<c.length;ea++)ObtieneSeriesGrupos(Y,B,z,c,ea,n.tipoGrafica);for(var ra=0;ra<c.length;ra++)if(c[ra].data)for(var ia=0;ia<c[ra].data.length;ia++)"NS"!=c[ra].data[ia]&&"ND"!=c[ra].data[ia]||(c[ra].mycustomtooltip=c[ra].data[ia],c[ra].data[ia]=0);"Barra.I"===n.tipoGrafica&&c.reverse()}if("VariosIndicadoresVariosPeriodosUnAreaLineaArea"==a&&this.SeriesVIVPAL(a,e,r,i,t,c,n),"compuestaPeriodos"==a&&this.SeriesSCP_2(a,i,e,t,c,n),"UnIndicadorUnAreaVariosPeriodos"===a){c=[];var ta=[];j=""!==n.nombresSerie?n.nombresSerie.split(","):0;$.each(i,function(a,e){-1===ta.indexOf(e.Value.split("/")[1])&&ta.push(e.Value.split("/")[1])}),$.each(ta,function(a,e){var r=[];$.each(i,function(a,i){if(i.Value.split("/")[1]===e){var o=parseFloat(t[a].replace(/,/g,""));r.push(o)}});var o="";""!=colorGrafica&&(o="#"+colorGrafica);if(j.length>0)j[a];else{var n="";4===ta.length?n=parseInt(e)+"T":3===ta.length?n=parseInt(e)+"C":2===ta.length?n=parseInt(e)+"S":6===ta.length?n=parseInt(e)+"B":12===ta.length&&(n=parseInt(e)+"A")}c.push({name:n,data:r,color:o})})}if("GruposIndicadoresUnAreaVariosPeriodos"===a){W=n.indicadorValorCompuesto.grupos;var oa=[],na=(c=[],l.dimension.indicator.category,l.dimension.periods.category),sa={};$.each(W,function(a,e){if(""===n.nombresSerie?sa.Value=e.titulo:sa.Value=n.nombresSerie.split(",")[a],void 0!==sa){var r={name:sa.Value,ind:e.indicadores,data:[]};oa.push(r)}});var la=[[49.9,71.5,106.4,129.2,144],[83.6,78.8,98.5,93.4,106]];$.each(oa,function(a,e){oa[a].data=la[a]}),c=oa}if("UnIndicadorVariosPeriodosVariasAreas"===a){oa=[],c=[],l.dimension.indicator.category,na=l.dimension.periods.category;var ca=l.dimension.state.category.label,da=l.value;sa={},D=""!==n.coloresSerie?n.coloresSerie.split(","):[];$.each(na.label,function(a,e){if(sa.Value=e.Value,void 0!==sa){var r={name:e.Value,data:[]};oa.push(r)}});var pa=0;$.each(ca,function(a,e){$.each(oa,function(a,e){var r=void 0!==da[pa]?parseFloat(da[pa].replace(/,/g,"")):parseFloat(da[pa]);D.length>0&&(oa[a].color=D[a]),oa[a].data.push(r),pa++})}),c=oa}if("UnIndicadorVariosPeriodosVariasAreas2"==a){oa=[],c=[],l.dimension.indicator.category,na=l.dimension.periods.category,ca=l.dimension.state.category.label,da=l.value,D=""!==n.coloresSerie?n.coloresSerie.split(","):[];$.each(r,function(a,e){if(void 0!==e.Value){var r={name:e.Value.indexOf("Estatal")>-1?e.Value.split("-")[0]:e.Value.split("-")[1]+" ("+e.Value.split("-")[0]+")",data:[]};oa.push(r)}}),console.log(oa);pa=0;$.each(oa,function(a,e){$.each(na.label,function(e,r){var i=void 0!==da[pa]?parseFloat(da[pa].replace(/,/g,"")):parseFloat(da[pa]);D.length>0&&(oa[a].color=D[a]),oa[a].data.push(i),pa++})}),c=oa}return c},this.ValoresComparacionNegativa=function(a,e,r,i,t){if(e.length>0){r[r.length-1].Value.substr(0,4);indexValor=r.length-e.length;var o=indexValor,n=0;$.each(listaIndicadores,function(a,e){for(var t=0;t<listaAreas.length;t++){var s={};s.name=e.Value+"-"+listaAreas[t].Value;for(var l=[],c=o;c<r.length;c++)indexValor<i.length&&(0==n?AgregaValorSerie(i[indexValor],l):AgregaValorSerieNegativo(i[indexValor],l),indexValor++);s.data=l,series.push(s)}n++})}},this.SeriesSCP=function(a,e,r,i){if("sCompuestasPeriodos"==a){e[e.length-1].Value;var t=0,o=e.length;t=o-1;for(var n=i.indicadorValorCompuesto.grupos,s=[],l=n[0].indicadores,c=0;c<l.length;c++){for(var d=l[c],p=0;"0"==d;)d=n[p].indicadores[c],p++;var u=listaIndicadores.filter(function(a){return a.Key==="I_"+d})[0];null!=u&&-1==s.indexOf(u.Value)&&s.push(u.Value)}var m=[];t=0;for(c=0;c<listaIndicadores.length;c++){var f={};f.indicador=listaIndicadores[c].Key,f.descripcion=listaIndicadores[c].Value;var h=[];$.each(e,function(a,e){h.push(r[t]),t++}),f.valoresIndicador=h,m.push(f)}var g=[];for(c=0;c<e.length;c++)g.push(e.Value);g.sort();for(c=0;c<e.length;c++){var v={};v.name=e.Value.replace("/",""),v.color="#"+ColorRandom(c),series.push(v)}t=0;s.length;for(var b=0;b<series.length;b++);}},this.SeriesSCP_2=function(a,e,r,i,t,o){e.length;for(var n=0;n<e.length;n++){var s={},l={};l.name=e[n].Value;for(var c=[],d=CreaTablaDatosIndicadoresPeriodos(r,e,i),p=o.indicadorDepurado.split(","),u=0;u<p.length;u++){var m=p[u],f=d.filter(function(a){return a.indicador==="I_"+m})[0];if(null!=f){var h=e[n].Value,g=f.valoresIndicador.filter(function(a){return a.periodo===h})[0];null!=g&&AgregaValorSerie(g.valor,c)}}l.data=c,s.serie=l,s.indicador="",t.push(l)}},this.qsortPeriodos=function(a,e,r){if(0==a.length)return[];for(var i=[],t=[],o=parseInt(a[0].replace("/","")),n=1;n<a.length;n++)null!=a[n]&&(parseInt(a[n].replace("/",""))>o?i.push(a[n].replace("/","")):t.push(a[n].replace("/","")));return this.qsort(i,e,r).concat(a[0],this.qsort(t,e,r))},this.SeriesVIVPM=function(a,e,r,i,t,o,n){var s=0,l=0,c=0,d=n.indicadorDepurado.split(",")[0];$.each(e,function(a,e){for(var p=0;p<r.length;p++){var u={};""!=n.nombresSerie?u.name=n.nombresSerie.split(",")[l]:u.name=e.Value;for(var m=[],f=0;f<i.length;f++)AgregaValorSerieCompuesto(t[s],m,null),s++;u.data=m,e.Key=="I_"+d?(u.type="column",u.index=0):(u.type="spline",u.index=c++),o.push(u),l++}})},this.SeriesMixtaDobleY=function(a,e,r,i,t,o,n){var s=0,l=(n.nombresSerie.split(","),n.coloresSerie.split(","),n.indicadorDepurado.split(",")[0]);$.each(e,function(a,e){for(var c=0;c<r.length;c++){for(var d={},p=[],u=0;u<i.length;u++)AgregaValorSerieCompuesto(t[s],p,""),s++;d.data=p,e.Key=="I_"+l?(d.type="column",d.index=0,d.yAxis=0,""!=n.nombresSerie?d.name=n.nombresSerie.split(",")[0]:d.name=e.Value,""!=n.coloresSerie&&(d.color="#"+n.coloresSerie.split(",")[0])):(""!=n.nombresSerie?d.name=n.nombresSerie.split(",")[1]:d.name=e.Value,""!=n.coloresSerie&&(d.color="#"+n.coloresSerie.split(",")[1]),d.type="spline",d.index=1,d.yAxis=1),o.push(d),0}})},this.SeriesVIVPAL=function(a,e,r,i,t,o,n){var s=0,l=0,c=0,d=n.indicadorDepurado.split(",")[0];$.each(e,function(a,e){for(var p=0;p<r.length;p++){var u={};""!=n.nombresSerie?u.name=n.nombresSerie.split(",")[l]:u.name=e.Value;for(var m=[],f=0;f<i.length;f++)AgregaValorSerieCompuesto(t[s],m,null),s++;u.data=m,e.Key=="I_"+d?(u.type="area",u.index=0):(u.type="spline",u.index=c++),o.push(u),l++}})},this.SeriesTendencia=function(a,e,r,i,t,o){if("null"!=o.valorTendencia)for(var n=1,s=1,l=t.length,c=l;c<l+1;c++){var d={};""!=o.nombresSerie?d.name=o.nombresSerie.split(",")[n]:d.name="Tendencia";for(var p=[],u=0;u<i.length;u++)AgregaValorSerieCompuesto(o.valorTendencia,p,null),0;d.data=p,d.type="spline",d.index=s++,t.push(d),n++}return t},this.CreateSortStacks=function(a,e,r){for(var i=[],t=0;t<a.length;t++){var o={};o.Category=a[t];for(var n=[],s=0;s<e.length;s++){var l={};l.name=e[s].name,l.Value=e[s].data[t],n.push(l)}o.Series=n,i.push(o)}var c=e.length-1;return this.qsort(i,c,r)},this.qsort=function(a,e,r){if(0==a.length)return[];for(var i=[],t=[],o=a[0].Series[e].Value,n=1;n<a.length;n++)"n"==r?a[n].Series[e].Value>o?i.push(a[n]):t.push(a[n]):a[n].Series[e].Value<o?i.push(a[n]):t.push(a[n]);return this.qsort(i,e,r).concat(a[0],this.qsort(t,e,r))},this.BuscaMetaDatosGraficaPre=function(a,e){this.EvaluaPeriodoMetadato(a.condicionGraficaValor,a.listaValoresPeriodos,a);var r="";if(entidadV="null",municipioV="null",a.areaGeo.indexOf("'")>-1||a.areaGeo.indexOf("|")>-1){var i=a.areaGeo;i.indexOf("'")>1&&(i=a.areaGeo.split("'")[0]),entidadV=i.toString().split("|")[0],null==entidadV&&(entidadV="null"),"0"!=i&&0!=i||(entidadV="0"),municipioV=i.toString().split("|")[1],null==municipioV&&(municipioV="0"),r=AgregarCeros(entidadV,2)+AgregarCeros(municipioV,3)}else r=a.areaGeo;var t=a.mostrarFuenteGenerica;"true"==t&&(t="1"),indicadorID=a.indicadorID,"b"==indicadorID.charAt(0)&&(indicadorID=a.indicadorValorCompuesto.todosLosIndicadores);var o=a.direccionServicio+"API.svc/MetadatoIndicador",n="";if("v1_2"==API_V?(n=""!=a.tematica?a.tematica+"/":"null/",o=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicador"):"v1_1"==API_V||(n=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",o=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicador"),a.periodoGrafica.indexOf("/")>-1?a.periodoGrafica=a.periodoGrafica.split("/")[0]:"Barra.C"!=a.tipoGrafica&&"Barra.A"!=a.tipoGrafica||a.listaValoresPeriodos.length>=1&&(a.periodoGrafica=a.listaValoresPeriodos[0].Value),indicadorID.toString().length<250&&r.toString().length<250){if(aGraficasNuevoMetodoPost.indexOf(a.tipoGrafica)>-1){var s=this.getMaxMinPeriodos(a.listaValoresPeriodos).periodoFin;a.periodoGrafica=a.periodoGrafica.indexOf("/")>-1?replaceAll(a.periodoGrafica,"/","_"):a.periodoGrafica,s=(s=s.indexOf("/")>-1?replaceAll(s,"/","_"):s).indexOf(a.periodoGrafica)>-1?s.split("_")[0]+"_12":s,o+="/"+a.idioma+"/"+indicadorID+"/"+r+"/"+a.periodoGrafica+"/"+s+"/"+a.mostrarFuenteGenerica+"/"+n+"json/"+a.token}else o+="/"+a.idioma+"/"+indicadorID+"/"+r+"/"+a.periodoGrafica+"/"+a.mostrarFuenteGenerica+"/"+n+"json/"+a.token;$.getJSON(o+"?callback=?",null,function(a){e(a)})}else if(aGraficasNuevoMetodoPost.indexOf(a.tipoGrafica)>-1){o=a.direccionServicio+"API.svc/MetadatoIndicadorV2";"v1_2"==API_V?o=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicadorV2":"v1_1"==API_V||(n=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",o=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicadorV2"),this.MetadatoPorPOSTv2(o,indicadorID,r,a,e)}else this.MetadatoPorPOST(o,indicadorID,r,a,e)},this.getMaxMinPeriodos=function(a){var e=0,r=0,i=a.length,t=a[0].Value.indexOf("/")>-1?parseInt(a[0].Value.split("/")[0]):parseInt(a[0].Value),o=a[0].Value,n=a[i-1].Value.indexOf("/")>-1?parseInt(a[i-1].Value.split("/")[0]):parseInt(a[i-1].Value),s=a[i-1].Value;return t>n?(r=o,e=s):(r=s,e=o),{periodoInicio:e,periodoFin:r}},this.BuscaMetaDatosGrafica=function(a){this.EvaluaPeriodoMetadato(a.condicionGraficaValor,a.listaValoresPeriodos,a);var e="";if(entidadV="null",municipioV="null",a.areaGeo.indexOf("'")>-1||a.areaGeo.indexOf("|")>-1){var r=a.areaGeo;r.indexOf("'")>1&&(r=a.areaGeo.split("'")[0]),entidadV=r.toString().split("|")[0],null==entidadV&&(entidadV="null"),"0"!=r&&0!=r||(entidadV="0"),municipioV=r.toString().split("|")[1],null==municipioV&&(municipioV="0"),e=AgregarCeros(entidadV,2)+AgregarCeros(municipioV,3)}else e=a.areaGeo;var i=a.mostrarFuenteGenerica;"true"==i&&(i="1"),indicadorID=a.indicadorID,"b"==indicadorID.charAt(0)&&(indicadorID=a.indicadorValorCompuesto.todosLosIndicadores);var t=a.direccionServicio+"API.svc/MetadatoIndicador",o="";if("v1_2"==API_V?(o=""!=a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicador"):"v1_1"==API_V||(o=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicador'"),a.periodoGrafica.indexOf("/")>-1?a.periodoGrafica=a.periodoGrafica.split("/")[0]:"Barra.C"!=a.tipoGrafica&&"Barra.A"!=a.tipoGrafica||a.listaValoresPeriodos.length>=1&&(a.periodoGrafica=a.listaValoresPeriodos[0].Value),indicadorID.toString().length<250&&e.toString().length<250){if(aGraficasNuevoMetodoPost.indexOf(a.tipoGrafica)>-1){var n=a.listaValoresPeriodos[0].Value.indexOf("/")>-1?replaceAll(a.listaValoresPeriodos[0].Value,"/","_"):a.listaValoresPeriodos[0].Value;a.periodoGrafica=a.periodoGrafica.indexOf("/")>-1?replaceAll(a.periodoGrafica,"/","_"):a.periodoGrafica,n=(n=n.indexOf("/")>-1?replaceAll(n,"/","_"):n).indexOf(a.periodoGrafica)>-1?n.split("_")[0]+"_12":n,t+="/"+a.idioma+"/"+indicadorID+"/"+e+"/"+a.periodoGrafica+"/"+n+"/"+a.mostrarFuenteGenerica+"/"+o+"json/"+a.token}else t+="/"+a.idioma+"/"+indicadorID+"/"+e+"/"+a.periodoGrafica+"/"+a.mostrarFuenteGenerica+"/"+o+"json/"+a.token;$.getJSON(t+"?callback=?",null,function(e){PintaMetadatoYUnidad(e,a)})}else if(aGraficasNuevoMetodoPost.indexOf(a.tipoGrafica)>-1){t=a.direccionServicio+"API.svc/MetadatoIndicadorV2";"v1_2"==API_V?t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicadorV2":"v1_1"==API_V||(o=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/API.svc/MetadatoIndicadorV2"),this.MetadatoPorPOSTv2(t,indicadorID,e,a,null)}else this.MetadatoPorPOST(t,indicadorID,e,a,null)},this.MetadatoPorPOST=function(a,e,r,i,t){var o=i.mostrarFuenteGenerica;"true"==o&&(o="1"),i.periodoGrafica.indexOf("/")>-1&&(i.periodoGrafica=i.periodoGrafica.split("/")[0]);var n={idioma:i.idioma,indicador:e,areaGeografica:r,periodo:i.periodoGrafica,mostrarGenerica:o,formato:"json",token:i.token};"v1_2"==API_V?n.tematica=""!=i.tematica?i.tematica:"null":"v1_1"==API_V||(n.tematica=""!=i.tematica&&void 0!==i.tematica?i.tematica:"null");var s=JSON.stringify(n),l="POST";$.ajax({method:l,url:a,contentType:"application/json; charset=utf-8",dataType:"json",data:s,success:function(a){"Barra.B"!==i.tipoGrafica&&"Linea.B"!==i.tipoGrafica&&"Barra.C"!==i.tipoGrafica||"function"!=typeof t?PintaMetadatoYUnidad(a,i):t(a)},error:function(a,e,r){console.log(e,r)}})},this.MetadatoPorPOSTv2=function(a,e,r,i,t){var o=i.listaValoresPeriodos[i.listaValoresPeriodos.length-1].Value,n=i.listaValoresPeriodos[0].Value;if(-1===o.indexOf("/")&&parseInt(o)<parseInt(n)){var s=n;n=o,o=s}i.periodoGrafica=i.periodoGrafica.indexOf("/")>-1?replaceAll(i.periodoGrafica,"/","_"):i.periodoGrafica,o=o.indexOf("/")>-1?replaceAll(o,"/","_"):o,n=n.indexOf("/")>-1?replaceAll(n,"/","_"):n,o=o.indexOf(i.perIni)>-1?o.split("_")[0]+"_12":o;var l=i.mostrarFuenteGenerica;"true"==l&&(l="1"),i.periodoGrafica.indexOf("/")>-1&&(i.periodoGrafica=i.periodoGrafica.split("/")[0]);var c={idioma:i.idioma,indicador:e,areaGeografica:r,periodoinicial:n,periodofinal:o,mostrarGenerica:l,formato:"json",token:i.token};"v1_2"==API_V?c.tematica=""!=i.tematica?i.tematica:"null":"v1_1"==API_V||(c.tematica=""!=i.tematica&&void 0!==i.tematica?i.tematica:"null");var d=JSON.stringify(c),p="POST";$.ajax({method:p,url:a,contentType:"application/json; charset=utf-8",dataType:"json",data:d,success:function(a){t(a)},error:function(a,e,r){console.log(e,r)}})},this.ReordenaGraficaPie=function(a,e,r){for(var i=[],t=r.nombresCategoriasEje.split(","),o=0;o<a[0].data.length;o++)i.push(a[0].data[o]);if("Pie.B"==r.tipoGrafica){var n=a;n[0].data=[];var s=r.indicadorID.split(",");for(o=0;o<s.length;o++){var l=e.filter(function(a){return a.Key==="I_"+s[o]})[0];if(null!=l){var c=i.filter(function(a){return"I_"+a.name.split("|")[0]===l.Key})[0];null!=c&&(null!=t[o]&&""!=t?c.name=t[o]:c.name=null==c.name.split("|")[1]?"":c.name.split("|")[1],n[0].data.push(c)),0}}a=n}},this.CambiaLineaABarra=function(a,e,r){if("Linea.B"==r.tipoGrafica&&a.length<=2)for(var i=0;i<e.length;i++)e[i].type="column"},this.PintaUltimoDato=function(a,e,r){if("true"==r.ultimoDato){document.getElementById("tableInfoWidget"+r.sufijo).style.display="block",document.getElementById("tableInfoWidget"+r.sufijo).style.height="auto";var i=a.dimension.periods.category.label[a.dimension.periods.category.label.length-1].Value,t=e[0].data[e[0].data.length-1];null!=t.y&&(t=t.y),document.getElementById("lblUltimoDato"+r.sufijo).innerHTML="("+i+") <b>"+t+"</b> <font style='color: gray'></font>"}},this.CambiaOrientacionSerie=function(a,e){"h"==e.orientacionSerie&&((r=null==a.legend?{}:a.legend).layout="horizontal",a.legend=r);if("true"==e.reducirSerie){var r;(r=null==a.legend?{}:a.legend).layout="horizontal";var i="8px Helvetica",t={};t.font=i,r.itemStyle=t,r.itemStyle=t,r.itemMarginTop=-10,a.legend=r}},this.FijarEscalaY=function(a,e){if("null"!=e.cantidadEscalaY){var r=null==a.yAxis?{}:a.yAxis;r.tickAmount=parseInt(e.cantidadEscalaY),a.yAxis=r}},this.EstilosLabel=function(){var a={fontWeight:"normal"};return a},this.TooltipCompartido=function(a,e,r,i){if("VariosIndicadoresVariosPeriodosUnAreaLineaArea"==a.condicionGraficaValor||"VariosIndicadoresVariosPeridosUnAreaMixta"==a.condicionGraficaValor||"VariosIndicadoresVariosPeridosUnArea2Y"==a.condicionGraficaValor||"true"==a.comparteTooltip){var t={};"Barra.Linea.D"===a.tipoGrafica&&e.series.length>1?t.formatter=function(){for(var a=this.points,e=a[0].x,r=a.length,t="",o=0;o<r;o++){var n=0;n=1==o?Highcharts.numberFormat(a[o].y,i[i.length-o]?i[i.length-o]:0):Highcharts.numberFormat(a[o].y,i[o]?i[o]:0),t+='<label style="color:'+a[o].series.color+';padding:0">'+a[o].series.name+":</label> <b>"+n+"</b><br/>"}return"<b>"+e+"</b><br />"+t}:t.pointFormat='<label style="color:{series.color};padding:0">{series.name}:</label> <b> {point.y:,.'+r+"f}</b><br/>",t.shared=!0,e.tooltip=t}},this.PintarBorde=function(a,e){if("true"==e.mostrarBorde){var r=a.chart;null==r&&(r={}),r.plotBorderWidth=1,r.plotBorderColor="#000000",a.chart=r}},this.EvaluaIntervaloEje=function(a,e){if(""!=e.intervaloX){var r=a.xAxis;null==r&&(r=[]),r.tickInterval=e.intervaloX,a.xAxis=r}},this.EvaluaPuntoLinea=function(a,e){if(a.tipoGrafica.indexOf("Linea")>-1){var r={},i={enabled:!0};"false"==a.muestraPuntoLinea&&(i.enabled=!1),r.marker=i;var t={};void 0===e.plotOptions?(t.series=r,e.plotOptions=t):e.plotOptions.series=r}},this.EvaluaFooter=function(a,e,r){var i="ambosFooter";return"true"==a&&"true"==e&&"true"==r&&(i="footerTodos"),"true"==a&&"true"==e&&(i="ambosFooter"),"true"==a&&"true"!=e&&(i="footerNota"),"true"!=a&&"true"==e&&(i="fuenteFooter"),"true"!=a&&"true"!=e&&"true"!=r&&(i="noFooter"),i},this.FooterGrafica=function(a,e,r,i){var t="",o=i.tabInd;o++;var n=document.getElementById("divFuentes"+r);return null!=n&&(n.innerHTML=""),"noFooter"!=a&&(t+='<div id="divFuentes'+r+'" style= "text-align:left;height:15%;width:100%; overflow-y: auto; display:'+MostrarAreaMetadatos(e,a)+';" tabindex="'+o+'">',"true"!=i.muestraNotaGrafica&&""==i.notaParametro&&"true"!==i.mostrarCifraEstatus||(t+='    <table id="tableTitleNotas'+r+'"></table>'),"true"==i.mostrarCifraEstatus&&(t+='    <table id="tableCifras'+r+'"></table>'),"true"!=i.muestraNotaGrafica&&""==i.notaParametro||(t+='    <table id="tableNotas'+r+'"><tbody id="dummyBody"></tbody></table>'),(i.muestraFuente||""!=i.mostrarFuentePersonalizada)&&(t+='    <table id="tableTitleFuentes'+r+'"></table>',t+='    <table id="tableFuentes'+r+'"></table>'),t+="</div>"),t},this.BuscaUnidadPorIndicador=function(a){var e=this;if("null"!=a.areaGeo&&null!=a.areaGeo&&null!=a.areaGeo)var r=AgregarCeros(a.areaGeo.split("|")[0],2),i=AgregarCeros(a.areaGeo.split("|")[1],3);else r="00",i="000";var t=a.direccionServicio,o="";"v1_2"==API_V?(o=""!=a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/"):"v1_1"==API_V||(o=""!=a.tematica&&void 0!==a.tematica?a.tematica+"/":"null/",t=C_direccionServicio_V+"_"+API_V.toLowerCase()+"/"),dirDatosIndicador=t+"/API.svc/Indicador/"+a.indicadorDepurado+"/"+r+i+"/"+a.idioma+"/true/"+o+"json/"+a.token,$.getJSON(dirDatosIndicador+"?callback=?",null,function(a){e.AgregaUnidad(a)})},this.AgregaUnidad=function(a){document.getElementById("lblUnidadMedidad"+parametros.sufijo).innerHTML=a.MetaData.Unit},this.ListaIndicadoresPorParametro=function(a,e){var r=[],i=e.indicadorDepurado.split(","),t=0;$.each(i,function(e,i){var o={idIndicador:i,indexCambiado:t++},n=$.grep(a,function(a){return a.Key=="I_"+i});0==n.length||n.length,r.push(o)})},this.ColorPuntoBarra=function(a,e){if(""!=e.coloresPunto)for(var r=e.coloresPunto.split(","),i=0;i<a.length;i++){if(void 0!==a[i].data)for(var t=0;t<a[i].data.length;t++){var o;if(t<r.length)if(null!=a[i].data[t])if(null!=a[i].data[t].y)a[i].data[t].color="#"+r[t];else(o={}).y=a[i].data[t],o.color="#"+r[t],a[i].data[t]=o}else if(null!=a[i])if(null!=a[i].y)a[i].color="#"+r[i];else(o={}).y=a[i],o.color="#"+r[i],a[i]=o}},this.ColorPorSerie=function(a,e,r){if("VariosIndicadoresVariosPeridosUnArea2Y"!=r&&""!=e.coloresSerie)for(var i=e.coloresSerie.split(","),t=0;t<a.length;t++)t<i.length&&(a[t].color="#"+i[t])},this.ColorNacional=function(a,e,r,i){if("VariosIndicadoresVariosPeridosUnArea2Y"!=i&&""!=e.colorBarraNacional){e.coloresSerie.split(",");for(var t=0;t<a[0].data.length;t++)t<r.length&&"Nacional"==r[t]&&(a[0].data[t].color="#"+e.colorBarraNacional)}},this.MostrarOcultarCategories=function(a,e,r){if("true"!=a.mostrarNombresSeriesX){for(var i=0;i<r.series.length;i++)r.series[i].showInLegend=!1;var t={};null!=r.xAxis.labels&&(t=r.xAxis.labels),t.enabled=!1,r.xAxis.labels=t}},this.AgregaPrecedente=function(a,e,r,i,t){if("UnIndicadorUnPeriodoVariasAreas"==r&&"null"!=a.precedente){for(var o=[],n=[],s=Math.floor(e[0].data.length/2)-1,l=0;l<e[0].data.length;l++)if(o.push(e[0].data[l]),l==s){var c={};c.y=parseFloat(a.precedente),c.color="#BF0B23",c.name="Precedente",o.push(c)}for(l=0;l<i.length;l++)n.push(i[l]),l==s&&n.push("Precedente");t.series[0].data=o,t.xAxis.categories=n}},this.MostrarLegendEnLineas=function(a,e){var r=this;if("true"==a.mostrarLegendLinea&&a.tipoGrafica.indexOf("Linea.")>-1){var i={};null!=e.plotOptions&&(i=e.plotOptions);var t={},o={enabled:!0,color:"black"};o.format="{point.y:,."+a.decimalUnit+"f}",o.style=r.EstilosLabel(),t.dataLabels=o,i.series=t,e.plotOptions=i}},this.MostrarBarrasEn3D=function(a,e){if("true"==a.mostrarEfecto3D&&a.tipoGrafica.indexOf("Barra.")>-1){var r={enabled:!0,alpha:10,beta:25,depth:70};e.chart.options3d=r}},this.SortCategories=function(a){for(var e=[],r=0;r<a.length;r++)e.push(a[r].Category);return e},this.SortSeries=function(a,e){for(var r=[],i=0;i<e.length;i++){for(var t=[],o=e[i],n=0;n<a.length;n++)t.push(a[n].Series[i].Value);o.data=t,r.push(o)}return r},this.cont=0,this.moChartType=null,this.moLabelsShow=!1,this.DibujaChart=function(e,r){a(r,e),addEventsMenuOpciones(r,e),r.datos=e,"noFooter"!=r.tipoFooter&&"true"!=r.esWidget||"true"==r.mostrarUnidad?(this.OcultarCarga(r.sufijo),"true"!=r.mostrarUnidad&&("Linea.H"===r.tipoGrafica&&"true"===r.mostrarDecrementos?"true"===r.cicloseconomicos?renderWidgetCiclicoV2(r):renderWidgetCiclico(r):RefreshChart(r))):(Highcharts.setOptions({exporting:{enabled:!1},lang:{numericSymbols:null,decimalPoint:".",thousandsSep:","}}),"Linea.H"===r.tipoGrafica&&"true"===r.mostrarDecrementos?"true"===r.cicloseconomicos?renderWidgetCiclicoV2(r):renderWidgetCiclico(r):($("#container"+r.sufijo).highcharts(e),r.callback&&"function"==typeof r.callback&&r.callback(r.container),$(".elementoOculto")&&$(".elementoOculto").hide()),this.OcultarCarga(r.sufijo))},this.EvaluaPeriodoMetadato=function(a,e,r){if("1"==r.esOportuno){r.periodoGrafica=e[e.length-1].Value}else{var i=r.listaValoresPeriodos;i.sort(function compare(a,e){var r=a.Value.indexOf("/")>-1?parseInt(a.Value.split("/")[1]):13,i=e.Value.indexOf("/")>-1?parseInt(e.Value.split("/")[1]):13,t=a.Value.indexOf("/")>-1?parseInt(a.Value.split("/")[0]):parseInt(a.Value),o=e.Value.indexOf("/")>-1?parseInt(e.Value.split("/")[0]):parseInt(e.Value);return t>o?-1:t<o?1:r<i?1:-1}),r.periodoGrafica=i[i.length-1].Value.indexOf("/")>-1?i[i.length-1].Value.split("/")[0]:i[i.length-1].Value}},this.PintaChartDirecto=function(a,e){_this=this,document.getElementById("tableTitulo"+e.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+e.sufijo).style.display="",""==e.tituloGrafica?(document.getElementById("tableTitulo"+e.sufijo).style.visibility="hidden",document.getElementById("tableTitulo"+e.sufijo).style.height="0px",document.getElementById("tableTitulo"+e.sufijo).style.display="none"):document.getElementById("spTitulo"+e.sufijo).innerHTML=e.tituloGrafica,Highcharts.setOptions({exporting:{enabled:!1},lang:{numericSymbols:null,decimalPoint:".",thousandsSep:","}}),PintaaMetaDatosGraficaDirecta(e),$("#container"+e.sufijo).highcharts(a),this.OcultarCarga(e.sufijo)},this.PintaSeriesDirectas=function(a){var e=this;document.getElementById("tableTitulo"+a.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+a.sufijo).style.display="",""==a.tituloGrafica?(document.getElementById("tableTitulo"+a.sufijo).style.visibility="hidden",document.getElementById("tableTitulo"+a.sufijo).style.height="0px",document.getElementById("tableTitulo"+a.sufijo).style.display="none"):document.getElementById("spTitulo"+a.sufijo).innerHTML=a.tituloGrafica,Highcharts.setOptions({exporting:{enabled:!1},lang:{numericSymbols:null,decimalPoint:".",thousandsSep:","}});var r={title:{}};if(r.title.text="",r.chart={},r.chart.type="column","v"==a.orientacion?r.chart.type="column":r.chart.type="bar","true"==a.muestraLegendSerie){var i={},t={},o={enabled:!0,color:"black"};o.style=e.EstilosLabel(),o.formatter=function(){return"label"===a.omitevalorseriecero?0===this.point.y||isNaN(this.point.y)?null:"false"!==a.decimales?Highcharts.numberFormat(this.point.y,a.decimales):Highcharts.numberFormat(this.point.y,0):!isNaN(this.point.y)&&("false"!==a.decimales?Highcharts.numberFormat(this.point.y,a.decimales):Highcharts.numberFormat(this.point.y,0))};var n="";"label"===a.omitevalorseriecero&&(n=function(){return 0===this.point.y||isNaN(this.point.y)?!isNaN(this.point.y)&&("false"!==a.decimales?Highcharts.numberFormat(this.point.y,a.decimales):Highcharts.numberFormat(this.point.y,0)):"false"!==a.decimales?Highcharts.numberFormat(this.point.y,a.decimales):Highcharts.numberFormat(this.point.y,0)}),t.dataLabels=o,i.series=t,r.plotOptions=i}var s=a.nombresSerie.split(","),l=a.seriesDirectas.split(","),c=[],d=s.length;if("true"==a.omitevalorseriecero)for(var p=0;p<d;p++)"0"===l[p]||isNaN(l[p])||c.push(s[p]);else for(p=0;p<d;p++)isNaN(l[p])||c.push(s[p]);var u={};u.categories=c,r.xAxis=u;var m={};m.title={text:a.textoEjeY},"false"===a.ejey&&(m.labels={enabled:!1}),r.yAxis=m;var f=[],h=!1;""!=a.coloresSerie&&(h=!0);var g=a.coloresSerie.split(","),v=l.length;if("true"==a.omitevalorseriecero){for(p=0;p<v;p++)if("0"!==l[p]&&!isNaN(l[p])){var b=parseFloat(l[p]);h&&((b={}).y=parseFloat(l[p]),b.color="#"+g[p]),f.push(b)}}else for(p=0;p<v;p++)if(!isNaN(l[p])){b=parseFloat(l[p]);h&&((b={}).y=parseFloat(l[p]),b.color="#"+g[p]),f.push(b)}var y={name:""};y.data=f,r.series=[],r.series.push(y),r.legend={},r.legend.enabled=!1;var x={pointFormat:" <b>{point.y}</b>"};x.formatter=n,r.tooltip=x,credits={},credits.enabled=!1,r.credits=credits,a.datos=r,e.OcultarCarga(a.sufijo),PintaaMetaDatosGraficaDirecta(a),$("#container"+a.sufijo).highcharts(r)},this.PintaChartD3=function(a,e){var r=this,i=["#006064","#80cbc4","#73B281","#FA854B","#008D8B","#f06292","#aed581","#ffd54f","#6ACCAE","#E88A80","#B26160","#C9B4FF","#70B28D","#95B279","#7FF8FF","#B4FFCA","#E8D957","#E8B1DD","#FF192F","#97B27E","#30B2A1","#FF7C43","#FFED34","#FFB843","#B23034","#CB6168","#80cbc4","#73B281","#FA854B","#6ACCAE","#E88A80","#B26160"];if(1==a.hasOwnProperty("dataSets")){for(var t=a.dataSets[0].series,o=Object.keys(t),n=[],s=[],l=a.structure.dimensions.series[0].values[0].name,c=(a.structure.dimensions.series[0].values[0].id,a.structure.dimensions.observation[0].values),d="line",p=0;p<o.length;p++)for(var u=t[o[p]].observations,m=Object.keys(u),f=0;f<m.length;f++){var h=u[m[f]];n.push(h[0])}for(var g=0;g<c.length;g++)s.push(c[g].name);for(var v=[],b=0;b<s.length;b++)v.push(n[b]);v.length<3&&(d="bar"),v.unshift(l);var y=Math.max.apply(null,n),x=Math.min.apply(null,n);document.getElementById("tableTitulo"+e.sufijo).style.visibility="visible",document.getElementById("tableTitulo"+e.sufijo).style.display="",""==e.tituloGrafica?(document.getElementById("tableTitulo"+e.sufijo).style.visibility="hidden",document.getElementById("tableTitulo"+e.sufijo).style.height="0px",document.getElementById("tableTitulo"+e.sufijo).style.display="none"):document.getElementById("spTitulo"+e.sufijo).innerHTML=e.tituloGrafica;c3.generate({bindto:"#container"+e.sufijo,color:{pattern:i},transition:{duration:2e3},data:{columns:[v],type:d,labels:{format:function(a,e,r,i){d3.format(",");return Round10(a,-1)}}},axis:{x:{type:"category",show:!0,categories:s,tick:{culling:!1,rotate:-90,multiline:!0,multilineMax:2},padding:{left:0,right:0}},y:{show:!0,tick:{count:5},max:Math.floor("null"==e.maximoValorEjeY?y:e.maximoValorEjeY)+1,min:Math.floor("false"==e.ajusteEjeOriginal?0:x),padding:0}},legend:{show:!0},tooltip:{show:!0,contents:function(a,e,r,t){var o=a[0].name,n=s[a[0].index],l=a[0].value.toFixed(1);return'<div class="c3-tpl-tooltip"><div style="font-weight:bold;color:'+i[0]+';">'+n+"</div><div><span>"+o+'</span>: <span  style="font-weight:bold;">'+l.toLocaleString("en-IN")+"</span></div>"}},grid:{y:{show:!0}},bar:{width:{ratio:.6}}})}else document.getElementById("container"+e.sufijo).innerHTML="Sin datos para graficar";r.OcultarCarga(e.sufijo),PintaaMetaDatosGraficaDirecta(e)}}function EvaluaParametro(a,e){var r=a;return null==a&&(r=e),null==a&&(r=e),r}var resizeOrig=$(window).resize;rszGraf=function(){var a=document.getElementsByName("grafHCC");if(a.length>0)for(var e=0;e<a.length;e++){var r=a[e].id;null!=$("#"+r).highcharts()&&$("#"+r).highcharts().reflow()}},$(window).resize(function(){rszGraf()});